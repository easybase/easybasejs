{"version":3,"sources":["webpack://Easybase/webpack/universalModuleDefinition","webpack://Easybase/webpack/bootstrap","webpack://Easybase/./node_modules/easyqb/src/lib-util/index.js","webpack://Easybase/./node_modules/cross-fetch/dist/browser-ponyfill.js","webpack://Easybase/./node_modules/easyqb/src/lib-sq/common/from_items.js","webpack://Easybase/./node_modules/easyqb/src/lib-sq/common/values_array.js","webpack://Easybase/./node_modules/easyqb/src/lib-sq/common/conditions.js","webpack://Easybase/./node_modules/fast-deep-equal/index.js","webpack://Easybase/./node_modules/easyqb/src/index.js","webpack://Easybase/./node_modules/easyqb/src/lib-sq/common/expressions.js","webpack://Easybase/./node_modules/easyqb/src/lib-sq/common/limit_offset.js","webpack://Easybase/./node_modules/easyqb/src/lib-util/tagged_template.js","webpack://Easybase/./node_modules/easyqb/src/lib-sq/clauses/index.js","webpack://Easybase/./node_modules/easyqb/src/lib-core/index.js","webpack://Easybase/./node_modules/easyqb/src/builder-sq/index.js","webpack://Easybase/./node_modules/easyqb/src/builder-sq/context.js","webpack://Easybase/./node_modules/easyqb/src/builder-expression/index.js","webpack://Easybase/./node_modules/easyqb/src/builder-expression/compile.js","webpack://Easybase/./node_modules/easyqb/src/lib-util/build_utils.js","webpack://Easybase/./node_modules/easyqb/src/lib-util/change_case.js","webpack://Easybase/./node_modules/easyqb/src/dialect-postgres/index.js","webpack://Easybase/./node_modules/easyqb/src/dialect-postgres/query.js","webpack://Easybase/./node_modules/easyqb/src/lib-sq/index.js","webpack://Easybase/./node_modules/easyqb/src/lib-sq/methods.js","webpack://Easybase/./node_modules/easyqb/src/lib-sq/query.js","webpack://Easybase/./node_modules/easyqb/src/lib-sq/clauses/with.js","webpack://Easybase/./node_modules/easyqb/src/lib-sq/clauses/select.js","webpack://Easybase/./node_modules/easyqb/src/lib-sq/clauses/from.js","webpack://Easybase/./node_modules/easyqb/src/lib-sq/clauses/where.js","webpack://Easybase/./node_modules/easyqb/src/lib-sq/clauses/group.js","webpack://Easybase/./node_modules/easyqb/src/lib-sq/clauses/having.js","webpack://Easybase/./node_modules/easyqb/src/lib-sq/clauses/setop.js","webpack://Easybase/./node_modules/easyqb/src/lib-sq/clauses/order.js","webpack://Easybase/./node_modules/easyqb/src/lib-sq/clauses/limit.js","webpack://Easybase/./node_modules/easyqb/src/lib-sq/clauses/offset.js","webpack://Easybase/./node_modules/easyqb/src/lib-sq/clauses/delete.js","webpack://Easybase/./node_modules/easyqb/src/lib-sq/clauses/returning.js","webpack://Easybase/./node_modules/easyqb/src/lib-sq/clauses/insert.js","webpack://Easybase/./node_modules/easyqb/src/lib-sq/clauses/update.js","webpack://Easybase/./node_modules/easyqb/src/lib-sq/clauses/set.js","webpack://Easybase/./node_modules/easyqb/src/lib-sq/common/index.js","webpack://Easybase/./node_modules/easyqb/src/dialect-postgres/expression.js","webpack://Easybase/./node_modules/easyqb/src/lib-expression/index.js","webpack://Easybase/./node_modules/easyqb/src/lib-expression/util.js","webpack://Easybase/./node_modules/easyqb/src/dialect-postgres/parameterize.js","webpack://Easybase/./src/EasybaseProvider/types.ts","webpack://Easybase/./src/EasybaseProvider/g.ts","webpack://Easybase/./src/EasybaseProvider/object-observer.js","webpack://Easybase/./src/EasybaseProvider/utils.ts","webpack://Easybase/./src/EasybaseProvider/auth.ts","webpack://Easybase/./src/EasybaseProvider/EasybaseProvider.ts","webpack://Easybase/./src/EasybaseProvider/table.ts","webpack://Easybase/./src/EasybaseProvider/db.ts","webpack://Easybase/./src/index.ts"],"names":["root","factory","exports","module","define","amd","window","webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","installedModules","0","__webpack_require__","l","e","promises","installedChunkData","promise","Promise","resolve","reject","onScriptComplete","script","document","createElement","charset","timeout","nc","setAttribute","src","p","jsonpScriptSrc","error","Error","event","onerror","onload","clearTimeout","chunk","errorType","type","realSrc","target","message","name","request","undefined","setTimeout","head","appendChild","all","m","c","d","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","oe","err","console","jsonpArray","oldJsonpFunction","slice","s","buildUtils","changeCase","taggedTemplate","global","self","this","__self__","F","fetch","DOMException","support","Blob","viewClasses","isArrayBufferView","ArrayBuffer","isView","obj","indexOf","toString","normalizeName","String","test","TypeError","toLowerCase","normalizeValue","iteratorFor","items","iterator","next","done","Headers","headers","map","forEach","append","Array","isArray","header","getOwnPropertyNames","consumed","body","bodyUsed","fileReaderReady","reader","result","readBlobAsArrayBuffer","blob","FileReader","readAsArrayBuffer","bufferClone","buf","view","Uint8Array","byteLength","set","buffer","Body","_initBody","_bodyInit","_bodyText","isPrototypeOf","_bodyBlob","FormData","_bodyFormData","URLSearchParams","DataView","_bodyArrayBuffer","rejected","arrayBuffer","then","text","readAsText","chars","fromCharCode","join","readArrayBufferAsText","formData","decode","json","JSON","parse","oldValue","has","callback","thisArg","keys","values","entries","methods","Request","input","options","method","upcased","url","credentials","signal","toUpperCase","referrer","form","trim","split","bytes","replace","decodeURIComponent","Response","bodyInit","status","ok","statusText","clone","response","redirectStatuses","redirect","RangeError","location","stack","constructor","init","aborted","xhr","XMLHttpRequest","abortXhr","abort","rawHeaders","getAllResponseHeaders","line","parts","responseURL","responseText","ontimeout","onabort","open","withCredentials","responseType","setRequestHeader","addEventListener","onreadystatechange","readyState","removeEventListener","send","polyfill","ponyfill","ctx","default","isObject","buildCall","mapJoin","objectMapJoin","conditions","valuesArray","start","end","txt","item","fromItem","args","on","using","arg","build","buildObject","mapKey","columns","array","uniqueKeys","source","j","isTaggedTemplate","buildTaggedTemplate","valuesList","callbackfn","equal","a","b","RegExp","flags","valueOf","core","dialect","from","parameterize","strings","raw","wth","select","where","group","having","setop","order","limit","offset","del","returning","insert","update","createQueryBuilder","createExpressionBuilder","memoize","normalKey","_build","unparameterized","escape","config","query","expression","defaultContext","createNewContext","createChain","chain","fn","prev","setPrototypeOf","createReducers","reducers","updateContext","properties","applyReducers","express","id","builderProperties","newContext","queries","inheritedContext","methodProperties","extend","arr","builder","executeProperties","one","async","oneCallback","tableName","userAssociatedRecordsOnly","allCallback","_tableName","_methodProperties","defineProperties","inherit","params","whr","separator","sql","ret","frm","grp","hav","ord","with","createExpressionCompiler","aggregator","op","columnName","expressions","compile","max","min","avg","count","sum","current","buildCalls","calls","last","pushCall","tag","createCallsCompiler","expressionTable","exp","minArgs","maxArgs","numArgs","callsCompiler","mapJoinWrap","close","cache","given_key","clauses","common","fromItems","distinctOn","distinct","delete","rollup","cube","groupingSets","withRecursive","recursive","return","groupBy","union","unionAll","intersect","intersectAll","except","exceptAll","orderBy","leftJoin","rightJoin","fullJoin","crossJoin","naturalJoin","naturalLeftJoin","naturalRightJoin","naturalFullJoin","clause","str","userType","buildDistinct","buildArg","buildArrayArg","buildCubeOrRollupArg","buildCubeOrRollupArrayArg","first","by","sort","nulls","limitOffset","buildValuesArray","unaryPre","unaryPost","unaryFunction","binary","ternary","nary","naryFunction","oneValue","compositeValue","membership","quantifiedComparison","dateBinary","row","unknown","boolean","number","string","table","and","or","not","isTrue","isNotTrue","isFalse","isNotFalse","isUnknown","isNotUnknown","comparison","eq","neq","lt","gt","lte","gte","between","isDistinctFrom","isNotDistinctFrom","isNull","isNotNull","in","notIn","eqAny","neqAny","ltAny","gtAny","lteAny","gteAny","eqAll","neqAll","ltAll","gtAll","lteAll","gteAll","dateComparison","dateLt","dateGt","dateLte","dateGte","math","add","sub","mul","div","mod","sqrt","cbrt","fact","abs","like","notLike","unnest","Number","MAX_SAFE_INTEGER","op1","op2","arg1","arg2","buildValuesList","inDate","getMonth","getFullYear","getDate","escapeLiteral","stringify","hasBackslash","escaped","POST_TYPES","DB_STATUS","EXECUTE_COUNT","GlobalNamespace","oMetaKey","validObservableOptionKeys","validObserverOptionKeys","path","pathsOf","pathsFrom","propertiesBluePrint","observe","observer","observers","some","warn","opts","filter","invalidOptions","option","processObserveOptions","unobserve","oMeta","ol","al","arguments","splice","prepareObject","getObservedOf","prepareArray","prepareTypedArray","filterChanges","changes","oPath","change","oPathsOf","oPathsFrom","startsWith","callObserverSafe","listener","callObserversFromMT","batches","callObservers","relevantChanges","newPath","tmp","currentObservable","queueMicrotask","rb","find","apply","tmpa","parent","ownKey","ArrayOMeta","proxy","TypedArrayOMeta","Date","ObjectOMeta","proxiedReverse","reverse","tmpObserved","proxiedSort","comparator","proxiedFill","filVal","tarLen","Math","fill","tmpTarget","detach","proxiedCopyWithin","dest","len","copyWithin","nItem","oItem","proxiedArrayMethods","pop","poppedIndex","popResult","pushContent","initialLength","pushResult","Reflect","shiftResult","unshift","unshiftContent","unshiftResult","splLen","spliceContent","startIndex","removed","inserted","spliceResult","newTarLen","index","proxiedTypedArrayMethods","souLen","OMetaBase","cloningFunction","targetClone","revocable","Proxy","processOptions","assign","newValue","super","Observable","freeze","utilsFactory","globals","g","generateAuthBody","stamp","now","token","token_time","session","generateBareUrl","integrationID","log","logging","authFactory","_clearTokens","refreshToken","newTokenCallback","userID","initAuth","t1","floor","random","instance","integrationType","ebconfig","integration","res","HANDSHAKE","version","tt","resData","mounted","validTokenRes","tokenPost","VALID_TOKEN","elapsed","success","postType","_auth","ErrorCode","req_res","REQUEST_TOKEN","code","errorCode","tokenPostAttachment","customHeaders","regularAuthbody","attachmentAuth","UPLOAD_ATTACHMENT","signUp","newUserID","password","userAttributes","signUpRes","SIGN_UP","analyticsEnabled","analyticsEventsToTrack","sign_up","analyticsEvent","setUserAttribute","setAttrsRes","SET_ATTRIBUTE","set_user_attribute","getUserAttributes","attrsRes","USER_ATTRIBUTES","get_user_attributes","signIn","hash","fromUtf8","login","hashOut","GA_USER_ID_SALT","hexHash","x","analyticsIdentify","signOut","resetUserPassword","currentPassword","newPassword","RESET_PASSWORD","reset_user_password","forgotPassword","username","emailTemplate","FORGOT_PASSWORD_SEND","forgot_password","forgotPasswordConfirm","FORGOT_PASSWORD_CONFIRM","forgot_password_confirm","EasybaseProvider","defaultG","googleAnalyticsEventTracking","gFactory","Query","fullTableSize","tableTypes","fullOptions","queryName","GET_QUERY","TABLE_SIZE","full_table_size","COLUMN_TYPES","table_types","tableFactory","db","dbEventListener","setFile","setImage","setVideo","_listenerIndex","_listeners","_runListeners","cb","trx","PENDING","ALL","EASY_QB","db_all","SUCCESS","ERROR","ONE","db_one","_setAttachment","recordKey","attachment","ext","includes","currKey","image","file","video","dbFactory","_isFrameInitialized","_frameConfiguration","_observedChangeStack","_recordIdMap","WeakMap","_observableFrame","_","_frame","isSyncing","sync","SYNC_STACK","GET_FRAME","newData","isNewDataTheSame","newDataNoId","_id","oldframe","currNewEle","allChanges","_realignFrames","_updateRecordAttachment","_frameRecord","ele","record","uri","configureFrame","addRecord","insertAtEnd","newRecord","SYNC_INSERT","deleteRecord","SYNC_DELETE","Frame","currentConfiguration","updateRecordImage","updateRecordVideo","updateRecordFile","isBadInt","my_int","isBadString","my_string","isBadIntegrationID","isBadObject","my_obj","defaultOptions","authentication","customQuery","fetch_body","post","defaultValues","my_bool","updateValues","Delete","callFunction","route","postBody"],"mappings":"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","file":"bundle.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"Easybase\"] = factory();\n\telse\n\t\troot[\"Easybase\"] = factory();\n})(window, function() {\nreturn "," \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t};\n\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t0: 0\n \t};\n\n\n\n \t// script path function\n \tfunction jsonpScriptSrc(chunkId) {\n \t\treturn __webpack_require__.p + \"\" + chunkId + \".bundle.js\"\n \t}\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n \t// This file contains only the entry chunk.\n \t// The chunk loading function for additional chunks\n \t__webpack_require__.e = function requireEnsure(chunkId) {\n \t\tvar promises = [];\n\n\n \t\t// JSONP chunk loading for javascript\n\n \t\tvar installedChunkData = installedChunks[chunkId];\n \t\tif(installedChunkData !== 0) { // 0 means \"already installed\".\n\n \t\t\t// a Promise means \"currently loading\".\n \t\t\tif(installedChunkData) {\n \t\t\t\tpromises.push(installedChunkData[2]);\n \t\t\t} else {\n \t\t\t\t// setup Promise in chunk cache\n \t\t\t\tvar promise = new Promise(function(resolve, reject) {\n \t\t\t\t\tinstalledChunkData = installedChunks[chunkId] = [resolve, reject];\n \t\t\t\t});\n \t\t\t\tpromises.push(installedChunkData[2] = promise);\n\n \t\t\t\t// start chunk loading\n \t\t\t\tvar script = document.createElement('script');\n \t\t\t\tvar onScriptComplete;\n\n \t\t\t\tscript.charset = 'utf-8';\n \t\t\t\tscript.timeout = 120;\n \t\t\t\tif (__webpack_require__.nc) {\n \t\t\t\t\tscript.setAttribute(\"nonce\", __webpack_require__.nc);\n \t\t\t\t}\n \t\t\t\tscript.src = jsonpScriptSrc(chunkId);\n\n \t\t\t\t// create error before stack unwound to get useful stacktrace later\n \t\t\t\tvar error = new Error();\n \t\t\t\tonScriptComplete = function (event) {\n \t\t\t\t\t// avoid mem leaks in IE.\n \t\t\t\t\tscript.onerror = script.onload = null;\n \t\t\t\t\tclearTimeout(timeout);\n \t\t\t\t\tvar chunk = installedChunks[chunkId];\n \t\t\t\t\tif(chunk !== 0) {\n \t\t\t\t\t\tif(chunk) {\n \t\t\t\t\t\t\tvar errorType = event && (event.type === 'load' ? 'missing' : event.type);\n \t\t\t\t\t\t\tvar realSrc = event && event.target && event.target.src;\n \t\t\t\t\t\t\terror.message = 'Loading chunk ' + chunkId + ' failed.\\n(' + errorType + ': ' + realSrc + ')';\n \t\t\t\t\t\t\terror.name = 'ChunkLoadError';\n \t\t\t\t\t\t\terror.type = errorType;\n \t\t\t\t\t\t\terror.request = realSrc;\n \t\t\t\t\t\t\tchunk[1](error);\n \t\t\t\t\t\t}\n \t\t\t\t\t\tinstalledChunks[chunkId] = undefined;\n \t\t\t\t\t}\n \t\t\t\t};\n \t\t\t\tvar timeout = setTimeout(function(){\n \t\t\t\t\tonScriptComplete({ type: 'timeout', target: script });\n \t\t\t\t}, 120000);\n \t\t\t\tscript.onerror = script.onload = onScriptComplete;\n \t\t\t\tdocument.head.appendChild(script);\n \t\t\t}\n \t\t}\n \t\treturn Promise.all(promises);\n \t};\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// on error function for async loading\n \t__webpack_require__.oe = function(err) { console.error(err); throw err; };\n\n \tvar jsonpArray = window[\"webpackJsonpEasybase\"] = window[\"webpackJsonpEasybase\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 45);\n","const buildUtils = require('./build_utils')\nconst changeCase = require('./change_case')\nconst taggedTemplate = require('./tagged_template')\n\nmodule.exports = {\n  ...buildUtils,\n  ...changeCase,\n  ...taggedTemplate\n}","var global = typeof self !== 'undefined' ? self : this;\nvar __self__ = (function () {\nfunction F() {\nthis.fetch = false;\nthis.DOMException = global.DOMException\n}\nF.prototype = global;\nreturn new F();\n})();\n(function(self) {\n\nvar irrelevant = (function (exports) {\n\n  var support = {\n    searchParams: 'URLSearchParams' in self,\n    iterable: 'Symbol' in self && 'iterator' in Symbol,\n    blob:\n      'FileReader' in self &&\n      'Blob' in self &&\n      (function() {\n        try {\n          new Blob();\n          return true\n        } catch (e) {\n          return false\n        }\n      })(),\n    formData: 'FormData' in self,\n    arrayBuffer: 'ArrayBuffer' in self\n  };\n\n  function isDataView(obj) {\n    return obj && DataView.prototype.isPrototypeOf(obj)\n  }\n\n  if (support.arrayBuffer) {\n    var viewClasses = [\n      '[object Int8Array]',\n      '[object Uint8Array]',\n      '[object Uint8ClampedArray]',\n      '[object Int16Array]',\n      '[object Uint16Array]',\n      '[object Int32Array]',\n      '[object Uint32Array]',\n      '[object Float32Array]',\n      '[object Float64Array]'\n    ];\n\n    var isArrayBufferView =\n      ArrayBuffer.isView ||\n      function(obj) {\n        return obj && viewClasses.indexOf(Object.prototype.toString.call(obj)) > -1\n      };\n  }\n\n  function normalizeName(name) {\n    if (typeof name !== 'string') {\n      name = String(name);\n    }\n    if (/[^a-z0-9\\-#$%&'*+.^_`|~]/i.test(name)) {\n      throw new TypeError('Invalid character in header field name')\n    }\n    return name.toLowerCase()\n  }\n\n  function normalizeValue(value) {\n    if (typeof value !== 'string') {\n      value = String(value);\n    }\n    return value\n  }\n\n  // Build a destructive iterator for the value list\n  function iteratorFor(items) {\n    var iterator = {\n      next: function() {\n        var value = items.shift();\n        return {done: value === undefined, value: value}\n      }\n    };\n\n    if (support.iterable) {\n      iterator[Symbol.iterator] = function() {\n        return iterator\n      };\n    }\n\n    return iterator\n  }\n\n  function Headers(headers) {\n    this.map = {};\n\n    if (headers instanceof Headers) {\n      headers.forEach(function(value, name) {\n        this.append(name, value);\n      }, this);\n    } else if (Array.isArray(headers)) {\n      headers.forEach(function(header) {\n        this.append(header[0], header[1]);\n      }, this);\n    } else if (headers) {\n      Object.getOwnPropertyNames(headers).forEach(function(name) {\n        this.append(name, headers[name]);\n      }, this);\n    }\n  }\n\n  Headers.prototype.append = function(name, value) {\n    name = normalizeName(name);\n    value = normalizeValue(value);\n    var oldValue = this.map[name];\n    this.map[name] = oldValue ? oldValue + ', ' + value : value;\n  };\n\n  Headers.prototype['delete'] = function(name) {\n    delete this.map[normalizeName(name)];\n  };\n\n  Headers.prototype.get = function(name) {\n    name = normalizeName(name);\n    return this.has(name) ? this.map[name] : null\n  };\n\n  Headers.prototype.has = function(name) {\n    return this.map.hasOwnProperty(normalizeName(name))\n  };\n\n  Headers.prototype.set = function(name, value) {\n    this.map[normalizeName(name)] = normalizeValue(value);\n  };\n\n  Headers.prototype.forEach = function(callback, thisArg) {\n    for (var name in this.map) {\n      if (this.map.hasOwnProperty(name)) {\n        callback.call(thisArg, this.map[name], name, this);\n      }\n    }\n  };\n\n  Headers.prototype.keys = function() {\n    var items = [];\n    this.forEach(function(value, name) {\n      items.push(name);\n    });\n    return iteratorFor(items)\n  };\n\n  Headers.prototype.values = function() {\n    var items = [];\n    this.forEach(function(value) {\n      items.push(value);\n    });\n    return iteratorFor(items)\n  };\n\n  Headers.prototype.entries = function() {\n    var items = [];\n    this.forEach(function(value, name) {\n      items.push([name, value]);\n    });\n    return iteratorFor(items)\n  };\n\n  if (support.iterable) {\n    Headers.prototype[Symbol.iterator] = Headers.prototype.entries;\n  }\n\n  function consumed(body) {\n    if (body.bodyUsed) {\n      return Promise.reject(new TypeError('Already read'))\n    }\n    body.bodyUsed = true;\n  }\n\n  function fileReaderReady(reader) {\n    return new Promise(function(resolve, reject) {\n      reader.onload = function() {\n        resolve(reader.result);\n      };\n      reader.onerror = function() {\n        reject(reader.error);\n      };\n    })\n  }\n\n  function readBlobAsArrayBuffer(blob) {\n    var reader = new FileReader();\n    var promise = fileReaderReady(reader);\n    reader.readAsArrayBuffer(blob);\n    return promise\n  }\n\n  function readBlobAsText(blob) {\n    var reader = new FileReader();\n    var promise = fileReaderReady(reader);\n    reader.readAsText(blob);\n    return promise\n  }\n\n  function readArrayBufferAsText(buf) {\n    var view = new Uint8Array(buf);\n    var chars = new Array(view.length);\n\n    for (var i = 0; i < view.length; i++) {\n      chars[i] = String.fromCharCode(view[i]);\n    }\n    return chars.join('')\n  }\n\n  function bufferClone(buf) {\n    if (buf.slice) {\n      return buf.slice(0)\n    } else {\n      var view = new Uint8Array(buf.byteLength);\n      view.set(new Uint8Array(buf));\n      return view.buffer\n    }\n  }\n\n  function Body() {\n    this.bodyUsed = false;\n\n    this._initBody = function(body) {\n      this._bodyInit = body;\n      if (!body) {\n        this._bodyText = '';\n      } else if (typeof body === 'string') {\n        this._bodyText = body;\n      } else if (support.blob && Blob.prototype.isPrototypeOf(body)) {\n        this._bodyBlob = body;\n      } else if (support.formData && FormData.prototype.isPrototypeOf(body)) {\n        this._bodyFormData = body;\n      } else if (support.searchParams && URLSearchParams.prototype.isPrototypeOf(body)) {\n        this._bodyText = body.toString();\n      } else if (support.arrayBuffer && support.blob && isDataView(body)) {\n        this._bodyArrayBuffer = bufferClone(body.buffer);\n        // IE 10-11 can't handle a DataView body.\n        this._bodyInit = new Blob([this._bodyArrayBuffer]);\n      } else if (support.arrayBuffer && (ArrayBuffer.prototype.isPrototypeOf(body) || isArrayBufferView(body))) {\n        this._bodyArrayBuffer = bufferClone(body);\n      } else {\n        this._bodyText = body = Object.prototype.toString.call(body);\n      }\n\n      if (!this.headers.get('content-type')) {\n        if (typeof body === 'string') {\n          this.headers.set('content-type', 'text/plain;charset=UTF-8');\n        } else if (this._bodyBlob && this._bodyBlob.type) {\n          this.headers.set('content-type', this._bodyBlob.type);\n        } else if (support.searchParams && URLSearchParams.prototype.isPrototypeOf(body)) {\n          this.headers.set('content-type', 'application/x-www-form-urlencoded;charset=UTF-8');\n        }\n      }\n    };\n\n    if (support.blob) {\n      this.blob = function() {\n        var rejected = consumed(this);\n        if (rejected) {\n          return rejected\n        }\n\n        if (this._bodyBlob) {\n          return Promise.resolve(this._bodyBlob)\n        } else if (this._bodyArrayBuffer) {\n          return Promise.resolve(new Blob([this._bodyArrayBuffer]))\n        } else if (this._bodyFormData) {\n          throw new Error('could not read FormData body as blob')\n        } else {\n          return Promise.resolve(new Blob([this._bodyText]))\n        }\n      };\n\n      this.arrayBuffer = function() {\n        if (this._bodyArrayBuffer) {\n          return consumed(this) || Promise.resolve(this._bodyArrayBuffer)\n        } else {\n          return this.blob().then(readBlobAsArrayBuffer)\n        }\n      };\n    }\n\n    this.text = function() {\n      var rejected = consumed(this);\n      if (rejected) {\n        return rejected\n      }\n\n      if (this._bodyBlob) {\n        return readBlobAsText(this._bodyBlob)\n      } else if (this._bodyArrayBuffer) {\n        return Promise.resolve(readArrayBufferAsText(this._bodyArrayBuffer))\n      } else if (this._bodyFormData) {\n        throw new Error('could not read FormData body as text')\n      } else {\n        return Promise.resolve(this._bodyText)\n      }\n    };\n\n    if (support.formData) {\n      this.formData = function() {\n        return this.text().then(decode)\n      };\n    }\n\n    this.json = function() {\n      return this.text().then(JSON.parse)\n    };\n\n    return this\n  }\n\n  // HTTP methods whose capitalization should be normalized\n  var methods = ['DELETE', 'GET', 'HEAD', 'OPTIONS', 'POST', 'PUT'];\n\n  function normalizeMethod(method) {\n    var upcased = method.toUpperCase();\n    return methods.indexOf(upcased) > -1 ? upcased : method\n  }\n\n  function Request(input, options) {\n    options = options || {};\n    var body = options.body;\n\n    if (input instanceof Request) {\n      if (input.bodyUsed) {\n        throw new TypeError('Already read')\n      }\n      this.url = input.url;\n      this.credentials = input.credentials;\n      if (!options.headers) {\n        this.headers = new Headers(input.headers);\n      }\n      this.method = input.method;\n      this.mode = input.mode;\n      this.signal = input.signal;\n      if (!body && input._bodyInit != null) {\n        body = input._bodyInit;\n        input.bodyUsed = true;\n      }\n    } else {\n      this.url = String(input);\n    }\n\n    this.credentials = options.credentials || this.credentials || 'same-origin';\n    if (options.headers || !this.headers) {\n      this.headers = new Headers(options.headers);\n    }\n    this.method = normalizeMethod(options.method || this.method || 'GET');\n    this.mode = options.mode || this.mode || null;\n    this.signal = options.signal || this.signal;\n    this.referrer = null;\n\n    if ((this.method === 'GET' || this.method === 'HEAD') && body) {\n      throw new TypeError('Body not allowed for GET or HEAD requests')\n    }\n    this._initBody(body);\n  }\n\n  Request.prototype.clone = function() {\n    return new Request(this, {body: this._bodyInit})\n  };\n\n  function decode(body) {\n    var form = new FormData();\n    body\n      .trim()\n      .split('&')\n      .forEach(function(bytes) {\n        if (bytes) {\n          var split = bytes.split('=');\n          var name = split.shift().replace(/\\+/g, ' ');\n          var value = split.join('=').replace(/\\+/g, ' ');\n          form.append(decodeURIComponent(name), decodeURIComponent(value));\n        }\n      });\n    return form\n  }\n\n  function parseHeaders(rawHeaders) {\n    var headers = new Headers();\n    // Replace instances of \\r\\n and \\n followed by at least one space or horizontal tab with a space\n    // https://tools.ietf.org/html/rfc7230#section-3.2\n    var preProcessedHeaders = rawHeaders.replace(/\\r?\\n[\\t ]+/g, ' ');\n    preProcessedHeaders.split(/\\r?\\n/).forEach(function(line) {\n      var parts = line.split(':');\n      var key = parts.shift().trim();\n      if (key) {\n        var value = parts.join(':').trim();\n        headers.append(key, value);\n      }\n    });\n    return headers\n  }\n\n  Body.call(Request.prototype);\n\n  function Response(bodyInit, options) {\n    if (!options) {\n      options = {};\n    }\n\n    this.type = 'default';\n    this.status = options.status === undefined ? 200 : options.status;\n    this.ok = this.status >= 200 && this.status < 300;\n    this.statusText = 'statusText' in options ? options.statusText : 'OK';\n    this.headers = new Headers(options.headers);\n    this.url = options.url || '';\n    this._initBody(bodyInit);\n  }\n\n  Body.call(Response.prototype);\n\n  Response.prototype.clone = function() {\n    return new Response(this._bodyInit, {\n      status: this.status,\n      statusText: this.statusText,\n      headers: new Headers(this.headers),\n      url: this.url\n    })\n  };\n\n  Response.error = function() {\n    var response = new Response(null, {status: 0, statusText: ''});\n    response.type = 'error';\n    return response\n  };\n\n  var redirectStatuses = [301, 302, 303, 307, 308];\n\n  Response.redirect = function(url, status) {\n    if (redirectStatuses.indexOf(status) === -1) {\n      throw new RangeError('Invalid status code')\n    }\n\n    return new Response(null, {status: status, headers: {location: url}})\n  };\n\n  exports.DOMException = self.DOMException;\n  try {\n    new exports.DOMException();\n  } catch (err) {\n    exports.DOMException = function(message, name) {\n      this.message = message;\n      this.name = name;\n      var error = Error(message);\n      this.stack = error.stack;\n    };\n    exports.DOMException.prototype = Object.create(Error.prototype);\n    exports.DOMException.prototype.constructor = exports.DOMException;\n  }\n\n  function fetch(input, init) {\n    return new Promise(function(resolve, reject) {\n      var request = new Request(input, init);\n\n      if (request.signal && request.signal.aborted) {\n        return reject(new exports.DOMException('Aborted', 'AbortError'))\n      }\n\n      var xhr = new XMLHttpRequest();\n\n      function abortXhr() {\n        xhr.abort();\n      }\n\n      xhr.onload = function() {\n        var options = {\n          status: xhr.status,\n          statusText: xhr.statusText,\n          headers: parseHeaders(xhr.getAllResponseHeaders() || '')\n        };\n        options.url = 'responseURL' in xhr ? xhr.responseURL : options.headers.get('X-Request-URL');\n        var body = 'response' in xhr ? xhr.response : xhr.responseText;\n        resolve(new Response(body, options));\n      };\n\n      xhr.onerror = function() {\n        reject(new TypeError('Network request failed'));\n      };\n\n      xhr.ontimeout = function() {\n        reject(new TypeError('Network request failed'));\n      };\n\n      xhr.onabort = function() {\n        reject(new exports.DOMException('Aborted', 'AbortError'));\n      };\n\n      xhr.open(request.method, request.url, true);\n\n      if (request.credentials === 'include') {\n        xhr.withCredentials = true;\n      } else if (request.credentials === 'omit') {\n        xhr.withCredentials = false;\n      }\n\n      if ('responseType' in xhr && support.blob) {\n        xhr.responseType = 'blob';\n      }\n\n      request.headers.forEach(function(value, name) {\n        xhr.setRequestHeader(name, value);\n      });\n\n      if (request.signal) {\n        request.signal.addEventListener('abort', abortXhr);\n\n        xhr.onreadystatechange = function() {\n          // DONE (success or failure)\n          if (xhr.readyState === 4) {\n            request.signal.removeEventListener('abort', abortXhr);\n          }\n        };\n      }\n\n      xhr.send(typeof request._bodyInit === 'undefined' ? null : request._bodyInit);\n    })\n  }\n\n  fetch.polyfill = true;\n\n  if (!self.fetch) {\n    self.fetch = fetch;\n    self.Headers = Headers;\n    self.Request = Request;\n    self.Response = Response;\n  }\n\n  exports.Headers = Headers;\n  exports.Request = Request;\n  exports.Response = Response;\n  exports.fetch = fetch;\n\n  Object.defineProperty(exports, '__esModule', { value: true });\n\n  return exports;\n\n}({}));\n})(__self__);\n__self__.fetch.ponyfill = true;\n// Remove \"polyfill\" property added by whatwg-fetch\ndelete __self__.fetch.polyfill;\n// Choose between native implementation (global) or custom implementation (__self__)\n// var ctx = global.fetch ? global : __self__;\nvar ctx = __self__; // this line disable service worker support temporarily\nexports = ctx.fetch // To enable: import fetch from 'cross-fetch'\nexports.default = ctx.fetch // For TypeScript consumers without esModuleInterop.\nexports.fetch = ctx.fetch // To enable: import {fetch} from 'cross-fetch'\nexports.Headers = ctx.Headers\nexports.Request = ctx.Request\nexports.Response = ctx.Response\nmodule.exports = exports\n","const {\n  isObject,\n  buildCall,\n  mapJoin,\n  objectMapJoin\n} = require('../../lib-util')\nconst conditions = require('./conditions')\nconst valuesArray = require('./values_array')\n\nmodule.exports = (ctx, items, start = 0, end = items.length) => {\n  if (end > items.length) end = items.length\n  let txt = ''\n  for (let i = start; i < end; ++i) {\n    const item = items[i]\n    if (i !== start) txt += item.join\n    txt += fromItem(ctx, item.args)\n    if (item.on) txt += ` on ${conditions(ctx, item.on)}`\n    else if (item.using) txt += ` using (${using(ctx, item.using)})`\n  }\n  return txt\n}\n\nconst usingArg = (ctx, arg) => {\n  if (typeof arg === 'string') return arg\n  if (typeof arg === 'function') return ctx.build(arg)\n  throw Error('Error: Invalid .using arg')\n}\nconst using = mapJoin(buildCall(mapJoin(usingArg)))\n\nconst fromArg = (ctx, arg) => {\n  if (typeof arg === 'string') return arg\n  if (typeof arg === 'function') return ctx.build(arg)\n  if (isObject(arg)) return buildObject(ctx, arg)\n  throw Error('Error: Invalid .from argument:', arg)\n}\n\nconst buildProperty = (ctx, key, value) => {\n  if (typeof value === 'string') return `${value} ${ctx.mapKey(key)}`\n  if (typeof value === 'function')\n    return `${ctx.build(value)} ${ctx.mapKey(key)}`\n  if (Array.isArray(value)) {\n    const { columns, values } = valuesArray(ctx, value)\n    return `(${values}) ${ctx.mapKey(key)}(${columns})`\n  }\n  throw Error('Error: Invalid .from argument')\n}\n\nconst buildObject = objectMapJoin(buildProperty)\nconst fromItem = buildCall(mapJoin(fromArg))\n","const { mapJoin } = require('../../lib-util')\n\nmodule.exports = (ctx, array) => {\n  const keys = uniqueKeys(array)\n  return {\n    columns: columns(ctx, keys),\n    values: values(ctx, array, keys)\n  }\n}\n\n// gets unique keys in object array\nconst uniqueKeys = array => {\n  const keys = {}\n  for (const object of array) {\n    for (const key in object) {\n      keys[key] = true\n    }\n  }\n  return Object.keys(keys)\n}\n\n// gets column string from unique keys of object array\nconst columns = mapJoin((ctx, arg) => ctx.mapKey(arg))\n\n// gets values string of object array\nconst values = (ctx, source, keys) => {\n  let txt = 'values '\n  for (let i = 0; i < source.length; ++i) {\n    if (i !== 0) txt += ', '\n    txt += '('\n    const object = source[i]\n    for (let j = 0; j < keys.length; ++j) {\n      if (j !== 0) txt += ', '\n      txt += value(ctx, object[keys[j]])\n    }\n    txt += ')'\n  }\n  return txt\n}\n\nconst value = (ctx, arg) => {\n  if (arg === undefined) return 'default'\n  return ctx.build(arg)\n}\n","const {\n  isTaggedTemplate,\n  buildTaggedTemplate,\n  isObject,\n  mapJoin,\n  objectMapJoin\n} = require('../../lib-util')\n\nconst buildCall = callbackfn => (ctx, args) =>\n  isTaggedTemplate(args)\n    ? `(${buildTaggedTemplate(ctx, args)})`\n    : callbackfn(ctx, args)\n\nconst buildArg = (ctx, arg) =>\n  isObject(arg) ? buildObject(ctx, arg) : ctx.build(arg)\n\nconst valuesList = mapJoin((ctx, arg) => ctx.build(arg))\n\nconst buildProperty = (ctx, key, value) => {\n  const name = ctx.mapKey(key)\n  if (value === null) return `(${name} is null)`\n  if (Array.isArray(value)) return `(${name} in (${valuesList(ctx, value)}))`\n  return `(${name} = ${ctx.build(value)})`\n}\n\nconst buildObject = objectMapJoin(buildProperty, ' and ')\nmodule.exports = mapJoin(buildCall(mapJoin(buildArg, ' and ')), ' and ')\n","'use strict';\n\n// do not edit .js files directly - edit src/index.jst\n\n\n\nmodule.exports = function equal(a, b) {\n  if (a === b) return true;\n\n  if (a && b && typeof a == 'object' && typeof b == 'object') {\n    if (a.constructor !== b.constructor) return false;\n\n    var length, i, keys;\n    if (Array.isArray(a)) {\n      length = a.length;\n      if (length != b.length) return false;\n      for (i = length; i-- !== 0;)\n        if (!equal(a[i], b[i])) return false;\n      return true;\n    }\n\n\n\n    if (a.constructor === RegExp) return a.source === b.source && a.flags === b.flags;\n    if (a.valueOf !== Object.prototype.valueOf) return a.valueOf() === b.valueOf();\n    if (a.toString !== Object.prototype.toString) return a.toString() === b.toString();\n\n    keys = Object.keys(a);\n    length = keys.length;\n    if (length !== Object.keys(b).length) return false;\n\n    for (i = length; i-- !== 0;)\n      if (!Object.prototype.hasOwnProperty.call(b, keys[i])) return false;\n\n    for (i = length; i-- !== 0;) {\n      var key = keys[i];\n\n      if (!equal(a[key], b[key])) return false;\n    }\n\n    return true;\n  }\n\n  // true if both NaN, false otherwise\n  return a!==a && b!==b;\n};\n","const core = require('./lib-core')\nconst dialect = require('./dialect-postgres')\n\nconst a = core({ dialect });\na.from = undefined;\nmodule.exports = a;\n","const {\n  isObject,\n  buildCall,\n  mapJoin,\n  objectMapJoin\n} = require('../../lib-util')\n\nconst buildArg = (ctx, arg) => {\n  if (typeof arg === 'string') return arg\n  if (isObject(arg)) return buildObject(ctx, arg)\n  return ctx.build(arg)\n}\n\nconst buildProperty = (ctx, key, value) => {\n  const expression = typeof value === 'string' ? value : ctx.build(value)\n  return `${expression} ${ctx.mapKey(key)}`\n}\n\nconst buildObject = objectMapJoin(buildProperty)\nmodule.exports = mapJoin(buildCall(mapJoin(buildArg)))\n","const { isTaggedTemplate, buildTaggedTemplate } = require('../../lib-util')\n\nmodule.exports = (ctx, args) => {\n  if (isTaggedTemplate(args)) return buildTaggedTemplate(ctx, args)\n  const arg = args[0]\n  if (typeof arg === 'number') return ctx.parameterize(arg)\n  if (typeof arg === 'function') return ctx.build(arg)\n  throw Error('Error: Invalid limit/offset argument')\n}\n","const isTaggedTemplate = ([strings]) => Array.isArray(strings) && strings.raw\n\nconst buildTaggedTemplate = (ctx, [strings, ...args]) => {\n  let txt = strings[0]\n  for (let i = 0; i < args.length; ++i) {\n    txt += ctx.build(args[i]) + strings[i + 1]\n  }\n  return txt\n}\n\nmodule.exports = {\n  isTaggedTemplate,\n  buildTaggedTemplate\n}","module.exports = {\n  wth: require('./with'),\n  select: require('./select'),\n  from: require('./from'),\n  where: require('./where'),\n  group: require('./group'),\n  having: require('./having'),\n  setop: require('./setop'),\n  order: require('./order'),\n  limit: require('./limit'),\n  offset: require('./offset'),\n  del: require('./delete'),\n  returning: require('./returning'),\n  insert: require('./insert'),\n  update: require('./update'),\n  set: require('./set')\n}\n","const createQueryBuilder = require('../builder-sq')\nconst createExpressionBuilder = require('../builder-expression')\nconst { memoize, normalKey } = require('../lib-util')\n\n\n/**\n * Creates a version of EasyQB for the given SQL dialect and database adapter.\n *\n * A dialect is variant of the SQL language,\n * while an adapter is the driver that communicates with the database.\n *\n * This design makes it easy to swap drivers, e.g. mysql vs mysql2 or\n * add new databases just by connecting a new adapter to an existing dialect.\n *\n */\n\nconst createSqorn = ({ dialect }) => (config = {}) => {\n  const { query, expression, parameterize, escape } = dialect\n\n  // 1. Create default context properties passed through build tree\n  const mapKey = memoize(normalKey)\n  const defaultContext = { parameterize, escape, mapKey, build }\n\n  // 2. Create Expression Builder\n  const e = createExpressionBuilder({ defaultContext, expression })\n\n  // 3. Create Query Builder\n  const sq = createQueryBuilder({ defaultContext, query, e, config })\n\n  // 4. TODO: Build Executor, Attach e and execute functions\n\n  // 5. TODO: Return { sq, e, transaction, db }\n  return sq\n}\n\nfunction build(arg) {\n  if (arg === undefined) throw Error('Error: undefined argument')\n  if (typeof arg === 'function') {\n    if (arg._build) {\n      const { type, text } = arg._build(this)\n      if (type === 'expression') return text\n      if (type === 'fragment') return text\n      return `(${text})`\n    }\n    return arg(this)\n  }\n  return this.unparameterized ? this.escape(arg) : this.parameterize(arg)\n}\n\nmodule.exports = createSqorn","const createNewContext = require('./context')\nconst createQueryBuilder = ({ defaultContext, query, e, config }) => {\n    const { queries, methods, properties } = query\n    const newContext = createNewContext(defaultContext)\n    const reducers = createReducers(methods)\n    const updateContext = applyReducers(reducers)\n    reducers.extend = (ctx, args) => {\n        const arr = Array.isArray(args[0]) ? args[0] : args\n        for (let i = 0; i < arr.length; ++i) {\n            updateContext(arr[i].method, ctx)\n        }\n    }\n    const builder = () => { } // must not be object literal\n    const chain = createChain(builder)\n\n    const executeProperties = {\n        one: {\n            value: async function () {\n                const ret = await config.oneCallback(this.query, config.tableName, config.userAssociatedRecordsOnly)\n                return ret;\n            }\n        },\n        all: {\n            value: async function () {\n                const ret = await config.allCallback(this.query, config.tableName, config.userAssociatedRecordsOnly)\n                return ret;\n            }\n        },\n        _tableName: {\n            get: function () {\n                return config.tableName\n            }\n        }\n    }\n\n    // EasyQB no access to from\n    const _methodProperties = methodProperties({ methods, chain });\n    delete _methodProperties.from;\n\n    Object.defineProperties(builder, {\n        ...builderProperties({ chain, newContext, updateContext, queries }),\n        ..._methodProperties,\n        ...executeProperties,\n        ...properties,\n        e: {\n            value: e\n        }\n    })\n    return chain()\n}\n\n/** Creates a new builder instance */\nconst createChain = prototype => {\n    const chain = method => {\n        const fn = (...args) => chain({ name: 'express', args, prev: method })\n        fn.method = method\n        Object.setPrototypeOf(fn, prototype)\n        return fn\n    }\n    return chain\n}\n\n/** Creates an object containing all method reducers */\nconst createReducers = methods => {\n    const reducers = {}\n    for (const name in methods) {\n        const { updateContext, properties = {} } = methods[name]\n        reducers[name] = updateContext\n        // some methods have subproperties, e.g. .unionAll\n        for (const key in properties) {\n            reducers[`${name}.${key}`] = properties[key]\n        }\n    }\n    return reducers\n}\n\n/** Follows a method chain, applying each method's reducer, to ctx */\nconst applyReducers = reducers => (method, ctx) => {\n    // follow method links to construct methods array (in reverse)\n    const methods = []\n    for (; method !== undefined; method = method.prev) {\n        methods.push(method)\n    }\n    // build methods object by processing methods in call order\n    const express = { id: 0 }\n    for (let i = methods.length - 1; i >= 0; --i) {\n        const method = methods[i]\n        reducers[method.name](ctx, method.args, express)\n    }\n    return ctx\n}\n\n/** Default properties of all SQL Query Builders */\nconst builderProperties = ({ newContext, updateContext, queries }) => ({\n    _build: {\n        value: function (inheritedContext) {\n            const ctx = updateContext(this.method, newContext(inheritedContext))\n            return queries[ctx.type](ctx)\n        }\n    },\n    query: {\n        get: function () {\n            return this._build()\n        }\n    },\n    unparameterized: {\n        get: function () {\n            return this._build({ unparameterized: true }).text\n        }\n    }\n})\n\n/** Builds object containing a property for every query building method */\nconst methodProperties = ({ methods, chain }) => {\n    const properties = {}\n    for (const name in methods) {\n        const { getter } = methods[name]\n        if (getter) {\n            // add getter methods\n            properties[name] = {\n                get: function () {\n                    return chain({ name, prev: this.method })\n                }\n            }\n        } else {\n            // add function call methods\n            properties[name] = {\n                value: function (...args) {\n                    return chain({ name, args, prev: this.method })\n                }\n            }\n        }\n    }\n    return properties\n}\n\nmodule.exports = createQueryBuilder","/** Returns a function the creates a new context */\nconst createNewContext = defaultContext => {\n    const { parameterize, escape, mapKey, build } = defaultContext\n\n    return (inherit = {}) => {\n        const { params = [], unparameterized = false } = inherit\n\n        const whr = []\n        return {\n            // properties set by the EasyQB instance\n            parameterize,\n            escape,\n            mapKey,\n            build,\n\n            // properties inherited from the parent query\n            params,\n            unparameterized,\n\n            // properties of the current query\n            type: 'select',\n            // | sql' | 'select' | 'delete' | 'insert' | 'update'\n            target: whr,\n            join: undefined,\n            separator: ' ',\n            sql: [],\n            ret: [],\n            frm: [],\n            whr,\n            grp: [],\n            hav: [],\n            setop: [],\n            ord: [],\n            with: [],\n            set: []\n\n            // properties that may be added dynamically:\n            // userType\n            // distinct\n        }\n    }\n}\n\nmodule.exports = createNewContext\n","const createExpressionCompiler = require('./compile')\nconst { normalKey } = require('../lib-util');\n\nconst aggregator = (op) => (columnName) => `${op}(${normalKey(columnName)})`;\n\nmodule.exports = ({ defaultContext, expression }) => {\n  const { expressions } = expression\n  const newContext = createNewContext(defaultContext)\n  const compile = createExpressionCompiler(expressions)\n  const builder = () => {} // must not be object literal\n  const chain = createChain(builder)\n  Object.defineProperties(builder, {\n    ...builderProperties({ compile, newContext }),\n    ...methodProperties({ expressions, chain }),\n  })\n  const ret = chain();\n  ret.max = aggregator('max');\n  ret.min = aggregator('min');\n  ret.avg = aggregator('avg');\n  ret.count = aggregator('count');\n  ret.sum = aggregator('sum');\n  return ret;\n}\n\nconst builderProperties = ({ compile, newContext }) => ({\n  _build: {\n    value: function(inherit) {\n      return compile(newContext(inherit), this.current)\n    }\n  },\n  query: {\n    get: function() {\n      return this._build()\n    }\n  },\n  unparameterized: {\n    get: function() {\n      return this._build({ unparameterized: true }).text\n    }\n  }\n})\n\nconst createNewContext = defaultContext => {\n  const { build, parameterize, escape, mapKey } = defaultContext\n  return inherit => {\n    const { params = [], unparameterized = false } = inherit || {}\n    return {\n      // EasyQB instance properties\n      build,\n      parameterize,\n      escape,\n      mapKey,\n\n      // inherited properties\n      params,\n      unparameterized\n    }\n  }\n}\n\nconst createChain = prototype => {\n  const chain = current => {\n    const fn = (...args) => chain({ prev: current, args })\n    fn.current = current\n    Object.setPrototypeOf(fn, prototype)\n    return fn\n  }\n  return chain\n}\n\nconst methodProperties = ({ expressions, chain }) => {\n  const properties = {}\n  for (const name in expressions) {\n    properties[name] = {\n      get: function() {\n        return chain({ prev: this.current, name })\n      }\n    }\n  }\n  return properties\n}\n","const { isTaggedTemplate } = require('../lib-util')\n\nconst createExpressionCompiler = expressionTable => {\n  const callsCompiler = createCallsCompiler(expressionTable)\n  return (ctx, current) => {\n    const calls = buildCalls(current)\n    const text = callsCompiler(ctx, calls)\n    return {\n      text,\n      args: ctx.params,\n      type: 'expression'\n    }\n  }\n}\n\n// TODO: Performance optimization:\n// inline expression building with this method so at most only one array\n// is allocated in total, no array of object containing arrays nonsense\nconst buildCalls = current => {\n  // get call nodes\n  const calls = []\n  for (; current; current = current.prev) calls.push(current)\n  if (calls.length === 0) throw Error('Error: Empty expression')\n\n  // build expression list\n  let expression = { name: 'arg', args: [] }\n  const expressions = [expression]\n  const last = calls.length - 1\n  for (let i = last; i >= 0; --i) {\n    const { name, args } = calls[i]\n    if (i === last) {\n      if (name) expression.name = name\n      else pushCall(expression.args, args)\n    } else {\n      if (name) expressions.push((expression = { name, args: [undefined] }))\n      else pushCall(expression.args, args)\n    }\n  }\n  return expressions\n}\n\nconst pushCall = (array, args) => {\n  if (isTaggedTemplate(args)) {\n    array.push({ tag: args })\n  } else {\n    if (args.length === 0)\n      throw Error('Error: Expression call requires at least one argument')\n    for (let i = 0; i < args.length; ++i) {\n      array.push({ arg: args[i] })\n    }\n  }\n}\n\nconst createCallsCompiler = expressionTable => (ctx, calls) => {\n  let exp\n  for (let i = 0; i < calls.length; ++i) {\n    const { name, args } = calls[i]\n    const { build, minArgs, maxArgs } = expressionTable[name]\n    if (i !== 0) args[0] = { exp }\n    const numArgs = args.length\n    if (numArgs < minArgs)\n      throw Error(`Error: ${name} requires at least ${minArgs} arguments`)\n    if (numArgs > maxArgs)\n      throw Error(`Error: ${name} accepts at most ${maxArgs} arguments`)\n    exp = build(ctx, args)\n  }\n  return exp\n}\n\nmodule.exports = createExpressionCompiler\n","const { isTaggedTemplate, buildTaggedTemplate } = require('./tagged_template')\n\nconst isObject = arg => arg && arg.constructor.prototype === Object.prototype\n\nconst buildCall = callbackfn => (ctx, args) =>\n  isTaggedTemplate(args)\n    ? buildTaggedTemplate(ctx, args)\n    : callbackfn(ctx, args)\n\nconst mapJoin = (callbackfn, separator = ', ') => (ctx, args) => {\n  let txt = ''\n  for (let i = 0; i < args.length; ++i) {\n    if (i !== 0) txt += separator\n    txt += callbackfn(ctx, args[i])\n  }\n  return txt\n}\n\nconst mapJoinWrap = (callbackfn, separator = ', ', open = '(', close = ')') => (\n  ctx,\n  args\n) => {\n  let txt = open\n  for (let i = 0; i < args.length; ++i) {\n    if (i !== 0) txt += separator\n    txt += callbackfn(ctx, args[i])\n  }\n  return txt + close\n}\n\nconst objectMapJoin = (callbackfn, separator = ', ') => (ctx, object) => {\n  let txt = ''\n  const keys = Object.keys(object)\n  for (let i = 0; i < keys.length; ++i) {\n    if (i !== 0) txt += separator\n    const key = keys[i]\n    txt += callbackfn(ctx, key, object[key])\n  }\n  return txt\n}\n\nmodule.exports = {\n  isObject,\n  buildCall,\n  mapJoin,\n  mapJoinWrap,\n  objectMapJoin\n}","// included to mitigate cost of case conversion\nconst memoize = fn => {\n  const cache = {}\n  return key => cache[key] || (cache[key] = fn(key))\n}\n\nconst normalKey = given_key => given_key.indexOf('(') === -1 ? given_key.toLowerCase().trim().replace(/ /g, '_') : given_key;\n\nmodule.exports = {\n  memoize,\n  normalKey\n}","const query = require('./query')\nconst expression = require('./expression')\nconst { parameterize, escape } = require('./parameterize')\n\nmodule.exports = {\n  query,\n  expression,\n  parameterize,\n  escape\n}","const { methods, queries, query, clauses, common } = require('../lib-sq')\n\nconst { fromItems, expressions } = common\nconst {\n  wth,\n  from,\n  where,\n  group,\n  having,\n  setop,\n  order,\n  limit,\n  offset,\n  returning,\n  set\n} = clauses\n\nconst postgresMethods = {\n  distinctOn: {\n    updateContext: (ctx, args) => {\n      if (ctx.distinct) {\n        ctx.distinct.push(args)\n      } else {\n        ctx.distinct = [args]\n      }\n    }\n  }\n}\n\n// SELECT supports .distinctOn(...expressions)\nconst select = ctx => {\n  let txt = 'select '\n  if (ctx.distinct) {\n    txt += 'distinct '\n    if (ctx.distinct.length) {\n      txt += `on (${expressions(ctx, ctx.distinct)}) `\n    }\n  }\n  txt += expressions(ctx, ctx.ret) || '*'\n  return txt\n}\n// DELETE: first .from call is used in the DELETE clause\n// subsequent .from calls are used in the USING clause\nconst del = ctx => {\n  const txt = fromItems(ctx, ctx.frm, 0, 1)\n  return txt && `delete from ${txt}`\n}\nconst using = ctx => {\n  const txt = fromItems(ctx, ctx.frm, 1)\n  return txt && `using ${txt}`\n}\n// UPDATE: first .from call is used in the UPDATE clause\n// subsequent .from calls are used in the FROM clause\nconst update = ctx => {\n  const txt = fromItems(ctx, ctx.frm, 0, 1)\n  return txt && `update ${txt}`\n}\nconst updateFrom = ctx => {\n  const txt = fromItems(ctx, ctx.frm, 1)\n  return txt && `from ${txt}`\n}\n\nmodule.exports = {\n  methods: { ...methods, ...postgresMethods },\n  queries: {\n    ...queries,\n    select: query(\n      wth,\n      select,\n      from,\n      where,\n      group,\n      having,\n      setop,\n      order,\n      limit,\n      offset\n    ),\n    delete: query(wth, del, using, where, returning),\n    update: query(wth, update, set, updateFrom, where, returning)\n  },\n  properties: {\n    rollup: {\n      value: (...args) => {\n        return {\n          type: 'rollup',\n          args\n        }\n      }\n    },\n    cube: {\n      value: (...args) => {\n        return {\n          type: 'cube',\n          args\n        }\n      }\n    },\n    groupingSets: {\n      value: (...args) => {\n        return {\n          type: 'grouping sets',\n          args\n        }\n      }\n    }\n  }\n}","const methods = require('./methods')\nconst { query, queries } = require('./query')\nconst clauses = require('./clauses')\nconst common = require('./common')\n\nmodule.exports = {\n  methods,\n  query,\n  queries,\n  clauses,\n  common\n}","const { normalKey } = require('../lib-util')\n\n/** Query building methods */\nconst methods = {\n    with: {\n        updateContext: (ctx, args) => {\n            ctx.with.push(args)\n        }\n    },\n    withRecursive: {\n        updateContext: (ctx, args) => {\n            ctx.recursive = true\n            ctx.with.push(args)\n        }\n    },\n    from: {\n        updateContext: (ctx, args) => {\n            ctx.frm.push({ args, join: ', ' })\n        }\n    },\n    where: {\n        updateContext: (ctx, args) => {\n            ctx.whr.push(args)\n            ctx.target = ctx.whr\n        }\n    },\n    return: {\n        updateContext: (ctx, args) => {\n            ctx.ret.push(Array.isArray(args) ? args.map(normalKey) : args)\n        }\n    },\n    distinct: {\n        getter: true,\n        updateContext: ctx => {\n            ctx.distinct = []\n        }\n    },\n    groupBy: {\n        updateContext: (ctx, args) => {\n            ctx.grp.push(args)\n        }\n    },\n    having: {\n        updateContext: (ctx, args) => {\n            ctx.hav.push(args)\n            ctx.target = ctx.hav\n        }\n    },\n    union: {\n        updateContext: (ctx, args) => {\n            ctx.setop.push({ type: 'union', args })\n        }\n    },\n    unionAll: {\n        updateContext: (ctx, args) => {\n            ctx.setop.push({ type: 'union all', args })\n        }\n    },\n    intersect: {\n        updateContext: (ctx, args) => {\n            ctx.setop.push({ type: 'intersect', args })\n        }\n    },\n    intersectAll: {\n        updateContext: (ctx, args) => {\n            ctx.setop.push({ type: 'intersect all', args })\n        }\n    },\n    except: {\n        updateContext: (ctx, args) => {\n            ctx.setop.push({ type: 'except', args })\n        }\n    },\n    exceptAll: {\n        updateContext: (ctx, args) => {\n            ctx.setop.push({ type: 'except all', args })\n        }\n    },\n    orderBy: {\n        updateContext: (ctx, args) => {\n            ctx.ord.push(args)\n        }\n    },\n    limit: {\n        updateContext: (ctx, args) => {\n            ctx.limit = args\n        }\n    },\n    offset: {\n        updateContext: (ctx, args) => {\n            ctx.offset = args\n        }\n    },\n    join: {\n        updateContext: (ctx, args) => {\n            ctx.frm.push((ctx.join = { args, join: ' join ' }))\n        }\n    },\n    leftJoin: {\n        updateContext: (ctx, args) => {\n            ctx.frm.push((ctx.join = { args, join: ' left join ' }))\n        }\n    },\n    rightJoin: {\n        updateContext: (ctx, args) => {\n            ctx.frm.push((ctx.join = { args, join: ' right join ' }))\n        }\n    },\n    fullJoin: {\n        updateContext: (ctx, args) => {\n            ctx.frm.push((ctx.join = { args, join: ' full join ' }))\n        }\n    },\n    crossJoin: {\n        updateContext: (ctx, args) => {\n            ctx.frm.push((ctx.join = { args, join: ' cross join ' }))\n        }\n    },\n    naturalJoin: {\n        updateContext: (ctx, args) => {\n            ctx.frm.push((ctx.join = { args, join: ' natural join ' }))\n        }\n    },\n    naturalLeftJoin: {\n        updateContext: (ctx, args) => {\n            ctx.frm.push((ctx.join = { args, join: ' natural left join ' }))\n        }\n    },\n    naturalRightJoin: {\n        updateContext: (ctx, args) => {\n            ctx.frm.push((ctx.join = { args, join: ' natural right join ' }))\n        }\n    },\n    naturalFullJoin: {\n        updateContext: (ctx, args) => {\n            ctx.frm.push((ctx.join = { args, join: ' natural full join ' }))\n        }\n    },\n    on: {\n        updateContext: (ctx, args) => {\n            const { join } = ctx\n            if (join.on) {\n                join.on.push(args)\n            } else {\n                ctx.target = join.on = [args]\n            }\n        }\n    },\n    using: {\n        updateContext: (ctx, args) => {\n            const { join } = ctx\n            if (join.using) {\n                join.using.push(args)\n            } else {\n                join.using = [args]\n            }\n        }\n    },\n    delete: {\n        // getter: true,\n        updateContext: ctx => {\n            ctx.type = 'delete'\n        }\n    },\n    insert: {\n        updateContext: (ctx, args) => {\n            ctx.type = 'insert'\n            ctx.insert = args\n        }\n    },\n    set: {\n        updateContext: (ctx, args) => {\n            ctx.type = 'update'\n            ctx.set.push(args)\n        }\n    },\n    express: {\n        updateContext: (ctx, args, count) => {\n            if (count.id === 0) {\n                count.id++\n                ctx.frm.push((ctx.join = { type: 'from', args, join: ', ' }))\n            } else if (count.id === 1) {\n                count.id++\n                ctx.whr.push(args)\n            } else if (count.id === 2) {\n                count.id++\n                ctx.ret.push(args)\n            } else throw Error('Invalid express call')\n        }\n    }\n}\n\nmodule.exports = methods;","const {\n    wth,\n    select,\n    from,\n    where,\n    group,\n    having,\n    setop,\n    order,\n    limit,\n    offset,\n    del,\n    returning,\n    insert,\n    update,\n    set,\n} = require('./clauses')\n\nconst query = (...clauses) => ctx => {\n    let text = ''\n    for (const clause of clauses) {\n        const str = clause && clause(ctx)\n        if (str) {\n            if (text) text += ctx.separator\n            text += str\n        }\n    }\n    return { text, args: ctx.params, type: ctx.userType || ctx.type }\n}\n\nconst queries = {\n    select: query(\n        wth,\n        select,\n        from,\n        where,\n        group,\n        having,\n        setop,\n        order,\n        limit,\n        offset\n    ),\n    update: query(wth, update, set, where, returning),\n    delete: query(wth, del, where, returning),\n    insert: query(wth, insert, returning)\n}\n\nmodule.exports = { query, queries }","const {\n  isObject,\n  buildCall,\n  mapJoin,\n  objectMapJoin\n} = require('../../lib-util')\nconst valuesArray = require('../common/values_array')\n\nmodule.exports = ctx => {\n  if (ctx.with.length === 0) return\n  const txt = calls(ctx, ctx.with)\n  return txt && `with ${ctx.recursive ? 'recursive ' : ''}${txt}`\n}\n\nconst buildArg = (ctx, arg) => {\n  if (isObject(arg)) return buildObject(ctx, arg)\n  throw Error('Invalid with argument:', arg)\n}\n\nconst buildProperty = (ctx, key, value) => {\n  if (typeof value === 'function') {\n    return `${ctx.mapKey(key)} ${ctx.build(value)}`\n  }\n  if (Array.isArray(value)) {\n    const { columns, values } = valuesArray(ctx, value)\n    return `${ctx.mapKey(key)}(${columns}) (${values})`\n  }\n  throw Error(`Error: Invalid .with argument`)\n}\n\nconst buildObject = objectMapJoin(buildProperty)\nconst calls = mapJoin(buildCall(mapJoin(buildArg)))\n","const expressions = require('../common/expressions')\n\nmodule.exports = ctx =>\n  `select ${buildDistinct(ctx)}${expressions(ctx, ctx.ret) || '*'}`\n\nconst buildDistinct = ctx =>\n  ctx.distinct\n    ? ctx.distinct.length\n      ? // TODO: expressions shouldn't be aliasable here\n        `distinct on (${expressions(ctx, ctx.distinct)})`\n      : 'distinct'\n    : ''\n","const fromItems = require('../common/from_items')\n\nmodule.exports = ctx => {\n  const txt = fromItems(ctx, ctx.frm)\n  return txt && `from ${txt}`\n}\n","const conditions = require('../common/conditions')\n\nmodule.exports = ctx => {\n  if (ctx.whr.length === 0) return\n  const txt = conditions(ctx, ctx.whr)\n  return txt && 'where ' + txt\n}\n","const { isObject, buildCall, mapJoin, mapJoinWrap } = require('../../lib-util')\n\nmodule.exports = ctx => {\n  if (ctx.grp.length === 0) return\n  const txt = calls(ctx, ctx.grp)\n  return txt && `group by ${txt}`\n}\n\nconst buildArg = (ctx, arg) => {\n  if (typeof arg === 'string') return arg\n  if (typeof arg === 'function') return ctx.build(arg)\n  if (Array.isArray(arg)) return buildArrayArg(ctx, arg)\n  if (isObject(arg)) return buildObject(ctx, arg)\n  throw Error('Invalid order by argument:', arg)\n}\n\nconst buildArrayArg = mapJoinWrap(buildArg)\n\n// postgres only\n// clone of buildArg() without support for object args\nconst buildCubeOrRollupArg = (ctx, arg) => {\n  if (typeof arg === 'string') return arg\n  if (typeof arg === 'function') return ctx.build(arg)\n  if (Array.isArray(arg)) return buildCubeOrRollupArrayArg(ctx, arg)\n  throw Error('Invalid cube/rollup argument')\n}\n\n// postgres only\n// clone of buildArrayArg() without support for object args\nconst buildCubeOrRollupArrayArg = mapJoinWrap(buildCubeOrRollupArg)\n\n// postgres only\nconst buildObject = (ctx, obj) => {\n  const { type, args } = obj\n  if (type === 'rollup') {\n    return `rollup ${buildCubeOrRollupArg(ctx, args)}`\n  }\n  if (type === 'cube') {\n    return `cube ${buildCubeOrRollupArg(ctx, args)}`\n  }\n  if (type === 'grouping sets') {\n    return `grouping sets ${buildArg(ctx, args)}`\n  }\n  throw Error('Invalid group by argument')\n}\n\nconst calls = mapJoin(buildCall(mapJoin(buildArg)))\n","const conditions = require('../common/conditions')\n\nmodule.exports = ctx => {\n  if (ctx.hav.length === 0) return\n  const txt = conditions(ctx, ctx.hav)\n  return txt && 'having ' + txt\n}\n","module.exports = ctx => {\n  if (ctx.setop.length === 0) return\n  let txt = ''\n  let first = true\n  const { setop } = ctx\n  for (let i = 0; i < setop.length; ++i) {\n    const { type, args } = ctx.setop[i]\n    for (let j = 0; j < args.length; ++j) {\n      if (!first) {\n        txt += ' '\n      } else {\n        first = false\n      }\n      txt += `${type} ${ctx.build(args[j])}`\n    }\n  }\n  return txt\n}\n","const { isObject, buildCall, mapJoin } = require('../../lib-util')\n\nmodule.exports = ctx => {\n  if (ctx.ord.length === 0) return\n  const txt = calls(ctx, ctx.ord)\n  return txt && `order by ${txt}`\n}\n\nconst buildArg = (ctx, arg) => {\n  if (typeof arg === 'string') return arg\n  if (typeof arg === 'function') return ctx.build(arg)\n  if (isObject(arg)) return buildObject(ctx, arg)\n  throw Error('Invalid order by argument:', arg)\n}\n\nconst buildObject = (ctx, obj) => {\n  let txt = ''\n  const { by, sort, using, nulls } = obj\n  // by\n  if (typeof by === 'string') txt += by\n  else if (typeof by === 'function') txt += ctx.build(by)\n  else throw Error('Invalid order by property \"by\"')\n  // sort\n  if (sort) {\n    if (sort === 'desc') txt += ' desc'\n    else if (sort === 'asc') txt += ' asc'\n    else if (typeof sort === 'string') txt += ` using ${sort}`\n    else throw Error('Invalid order by property \"sort\"')\n  } else if (using) {\n    if (typeof using === 'string') txt += ` using ${using}`\n    else throw Error('Invalid order by property \"using\"')\n  }\n  // nulls\n  if (nulls === undefined);\n  else if (nulls === 'last') txt += ' nulls last'\n  else if (nulls === 'first') txt += ' nulls first'\n  else throw Error('Invalid order by property \"nulls\"')\n  // return\n  return txt\n}\n\nconst calls = mapJoin(buildCall(mapJoin(buildArg)))\n","const limitOffset = require('../common/limit_offset')\n\nmodule.exports = ctx => ctx.limit && `limit ${limitOffset(ctx, ctx.limit)}`\n","const limitOffset = require('../common/limit_offset')\n\nmodule.exports = ctx => ctx.offset && `offset ${limitOffset(ctx, ctx.offset)}`\n","const fromItems = require('../common/from_items')\n\nmodule.exports = ctx => {\n  const txt = fromItems(ctx, ctx.frm)\n  return txt && `delete from ${txt}`\n}\n","const expressions = require('../common/expressions')\n\nmodule.exports = ctx => {\n  if (!ctx.ret) return\n  const txt = expressions(ctx, ctx.ret)\n  return txt && `returning ${txt}`\n}\n","const { isTaggedTemplate, buildTaggedTemplate } = require('../../lib-util')\nconst fromItems = require('../common/from_items')\nconst valuesArray = require('../common/values_array')\n\nmodule.exports = ctx => {\n  const table = fromItems(ctx, ctx.frm)\n  const values = buildCall(ctx, ctx.insert)\n  return `insert into ${table}${values}`\n}\n\nconst buildCall = (ctx, args) => {\n  if (isTaggedTemplate(args)) return ' ' + buildTaggedTemplate(ctx, args)\n  if (args.length === 1 && args[0] === undefined) return ' default values'\n  if (Array.isArray(args[0])) return buildValuesArray(ctx, args[0])\n  if (typeof args[0] === 'function') return ' ' + ctx.build(args[0])\n  return buildValuesArray(ctx, args)\n}\n\nconst buildValuesArray = (ctx, array) => {\n  const { values, columns } = valuesArray(ctx, array)\n  return `(${columns}) ${values}`\n}\n","const fromItems = require('../common/from_items')\n\nmodule.exports = ctx => {\n  const txt = fromItems(ctx, ctx.frm)\n  return txt && `update ${txt}`\n}\n","const { buildCall, mapJoin, objectMapJoin } = require('../../lib-util')\n\nmodule.exports = ctx => {\n  if (!ctx.set) return\n  const txt = calls(ctx, ctx.set)\n  return txt && 'set ' + txt\n}\n\nconst buildProperty = (ctx, key, value) =>\n  `${ctx.mapKey(key)} = ${ctx.build(value)}`\n\nconst calls = mapJoin(buildCall(mapJoin(objectMapJoin(buildProperty))))\n","const conditions = require('./conditions')\nconst expressions = require('./expressions')\nconst fromItems = require('./from_items')\nconst limitOffset = require('./limit_offset')\nconst valuesArray = require('./values_array')\n\nmodule.exports = {\n  conditions,\n  expressions,\n  fromItems,\n  limitOffset,\n  valuesArray\n}\n","const expressions = require('../lib-expression')\n\nmodule.exports = { expressions }","const {\n    unaryPre,\n    unaryPost,\n    unaryFunction,\n    binary,\n    ternary,\n    nary,\n    naryFunction,\n    oneValue,\n    compositeValue,\n    membership,\n    quantifiedComparison,\n    dateBinary\n} = require('./util')\n\n// value\nconst value = {\n    arg: compositeValue,\n    row: compositeValue,\n    unknown: oneValue,\n    boolean: oneValue,\n    number: oneValue,\n    string: oneValue,\n    array: oneValue,\n    json: oneValue,\n    table: oneValue\n}\n\n// boolean\nconst boolean = {\n    // logical\n    and: nary('and'),\n    or: nary('or'),\n    not: unaryFunction('not'),\n    // comparison\n    isTrue: unaryPost('is true'),\n    isNotTrue: unaryPost('is not true'),\n    isFalse: unaryPost('is false'),\n    isNotFalse: unaryPost('is not false'),\n    isUnknown: unaryPost('is unknown'),\n    isNotUnknown: unaryPost('is not unknown')\n}\n\n// comparison\nconst comparison = {\n    // binary comparison\n    eq: binary('='),\n    neq: binary('<>'),\n    lt: binary('<'),\n    gt: binary('>'),\n    lte: binary('<='),\n    gte: binary('>='),\n    // misc\n    between: ternary('between', 'and'),\n    isDistinctFrom: binary('is distinct from'),\n    isNotDistinctFrom: binary('is not distinct from'),\n    isNull: unaryPost('is null'),\n    isNotNull: unaryPost('is not null'),\n    in: membership('in'),\n    notIn: membership('not in'),\n    // quantified any\n    eqAny: quantifiedComparison('= any'),\n    neqAny: quantifiedComparison('<> any'),\n    ltAny: quantifiedComparison('< any'),\n    gtAny: quantifiedComparison('> any'),\n    lteAny: quantifiedComparison('<= any'),\n    gteAny: quantifiedComparison('>= any'),\n    // quantified all\n    eqAll: quantifiedComparison('= all'),\n    neqAll: quantifiedComparison('<> all'),\n    ltAll: quantifiedComparison('< all'),\n    gtAll: quantifiedComparison('> all'),\n    lteAll: quantifiedComparison('<= all'),\n    gteAll: quantifiedComparison('>= all')\n}\n\n// dates\nconst dateComparison = {\n    // dateEq: dateBinary('='),\n    // dateNeq: dateBinary('<>'),\n    dateLt: dateBinary('<'),\n    dateGt: dateBinary('>'),\n    dateLte: dateBinary('<='),\n    dateGte: dateBinary('>=')\n}\n\n// math\nconst math = {\n    add: binary('+'),\n    sub: binary('-'),\n    mul: binary('*'),\n    div: binary('/'),\n    mod: binary('%'),\n    exp: binary('%'),\n    sqrt: unaryPre('|/'),\n    cbrt: unaryPre('||/'),\n    fact: unaryPre('!!'),\n    abs: unaryFunction('abs')\n}\n\n// string\nconst string = {\n    like: binary('like'),\n    notLike: binary('not like')\n}\n\nconst array = {\n    unnest: naryFunction('unnest')\n}\n\nmodule.exports = {\n    ...value,\n    ...boolean,\n    ...comparison,\n    ...math,\n    ...array,\n    ...dateComparison,\n    ...string\n}\n","const { buildTaggedTemplate } = require('../lib-util')\n\nconst dateToYYYYMMDD = d => [\n    d.getFullYear(),\n    ('0' + (d.getMonth() + 1)).slice(-2),\n    ('0' + d.getDate()).slice(-2)\n].join('-');\n\nconst build = (ctx, arg) => {\n    // compiled expression string\n    if (arg.exp) return arg.exp\n    // tagged template argument\n    if (arg.tag) return buildTaggedTemplate(ctx, arg.tag)\n    // expression, subquery or fragment argument\n    return ctx.build(arg.arg)\n}\n\nconst unaryPre = op => ({\n    minArgs: 1,\n    maxArgs: 1,\n    build: (ctx, args) => `(${op} ${build(ctx, args[0])})`\n})\n\nconst unaryPost = op => ({\n    minArgs: 1,\n    maxArgs: 1,\n    build: (ctx, args) => `(${build(ctx, args[0])} ${op})`\n})\n\nconst unaryFunction = op => ({\n    minArgs: 1,\n    maxArgs: 1,\n    build: (ctx, args) => `${op}(${build(ctx, args[0])})`\n})\n\nconst binary = op => ({\n    minArgs: 2,\n    maxArgs: 2,\n    build: (ctx, args) => `(${build(ctx, args[0])} ${op} ${build(ctx, args[1])})`\n})\n\nconst dateBinary = op => ({\n    minArgs: 2,\n    maxArgs: 2,\n    build: (ctx, args) => {\n        const inDate = args[1].arg;\n        if (typeof inDate.getMonth === 'function') {\n            args[1].arg = dateToYYYYMMDD(inDate);\n        }\n        return `date(${build(ctx, args[0])}, 'YYYY-MM-DD') ${op} ${build(ctx, args[1])}`\n    }\n})\n\n\nconst ternary = (op1, op2) => ({\n    minArgs: 3,\n    maxArgs: 3,\n    build: (ctx, args) =>\n        `(${build(ctx, args[0])} ${op1} ${build(ctx, args[1])} ${op2} ${build(\n            ctx,\n            args[2]\n        )})`\n})\n\nconst nary = op => ({\n    minArgs: 1,\n    maxArgs: Number.MAX_SAFE_INTEGER,\n    build: (ctx, args) => {\n        if (args.length === 1) return build(ctx, args[0])\n        let txt = '('\n        for (let i = 0; i < args.length; ++i) {\n            if (i !== 0) txt += ` ${op} `\n            txt += build(ctx, args[i])\n        }\n        return txt + ')'\n    }\n})\n\nconst naryFunction = fn => ({\n    minArgs: 1,\n    maxArgs: Number.MAX_SAFE_INTEGER,\n    build: (ctx, args) => {\n        let txt = `${fn}(`\n        for (let i = 0; i < args.length; ++i) {\n            if (i !== 0) txt += `, `\n            txt += build(ctx, args[i])\n        }\n        return txt + ')'\n    }\n})\n\nconst oneValue = {\n    minArgs: 1,\n    maxArgs: 1,\n    build: (ctx, args) => build(ctx, args[0])\n}\n\nconst compositeValue = {\n    minArgs: 1,\n    maxArgs: Number.MAX_SAFE_INTEGER,\n    build: (ctx, args) => {\n        if (args.length === 1) return build(ctx, args[0])\n        let txt = ''\n        for (let i = 0; i < args.length; ++i) {\n            if (i !== 0) txt += ', '\n            txt += build(ctx, args[i])\n        }\n        return args.length > 1 ? `(${txt})` : txt\n    }\n}\n\nconst buildValuesList = (ctx, values) => {\n    if (values.length === 0) throw Error('Error: .in operation values list empty')\n    let txt = '('\n    for (let i = 0; i < values.length; ++i) {\n        if (i !== 0) txt += ', '\n        txt += ctx.build(values[i])\n    }\n    return txt + ')'\n}\n\nconst membership = op => ({\n    minArgs: 2,\n    maxArgs: 2,\n    build: (ctx, [arg1, arg2]) =>\n        `(${build(ctx, arg1)} ${op} ${Array.isArray(arg2.arg)\n            ? buildValuesList(ctx, arg2.arg)\n            : build(ctx, arg2)\n        })`\n})\n\nconst quantifiedComparison = op => ({\n    minArgs: 2,\n    maxArgs: 2,\n    build: (ctx, args) => `(${build(ctx, args[0])} ${op}(${build(ctx, args[1])}))`\n})\n\nmodule.exports = {\n    build,\n    unaryFunction,\n    unaryPre,\n    unaryPost,\n    binary,\n    ternary,\n    nary,\n    naryFunction,\n    oneValue,\n    compositeValue,\n    membership,\n    quantifiedComparison,\n    dateBinary\n}\n","// parameterizes given argument, function should be attached to ctx\nfunction parameterize(arg) {\n    if (arg === undefined) throw Error('Error: parameter is undefined')\n    return `$${this.params.push(arg)}`\n}\n\n/** Escapes an argument for use in UNPARAMETERIZED queries. NOT SAFE AT ALL. */\nconst escape = arg => {\n    if (arg === undefined) throw Error('Error: parameter is undefined')\n    if (arg === null) return 'null'\n    if (typeof arg === 'string') return escapeLiteral(arg)\n    if (typeof arg === 'number') return '' + arg\n    if (typeof arg === 'boolean') return '' + arg\n    if (typeof arg === 'object') {\n        if (Array.isArray(arg)) {\n            return `array[${arg.map(e => escape(e)).join(', ')}]`\n        } else {\n            return escapeLiteral(JSON.stringify(arg))\n        }\n    }\n    throw Error(`Invalid argument SQL argument of type '${typeof arg}'`, arg)\n}\n\n// from https://github.com/brianc/node-postgres/blob/eb076db5d47a29c19d3212feac26cd7b6d257a95/lib/client.js#L351\nconst escapeLiteral = str => {\n    let hasBackslash = false\n    let escaped = \"'\"\n    for (let i = 0; i < str.length; i++) {\n        const c = str[i]\n        if (c === \"'\") {\n            escaped += c + c\n        } else if (c === '\\\\') {\n            escaped += c + c\n            hasBackslash = true\n        } else {\n            escaped += c\n        }\n    }\n    escaped += \"'\"\n    if (hasBackslash === true) {\n        escaped = ' E' + escaped\n    }\n    return escaped\n}\n\nmodule.exports = {\n    parameterize,\n    escape\n}\n","export var POST_TYPES;\n(function (POST_TYPES) {\n    POST_TYPES[\"UPLOAD_ATTACHMENT\"] = \"upload_attachment\";\n    POST_TYPES[\"HANDSHAKE\"] = \"handshake\";\n    POST_TYPES[\"VALID_TOKEN\"] = \"valid_token\";\n    POST_TYPES[\"GET_FRAME\"] = \"get_frame\";\n    POST_TYPES[\"TABLE_SIZE\"] = \"table_size\";\n    POST_TYPES[\"COLUMN_TYPES\"] = \"column_types\";\n    POST_TYPES[\"SYNC_STACK\"] = \"sync_stack\";\n    POST_TYPES[\"SYNC_DELETE\"] = \"sync_delete\";\n    POST_TYPES[\"SYNC_INSERT\"] = \"sync_insert\";\n    POST_TYPES[\"GET_QUERY\"] = \"get_query\";\n    POST_TYPES[\"USER_ATTRIBUTES\"] = \"user_attributes\";\n    POST_TYPES[\"SET_ATTRIBUTE\"] = \"set_attribute\";\n    POST_TYPES[\"SIGN_UP\"] = \"sign_up\";\n    POST_TYPES[\"REQUEST_TOKEN\"] = \"request_token\";\n    POST_TYPES[\"EASY_QB\"] = \"easyqb\";\n    POST_TYPES[\"RESET_PASSWORD\"] = \"reset_password\";\n    POST_TYPES[\"FORGOT_PASSWORD_SEND\"] = \"forgot_password_send\";\n    POST_TYPES[\"FORGOT_PASSWORD_CONFIRM\"] = \"forgot_password_confirm\";\n})(POST_TYPES || (POST_TYPES = {}));\nexport var DB_STATUS;\n(function (DB_STATUS) {\n    DB_STATUS[\"ERROR\"] = \"error\";\n    DB_STATUS[\"PENDING\"] = \"pending\";\n    DB_STATUS[\"SUCCESS\"] = \"success\";\n})(DB_STATUS || (DB_STATUS = {}));\nexport var EXECUTE_COUNT;\n(function (EXECUTE_COUNT) {\n    EXECUTE_COUNT[\"ALL\"] = \"all\";\n    EXECUTE_COUNT[\"ONE\"] = \"one\";\n})(EXECUTE_COUNT || (EXECUTE_COUNT = {}));\n","var GlobalNamespace;\n(function (GlobalNamespace) {\n})(GlobalNamespace || (GlobalNamespace = {}));\nconst _g = { ...GlobalNamespace };\nexport default _g;\nexport function gFactory({ ebconfig, options }) {\n    const optionsObj = { ...options }; // Forces undefined to empty object\n    const gaTrackingObj = options ? options.googleAnalyticsEventTracking : {};\n    const defaultG = {\n        options: optionsObj,\n        ebconfig: ebconfig,\n        GA_USER_ID_SALT: \"m83WnAPrq\",\n        analyticsEventsToTrack: {\n            login: true,\n            sign_up: true,\n            forgot_password: true,\n            forgot_password_confirm: true,\n            reset_user_password: true,\n            ...gaTrackingObj\n        }\n    };\n    return { ...GlobalNamespace, ...defaultG };\n}\n","const\n\tINSERT = 'insert',\n\tUPDATE = 'update',\n\tDELETE = 'delete',\n\tREVERSE = 'reverse',\n\tSHUFFLE = 'shuffle',\n\toMetaKey = Symbol('observable-meta-key'),\n\tvalidObservableOptionKeys = { async: 1 },\n\tvalidObserverOptionKeys = { path: 1, pathsOf: 1, pathsFrom: 1 },\n\tprocessObserveOptions = function processObserveOptions(options) {\n\t\tconst result = {};\n\t\tif (options.path !== undefined) {\n\t\t\tif (typeof options.path !== 'string' || options.path === '') {\n\t\t\t\tthrow new Error('\"path\" option, if/when provided, MUST be a non-empty string');\n\t\t\t}\n\t\t\tresult.path = options.path;\n\t\t}\n\t\tif (options.pathsOf !== undefined) {\n\t\t\tif (options.path) {\n\t\t\t\tthrow new Error('\"pathsOf\" option MAY NOT be specified together with \"path\" option');\n\t\t\t}\n\t\t\tif (typeof options.pathsOf !== 'string') {\n\t\t\t\tthrow new Error('\"pathsOf\" option, if/when provided, MUST be a string (MAY be empty)');\n\t\t\t}\n\t\t\tresult.pathsOf = options.pathsOf.split('.').filter(n => n);\n\t\t}\n\t\tif (options.pathsFrom !== undefined) {\n\t\t\tif (options.path || options.pathsOf) {\n\t\t\t\tthrow new Error('\"pathsFrom\" option MAY NOT be specified together with \"path\"/\"pathsOf\"  option/s');\n\t\t\t}\n\t\t\tif (typeof options.pathsFrom !== 'string' || options.pathsFrom === '') {\n\t\t\t\tthrow new Error('\"pathsFrom\" option, if/when provided, MUST be a non-empty string');\n\t\t\t}\n\t\t\tresult.pathsFrom = options.pathsFrom;\n\t\t}\n\t\tconst invalidOptions = Object.keys(options).filter(option => !validObserverOptionKeys.hasOwnProperty(option));\n\t\tif (invalidOptions.length) {\n\t\t\tthrow new Error(`'${invalidOptions.join(', ')}' is/are not a valid observer option/s`);\n\t\t}\n\t\treturn result;\n\t},\n\tobserve = function observe(observer, options) {\n\t\tif (typeof observer !== 'function') {\n\t\t\tthrow new Error(`observer MUST be a function, got '${observer}'`);\n\t\t}\n\n\t\tconst\n\t\t\toMeta = this[oMetaKey],\n\t\t\tobservers = oMeta.observers;\n\t\tif (!observers.some(o => o[0] === observer)) {\n\t\t\tlet opts;\n\t\t\tif (options) {\n\t\t\t\topts = processObserveOptions(options);\n\t\t\t} else {\n\t\t\t\topts = {};\n\t\t\t}\n\t\t\tobservers.push([observer, opts]);\n\t\t} else {\n\t\t\tconsole.warn('observer may be bound to an observable only once; will NOT rebind');\n\t\t}\n\t},\n\tunobserve = function unobserve() {\n\t\tconst oMeta = this[oMetaKey];\n\t\tconst observers = oMeta.observers;\n\t\tlet ol = observers.length;\n\t\tif (ol) {\n\t\t\tlet al = arguments.length;\n\t\t\tif (al) {\n\t\t\t\twhile (al--) {\n\t\t\t\t\tlet i = ol;\n\t\t\t\t\twhile (i--) {\n\t\t\t\t\t\tif (observers[i][0] === arguments[al]) {\n\t\t\t\t\t\t\tobservers.splice(i, 1);\n\t\t\t\t\t\t\tol--;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tobservers.splice(0);\n\t\t\t}\n\t\t}\n\t},\n\tpropertiesBluePrint = { [oMetaKey]: { value: null }, observe: { value: observe }, unobserve: { value: unobserve } },\n\tprepareObject = function prepareObject(source, oMeta) {\n\t\tpropertiesBluePrint[oMetaKey].value = oMeta;\n\t\tconst target = Object.defineProperties({}, propertiesBluePrint);\n\t\tfor (const key of Object.keys(source)) {\n\t\t\ttarget[key] = getObservedOf(source[key], key, oMeta);\n\t\t}\n\t\treturn target;\n\t},\n\tprepareArray = function prepareArray(source, oMeta) {\n\t\tlet i = 0, l = source.length;\n\t\tpropertiesBluePrint[oMetaKey].value = oMeta;\n\t\tconst target = Object.defineProperties(new Array(l), propertiesBluePrint);\n\t\tfor (; i < l; i++) {\n\t\t\ttarget[i] = getObservedOf(source[i], i, oMeta);\n\t\t}\n\t\treturn target;\n\t},\n\tprepareTypedArray = function prepareTypedArray(source, oMeta) {\n\t\tpropertiesBluePrint[oMetaKey].value = oMeta;\n\t\tObject.defineProperties(source, propertiesBluePrint);\n\t\treturn source;\n\t},\n\tfilterChanges = function filterChanges(options, changes) {\n\t\tlet result = changes;\n\t\tif (options.path) {\n\t\t\tconst oPath = options.path;\n\t\t\tresult = changes.filter(change =>\n\t\t\t\tchange.path.join('.') === oPath\n\t\t\t);\n\t\t} else if (options.pathsOf) {\n\t\t\tconst oPathsOf = options.pathsOf;\n\t\t\tresult = changes.filter(change =>\n\t\t\t\tchange.path.length === oPathsOf.length + 1 ||\n\t\t\t\t(change.path.length === oPathsOf.length && (change.type === REVERSE || change.type === SHUFFLE))\n\t\t\t);\n\t\t} else if (options.pathsFrom) {\n\t\t\tconst oPathsFrom = options.pathsFrom;\n\t\t\tresult = changes.filter(change =>\n\t\t\t\tchange.path.join('.').startsWith(oPathsFrom)\n\t\t\t);\n\t\t}\n\t\treturn result;\n\t},\n\tcallObserverSafe = function callObserverSafe(listener, changes) {\n\t\ttry {\n\t\t\tlistener(changes);\n\t\t} catch (e) {\n\t\t\tconsole.error(`failed to notify listener ${listener} with ${changes}`, e);\n\t\t}\n\t},\n\tcallObserversFromMT = function callObserversFromMT() {\n\t\tconst batches = this.batches;\n\t\tthis.batches = null;\n\t\tfor (const [listener, options] of batches) {\n\t\t\tcallObserverSafe(listener, options);\n\t\t}\n\t},\n\tcallObservers = function callObservers(oMeta, changes) {\n\t\tlet currentObservable = oMeta;\n\t\tlet observers, target, options, relevantChanges, i, newPath, tmp;\n\t\tconst l = changes.length;\n\t\tdo {\n\t\t\tobservers = currentObservable.observers;\n\t\t\ti = observers.length;\n\t\t\twhile (i--) {\n\t\t\t\t[target, options] = observers[i];\n\t\t\t\trelevantChanges = filterChanges(options, changes);\n\n\t\t\t\tif (relevantChanges.length) {\n\t\t\t\t\tif (currentObservable.options.async) {\n\t\t\t\t\t\t//\tthis is the async dispatch handling\n\t\t\t\t\t\tif (!currentObservable.batches) {\n\t\t\t\t\t\t\tcurrentObservable.batches = [];\n\t\t\t\t\t\t\tqueueMicrotask(callObserversFromMT.bind(currentObservable));\n\t\t\t\t\t\t}\n\t\t\t\t\t\tlet rb = currentObservable.batches.find(b => b[0] === target);\n\t\t\t\t\t\tif (!rb) {\n\t\t\t\t\t\t\trb = [target, []];\n\t\t\t\t\t\t\tcurrentObservable.batches.push(rb);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tArray.prototype.push.apply(rb[1], relevantChanges);\n\t\t\t\t\t} else {\n\t\t\t\t\t\t//\tthis is the naive straight forward synchronous dispatch\n\t\t\t\t\t\tcallObserverSafe(target, relevantChanges);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tlet tmpa;\n\t\t\tif (currentObservable.parent) {\n\t\t\t\ttmpa = new Array(l);\n\t\t\t\tfor (let i = 0; i < l; i++) {\n\t\t\t\t\ttmp = changes[i];\n\t\t\t\t\tnewPath = [currentObservable.ownKey, ...tmp.path];\n\t\t\t\t\ttmpa[i] = {\n\t\t\t\t\t\ttype: tmp.type,\n\t\t\t\t\t\tpath: newPath,\n\t\t\t\t\t\tvalue: tmp.value,\n\t\t\t\t\t\toldValue: tmp.oldValue,\n\t\t\t\t\t\tobject: tmp.object\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t\tchanges = tmpa;\n\t\t\t\tcurrentObservable = currentObservable.parent;\n\t\t\t} else {\n\t\t\t\tcurrentObservable = null;\n\t\t\t}\n\t\t} while (currentObservable);\n\t},\n\tgetObservedOf = function getObservedOf(item, key, parent) {\n\t\tif (!item || typeof item !== 'object') {\n\t\t\treturn item;\n\t\t} else if (Array.isArray(item)) {\n\t\t\treturn new ArrayOMeta({ target: item, ownKey: key, parent: parent }).proxy;\n\t\t} else if (ArrayBuffer.isView(item)) {\n\t\t\treturn new TypedArrayOMeta({ target: item, ownKey: key, parent: parent }).proxy;\n\t\t} else if (item instanceof Date || item instanceof Error) {\n\t\t\treturn item;\n\t\t} else {\n\t\t\treturn new ObjectOMeta({ target: item, ownKey: key, parent: parent }).proxy;\n\t\t}\n\t},\n\tproxiedPop = function proxiedPop() {\n\t\tconst oMeta = this[oMetaKey],\n\t\t\ttarget = oMeta.target,\n\t\t\tpoppedIndex = target.length - 1;\n\n\t\tlet popResult = target.pop();\n\t\tif (popResult && typeof popResult === 'object') {\n\t\t\tconst tmpObserved = popResult[oMetaKey];\n\t\t\tif (tmpObserved) {\n\t\t\t\tpopResult = tmpObserved.detach();\n\t\t\t}\n\t\t}\n\n\t\tconst changes = [{ type: DELETE, path: [poppedIndex], oldValue: popResult, object: this }];\n\t\tcallObservers(oMeta, changes);\n\n\t\treturn popResult;\n\t},\n\tproxiedPush = function proxiedPush() {\n\t\tconst\n\t\t\toMeta = this[oMetaKey],\n\t\t\ttarget = oMeta.target,\n\t\t\tl = arguments.length,\n\t\t\tpushContent = new Array(l),\n\t\t\tinitialLength = target.length;\n\n\t\tfor (let i = 0; i < l; i++) {\n\t\t\tpushContent[i] = getObservedOf(arguments[i], initialLength + i, oMeta);\n\t\t}\n\t\tconst pushResult = Reflect.apply(target.push, target, pushContent);\n\n\t\tconst changes = [];\n\t\tfor (let i = initialLength, l = target.length; i < l; i++) {\n\t\t\tchanges[i - initialLength] = { type: INSERT, path: [i], value: target[i], object: this };\n\t\t}\n\t\tcallObservers(oMeta, changes);\n\n\t\treturn pushResult;\n\t},\n\tproxiedShift = function proxiedShift() {\n\t\tconst\n\t\t\toMeta = this[oMetaKey],\n\t\t\ttarget = oMeta.target;\n\t\tlet shiftResult, i, l, item, tmpObserved;\n\n\t\tshiftResult = target.shift();\n\t\tif (shiftResult && typeof shiftResult === 'object') {\n\t\t\ttmpObserved = shiftResult[oMetaKey];\n\t\t\tif (tmpObserved) {\n\t\t\t\tshiftResult = tmpObserved.detach();\n\t\t\t}\n\t\t}\n\n\t\t//\tupdate indices of the remaining items\n\t\tfor (i = 0, l = target.length; i < l; i++) {\n\t\t\titem = target[i];\n\t\t\tif (item && typeof item === 'object') {\n\t\t\t\ttmpObserved = item[oMetaKey];\n\t\t\t\tif (tmpObserved) {\n\t\t\t\t\ttmpObserved.ownKey = i;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tconst changes = [{ type: DELETE, path: [0], oldValue: shiftResult, object: this }];\n\t\tcallObservers(oMeta, changes);\n\n\t\treturn shiftResult;\n\t},\n\tproxiedUnshift = function proxiedUnshift() {\n\t\tconst\n\t\t\toMeta = this[oMetaKey],\n\t\t\ttarget = oMeta.target,\n\t\t\tal = arguments.length,\n\t\t\tunshiftContent = new Array(al);\n\n\t\tfor (let i = 0; i < al; i++) {\n\t\t\tunshiftContent[i] = getObservedOf(arguments[i], i, oMeta);\n\t\t}\n\t\tconst unshiftResult = Reflect.apply(target.unshift, target, unshiftContent);\n\n\t\tfor (let i = 0, l = target.length, item; i < l; i++) {\n\t\t\titem = target[i];\n\t\t\tif (item && typeof item === 'object') {\n\t\t\t\tconst tmpObserved = item[oMetaKey];\n\t\t\t\tif (tmpObserved) {\n\t\t\t\t\ttmpObserved.ownKey = i;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t//\tpublish changes\n\t\tconst l = unshiftContent.length;\n\t\tconst changes = new Array(l);\n\t\tfor (let i = 0; i < l; i++) {\n\t\t\tchanges[i] = { type: INSERT, path: [i], value: target[i], object: this };\n\t\t}\n\t\tcallObservers(oMeta, changes);\n\n\t\treturn unshiftResult;\n\t},\n\tproxiedReverse = function proxiedReverse() {\n\t\tconst\n\t\t\toMeta = this[oMetaKey],\n\t\t\ttarget = oMeta.target;\n\t\tlet i, l, item;\n\n\t\ttarget.reverse();\n\t\tfor (i = 0, l = target.length; i < l; i++) {\n\t\t\titem = target[i];\n\t\t\tif (item && typeof item === 'object') {\n\t\t\t\tconst tmpObserved = item[oMetaKey];\n\t\t\t\tif (tmpObserved) {\n\t\t\t\t\ttmpObserved.ownKey = i;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tconst changes = [{ type: REVERSE, path: [], object: this }];\n\t\tcallObservers(oMeta, changes);\n\n\t\treturn this;\n\t},\n\tproxiedSort = function proxiedSort(comparator) {\n\t\tconst\n\t\t\toMeta = this[oMetaKey],\n\t\t\ttarget = oMeta.target;\n\t\tlet i, l, item;\n\n\t\ttarget.sort(comparator);\n\t\tfor (i = 0, l = target.length; i < l; i++) {\n\t\t\titem = target[i];\n\t\t\tif (item && typeof item === 'object') {\n\t\t\t\tconst tmpObserved = item[oMetaKey];\n\t\t\t\tif (tmpObserved) {\n\t\t\t\t\ttmpObserved.ownKey = i;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tconst changes = [{ type: SHUFFLE, path: [], object: this }];\n\t\tcallObservers(oMeta, changes);\n\n\t\treturn this;\n\t},\n\tproxiedFill = function proxiedFill(filVal, start, end) {\n\t\tconst\n\t\t\toMeta = this[oMetaKey],\n\t\t\ttarget = oMeta.target,\n\t\t\tchanges = [],\n\t\t\ttarLen = target.length,\n\t\t\tprev = target.slice(0);\n\t\tstart = start === undefined ? 0 : (start < 0 ? Math.max(tarLen + start, 0) : Math.min(start, tarLen));\n\t\tend = end === undefined ? tarLen : (end < 0 ? Math.max(tarLen + end, 0) : Math.min(end, tarLen));\n\n\t\tif (start < tarLen && end > start) {\n\t\t\ttarget.fill(filVal, start, end);\n\n\t\t\tlet tmpObserved;\n\t\t\tfor (let i = start, item, tmpTarget; i < end; i++) {\n\t\t\t\titem = target[i];\n\t\t\t\ttarget[i] = getObservedOf(item, i, oMeta);\n\t\t\t\tif (prev.hasOwnProperty(i)) {\n\t\t\t\t\ttmpTarget = prev[i];\n\t\t\t\t\tif (tmpTarget && typeof tmpTarget === 'object') {\n\t\t\t\t\t\ttmpObserved = tmpTarget[oMetaKey];\n\t\t\t\t\t\tif (tmpObserved) {\n\t\t\t\t\t\t\ttmpTarget = tmpObserved.detach();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tchanges.push({ type: UPDATE, path: [i], value: target[i], oldValue: tmpTarget, object: this });\n\t\t\t\t} else {\n\t\t\t\t\tchanges.push({ type: INSERT, path: [i], value: target[i], object: this });\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tcallObservers(oMeta, changes);\n\t\t}\n\n\t\treturn this;\n\t},\n\tproxiedCopyWithin = function proxiedCopyWithin(dest, start, end) {\n\t\tconst\n\t\t\toMeta = this[oMetaKey],\n\t\t\ttarget = oMeta.target,\n\t\t\ttarLen = target.length;\n\t\tdest = dest < 0 ? Math.max(tarLen + dest, 0) : dest;\n\t\tstart = start === undefined ? 0 : (start < 0 ? Math.max(tarLen + start, 0) : Math.min(start, tarLen));\n\t\tend = end === undefined ? tarLen : (end < 0 ? Math.max(tarLen + end, 0) : Math.min(end, tarLen));\n\t\tconst len = Math.min(end - start, tarLen - dest);\n\n\t\tif (dest < tarLen && dest !== start && len > 0) {\n\t\t\tconst\n\t\t\t\tprev = target.slice(0),\n\t\t\t\tchanges = [];\n\n\t\t\ttarget.copyWithin(dest, start, end);\n\n\t\t\tfor (let i = dest, nItem, oItem, tmpObserved; i < dest + len; i++) {\n\t\t\t\t//\tupdate newly placed observables, if any\n\t\t\t\tnItem = target[i];\n\t\t\t\tif (nItem && typeof nItem === 'object') {\n\t\t\t\t\tnItem = getObservedOf(nItem, i, oMeta);\n\t\t\t\t\ttarget[i] = nItem;\n\t\t\t\t}\n\n\t\t\t\t//\tdetach overridden observables, if any\n\t\t\t\toItem = prev[i];\n\t\t\t\tif (oItem && typeof oItem === 'object') {\n\t\t\t\t\ttmpObserved = oItem[oMetaKey];\n\t\t\t\t\tif (tmpObserved) {\n\t\t\t\t\t\toItem = tmpObserved.detach();\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (typeof nItem !== 'object' && nItem === oItem) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\tchanges.push({ type: UPDATE, path: [i], value: nItem, oldValue: oItem, object: this });\n\t\t\t}\n\n\t\t\tcallObservers(oMeta, changes);\n\t\t}\n\n\t\treturn this;\n\t},\n\tproxiedSplice = function proxiedSplice() {\n\t\tconst\n\t\t\toMeta = this[oMetaKey],\n\t\t\ttarget = oMeta.target,\n\t\t\tsplLen = arguments.length,\n\t\t\tspliceContent = new Array(splLen),\n\t\t\ttarLen = target.length;\n\n\t\t//\tobservify the newcomers\n\t\tfor (let i = 0; i < splLen; i++) {\n\t\t\tspliceContent[i] = getObservedOf(arguments[i], i, oMeta);\n\t\t}\n\n\t\t//\tcalculate pointers\n\t\tconst\n\t\t\tstartIndex = splLen === 0 ? 0 : (spliceContent[0] < 0 ? tarLen + spliceContent[0] : spliceContent[0]),\n\t\t\tremoved = splLen < 2 ? tarLen - startIndex : spliceContent[1],\n\t\t\tinserted = Math.max(splLen - 2, 0),\n\t\t\tspliceResult = Reflect.apply(target.splice, target, spliceContent),\n\t\t\tnewTarLen = target.length;\n\n\t\t//\treindex the paths\n\t\tlet tmpObserved;\n\t\tfor (let i = 0, item; i < newTarLen; i++) {\n\t\t\titem = target[i];\n\t\t\tif (item && typeof item === 'object') {\n\t\t\t\ttmpObserved = item[oMetaKey];\n\t\t\t\tif (tmpObserved) {\n\t\t\t\t\ttmpObserved.ownKey = i;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t//\tdetach removed objects\n\t\tlet i, l, item;\n\t\tfor (i = 0, l = spliceResult.length; i < l; i++) {\n\t\t\titem = spliceResult[i];\n\t\t\tif (item && typeof item === 'object') {\n\t\t\t\ttmpObserved = item[oMetaKey];\n\t\t\t\tif (tmpObserved) {\n\t\t\t\t\tspliceResult[i] = tmpObserved.detach();\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tconst changes = [];\n\t\tlet index;\n\t\tfor (index = 0; index < removed; index++) {\n\t\t\tif (index < inserted) {\n\t\t\t\tchanges.push({ type: UPDATE, path: [startIndex + index], value: target[startIndex + index], oldValue: spliceResult[index], object: this });\n\t\t\t} else {\n\t\t\t\tchanges.push({ type: DELETE, path: [startIndex + index], oldValue: spliceResult[index], object: this });\n\t\t\t}\n\t\t}\n\t\tfor (; index < inserted; index++) {\n\t\t\tchanges.push({ type: INSERT, path: [startIndex + index], value: target[startIndex + index], object: this });\n\t\t}\n\t\tcallObservers(oMeta, changes);\n\n\t\treturn spliceResult;\n\t},\n\tproxiedTypedArraySet = function proxiedTypedArraySet(source, offset) {\n\t\tconst\n\t\t\toMeta = this[oMetaKey],\n\t\t\ttarget = oMeta.target,\n\t\t\tsouLen = source.length,\n\t\t\tprev = target.slice(0);\n\t\toffset = offset || 0;\n\n\t\ttarget.set(source, offset);\n\t\tconst changes = new Array(souLen);\n\t\tfor (let i = offset; i < (souLen + offset); i++) {\n\t\t\tchanges[i - offset] = { type: UPDATE, path: [i], value: target[i], oldValue: prev[i], object: this };\n\t\t}\n\n\t\tcallObservers(oMeta, changes);\n\t},\n\tproxiedArrayMethods = {\n\t\tpop: proxiedPop,\n\t\tpush: proxiedPush,\n\t\tshift: proxiedShift,\n\t\tunshift: proxiedUnshift,\n\t\treverse: proxiedReverse,\n\t\tsort: proxiedSort,\n\t\tfill: proxiedFill,\n\t\tcopyWithin: proxiedCopyWithin,\n\t\tsplice: proxiedSplice\n\t},\n\tproxiedTypedArrayMethods = {\n\t\treverse: proxiedReverse,\n\t\tsort: proxiedSort,\n\t\tfill: proxiedFill,\n\t\tcopyWithin: proxiedCopyWithin,\n\t\tset: proxiedTypedArraySet\n\t};\n\nclass OMetaBase {\n\tconstructor(properties, cloningFunction) {\n\t\tconst { target, parent, ownKey } = properties;\n\t\tif (parent && ownKey !== undefined) {\n\t\t\tthis.parent = parent;\n\t\t\tthis.ownKey = ownKey;\n\t\t} else {\n\t\t\tthis.parent = null;\n\t\t\tthis.ownKey = null;\n\t\t}\n\t\tconst targetClone = cloningFunction(target, this);\n\t\tthis.observers = [];\n\t\tthis.revocable = Proxy.revocable(targetClone, this);\n\t\tthis.proxy = this.revocable.proxy;\n\t\tthis.target = targetClone;\n\t\tthis.options = this.processOptions(properties.options);\n\t}\n\n\tprocessOptions(options) {\n\t\tif (options) {\n\t\t\tif (typeof options !== 'object') {\n\t\t\t\tthrow new Error(`Observable options if/when provided, MAY only be an object, got '${options}'`);\n\t\t\t}\n\t\t\tconst invalidOptions = Object.keys(options).filter(option => !validObservableOptionKeys.hasOwnProperty(option));\n\t\t\tif (invalidOptions.length) {\n\t\t\t\tthrow new Error(`'${invalidOptions.join(', ')}' is/are not a valid Observable option/s`);\n\t\t\t}\n\t\t\treturn Object.assign({}, options);\n\t\t} else {\n\t\t\treturn {};\n\t\t}\n\t}\n\n\tdetach() {\n\t\tthis.parent = null;\n\t\treturn this.target;\n\t}\n\n\tset(target, key, value) {\n\t\tlet oldValue = target[key];\n\n\t\tif (value !== oldValue) {\n\t\t\tconst newValue = getObservedOf(value, key, this);\n\t\t\ttarget[key] = newValue;\n\n\t\t\tif (oldValue && typeof oldValue === 'object') {\n\t\t\t\tconst tmpObserved = oldValue[oMetaKey];\n\t\t\t\tif (tmpObserved) {\n\t\t\t\t\toldValue = tmpObserved.detach();\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tconst changes = oldValue === undefined\n\t\t\t\t? [{ type: INSERT, path: [key], value: newValue, object: this.proxy }]\n\t\t\t\t: [{ type: UPDATE, path: [key], value: newValue, oldValue: oldValue, object: this.proxy }];\n\t\t\tcallObservers(this, changes);\n\t\t}\n\n\t\treturn true;\n\t}\n\n\tdeleteProperty(target, key) {\n\t\tlet oldValue = target[key];\n\n\t\tdelete target[key];\n\n\t\tif (oldValue && typeof oldValue === 'object') {\n\t\t\tconst tmpObserved = oldValue[oMetaKey];\n\t\t\tif (tmpObserved) {\n\t\t\t\toldValue = tmpObserved.detach();\n\t\t\t}\n\t\t}\n\n\t\tconst changes = [{ type: DELETE, path: [key], oldValue: oldValue, object: this.proxy }];\n\t\tcallObservers(this, changes);\n\n\t\treturn true;\n\t}\n}\n\nclass ObjectOMeta extends OMetaBase {\n\tconstructor(properties) {\n\t\tsuper(properties, prepareObject);\n\t}\n}\n\nclass ArrayOMeta extends OMetaBase {\n\tconstructor(properties) {\n\t\tsuper(properties, prepareArray);\n\t}\n\n\tget(target, key) {\n\t\tif (proxiedArrayMethods.hasOwnProperty(key)) {\n\t\t\treturn proxiedArrayMethods[key];\n\t\t} else {\n\t\t\treturn target[key];\n\t\t}\n\t}\n}\n\nclass TypedArrayOMeta extends OMetaBase {\n\tconstructor(properties) {\n\t\tsuper(properties, prepareTypedArray);\n\t}\n\n\tget(target, key) {\n\t\tif (proxiedTypedArrayMethods.hasOwnProperty(key)) {\n\t\t\treturn proxiedTypedArrayMethods[key];\n\t\t} else {\n\t\t\treturn target[key];\n\t\t}\n\t}\n}\n\nclass Observable {\n\tconstructor() {\n\t\tthrow new Error('Observable MAY NOT be created via constructor, see \"Observable.from\" API');\n\t}\n\n\tstatic from(target, options) {\n\t\tif (!target || typeof target !== 'object') {\n\t\t\tthrow new Error('observable MAY ONLY be created from a non-null object');\n\t\t} else if (target[oMetaKey]) {\n\t\t\treturn target;\n\t\t} else if (Array.isArray(target)) {\n\t\t\treturn new ArrayOMeta({ target: target, ownKey: null, parent: null, options: options }).proxy;\n\t\t} else if (ArrayBuffer.isView(target)) {\n\t\t\treturn new TypedArrayOMeta({ target: target, ownKey: null, parent: null, options: options }).proxy;\n\t\t} else if (target instanceof Date || target instanceof Error) {\n\t\t\tthrow new Error(`${target} found to be one of a on-observable types`);\n\t\t} else {\n\t\t\treturn new ObjectOMeta({ target: target, ownKey: null, parent: null, options: options }).proxy;\n\t\t}\n\t}\n\n\tstatic isObservable(input) {\n\t\treturn !!(input && input[oMetaKey]);\n\t}\n}\n\nObject.freeze(Observable);\n\nexport { Observable };","import _g from \"./g\";\nexport default function utilsFactory(globals) {\n    const g = globals || _g;\n    const generateBareUrl = (type, integrationID) => `https://api.easybase.io/${type}/${integrationID}`;\n    const generateAuthBody = () => {\n        const stamp = Date.now();\n        return {\n            token: g.token,\n            token_time: ~~(g.session / (stamp % 64)),\n            now: stamp\n        };\n    };\n    function log(...params) {\n        if (g.options.logging) {\n            console.log(\"EASYBASE — \", ...params);\n        }\n    }\n    return {\n        generateAuthBody,\n        generateBareUrl,\n        log\n    };\n}\n","import { POST_TYPES } from \"./types\";\nimport _g from \"./g\";\nimport utilsFactory from \"./utils\";\nimport fetch from 'cross-fetch';\nexport default function authFactory(globals) {\n    const g = globals || _g;\n    const { generateBareUrl, generateAuthBody, log } = utilsFactory(g);\n    function _clearTokens() {\n        g.token = \"\";\n        g.refreshToken = \"\";\n        g.newTokenCallback();\n        g.userID = undefined;\n    }\n    const getUserAttributes = async () => {\n        try {\n            const attrsRes = await tokenPost(POST_TYPES.USER_ATTRIBUTES);\n            g.analyticsEnabled && g.analyticsEventsToTrack.get_user_attributes && g.analyticsEvent('get_user_attributes');\n            return attrsRes.data;\n        }\n        catch (error) {\n            log(error);\n            return error;\n        }\n    };\n    const setUserAttribute = async (key, value) => {\n        try {\n            const setAttrsRes = await tokenPost(POST_TYPES.SET_ATTRIBUTE, {\n                key,\n                value\n            });\n            g.analyticsEnabled && g.analyticsEventsToTrack.set_user_attribute && g.analyticsEvent('set_user_attribute', { key });\n            return {\n                success: setAttrsRes.success,\n                message: JSON.stringify(setAttrsRes.data)\n            };\n        }\n        catch (error) {\n            return {\n                success: false,\n                message: error.message || \"Error\",\n                errorCode: error.errorCode || undefined\n            };\n        }\n    };\n    const forgotPassword = async (username, emailTemplate) => {\n        try {\n            const setAttrsRes = await tokenPost(POST_TYPES.FORGOT_PASSWORD_SEND, {\n                username,\n                emailTemplate\n            });\n            g.analyticsEnabled && g.analyticsEventsToTrack.forgot_password && g.analyticsEvent('forgot_password');\n            return {\n                success: setAttrsRes.success,\n                message: setAttrsRes.data\n            };\n        }\n        catch (error) {\n            return {\n                success: false,\n                message: error.message || \"Error\",\n                errorCode: error.errorCode || undefined\n            };\n        }\n    };\n    const forgotPasswordConfirm = async (code, username, newPassword) => {\n        try {\n            const setAttrsRes = await tokenPost(POST_TYPES.FORGOT_PASSWORD_CONFIRM, {\n                username,\n                code,\n                newPassword\n            });\n            g.analyticsEnabled && g.analyticsEventsToTrack.forgot_password_confirm && g.analyticsEvent('forgot_password_confirm');\n            return {\n                success: setAttrsRes.success,\n                message: setAttrsRes.data\n            };\n        }\n        catch (error) {\n            return {\n                success: false,\n                message: error.message || \"Error\",\n                errorCode: error.errorCode || undefined\n            };\n        }\n    };\n    const signUp = async (newUserID, password, userAttributes) => {\n        try {\n            const signUpRes = await tokenPost(POST_TYPES.SIGN_UP, {\n                newUserID,\n                password,\n                userAttributes\n            });\n            g.analyticsEnabled && g.analyticsEventsToTrack.sign_up && g.analyticsEvent('sign_up', { method: \"Easybase\" });\n            return {\n                success: signUpRes.success,\n                message: signUpRes.data\n            };\n        }\n        catch (error) {\n            return {\n                success: false,\n                message: error.message || \"Error\",\n                errorCode: error.errorCode || undefined\n            };\n        }\n    };\n    const signIn = async (userID, password) => {\n        const t1 = Date.now();\n        g.session = Math.floor(100000000 + Math.random() * 900000000);\n        const integrationType = g.ebconfig.integration.split(\"-\")[0].toUpperCase() === \"PROJECT\" ? \"PROJECT\" : \"REACT\";\n        try {\n            const res = await fetch(generateBareUrl(integrationType, g.ebconfig.integration), {\n                method: \"POST\",\n                headers: {\n                    'Eb-Post-Req': POST_TYPES.HANDSHAKE,\n                    'Accept': 'application/json',\n                    'Content-Type': 'application/json'\n                },\n                body: JSON.stringify({\n                    version: g.ebconfig.version,\n                    session: g.session,\n                    instance: g.instance,\n                    userID,\n                    password\n                })\n            });\n            const resData = await res.json();\n            if (resData.token) {\n                g.token = resData.token;\n                g.refreshToken = resData.refreshToken;\n                g.newTokenCallback();\n                g.userID = resData.userID;\n                g.mounted = true;\n                const [validTokenRes, { hash }, { fromUtf8 }] = await Promise.all([tokenPost(POST_TYPES.VALID_TOKEN), import('fast-sha256'), import('@aws-sdk/util-utf8-browser')]);\n                const elapsed = Date.now() - t1;\n                if (validTokenRes.success) {\n                    log(\"Valid auth initiation in \" + elapsed + \"ms\");\n                    if (g.analyticsEnabled && g.analyticsEventsToTrack.login) {\n                        const hashOut = hash(fromUtf8(g.GA_USER_ID_SALT + resData.userID));\n                        const hexHash = Array.prototype.map.call(hashOut, x => ('00' + x.toString(16)).slice(-2)).join('');\n                        g.analyticsIdentify(hexHash);\n                        g.analyticsEvent('login', { method: \"Easybase\" });\n                    }\n                    return {\n                        success: true,\n                        message: \"Successfully signed in user\"\n                    };\n                }\n                else {\n                    return {\n                        success: false,\n                        message: \"Could not sign in user\"\n                    };\n                }\n            }\n            else {\n                return {\n                    success: false,\n                    message: \"Could not sign in user\",\n                    errorCode: resData.ErrorCode || undefined\n                };\n            }\n        }\n        catch (error) {\n            return {\n                success: false,\n                message: error.message || \"Could not sign in user\",\n                errorCode: error.errorCode || undefined\n            };\n        }\n    };\n    const resetUserPassword = async (currentPassword, newPassword) => {\n        if (typeof newPassword !== \"string\" || newPassword.length > 100) {\n            return {\n                success: false,\n                message: \"newPassword must be of type string\"\n            };\n        }\n        if (typeof currentPassword !== \"string\" || currentPassword.length > 100) {\n            return {\n                success: false,\n                message: \"currentPassword must be of type string\"\n            };\n        }\n        try {\n            const setAttrsRes = await tokenPost(POST_TYPES.RESET_PASSWORD, { currentPassword, newPassword });\n            g.analyticsEnabled && g.analyticsEventsToTrack.reset_user_password && g.analyticsEvent('reset_user_password');\n            return {\n                success: setAttrsRes.success,\n                message: JSON.stringify(setAttrsRes.data)\n            };\n        }\n        catch (error) {\n            return {\n                success: false,\n                message: error.message || \"Error\",\n                errorCode: error.errorCode || undefined\n            };\n        }\n    };\n    const userID = () => g.userID || undefined;\n    const signOut = () => {\n        g.token = \"\";\n        g.newTokenCallback();\n        g.userID = undefined;\n    };\n    const initAuth = async () => {\n        const t1 = Date.now();\n        g.session = Math.floor(100000000 + Math.random() * 900000000);\n        log(`Handshaking on${g.instance} instance`);\n        const integrationType = g.ebconfig.integration.split(\"-\")[0].toUpperCase() === \"PROJECT\" ? \"PROJECT\" : \"REACT\";\n        try {\n            const res = await fetch(generateBareUrl(integrationType, g.ebconfig.integration), {\n                method: \"POST\",\n                headers: {\n                    'Eb-Post-Req': POST_TYPES.HANDSHAKE,\n                    'Accept': 'application/json',\n                    'Content-Type': 'application/json'\n                },\n                body: JSON.stringify({\n                    version: g.ebconfig.version,\n                    tt: g.ebconfig.tt,\n                    session: g.session,\n                    instance: g.instance\n                })\n            });\n            const resData = await res.json();\n            if (resData.token) {\n                g.token = resData.token;\n                g.mounted = true;\n                const validTokenRes = await tokenPost(POST_TYPES.VALID_TOKEN);\n                const elapsed = Date.now() - t1;\n                if (validTokenRes.success) {\n                    log(\"Valid auth initiation in \" + elapsed + \"ms\");\n                    return true;\n                }\n                else {\n                    return false;\n                }\n            }\n            else {\n                return false;\n            }\n        }\n        catch (error) {\n            console.error(error);\n            return false;\n        }\n    };\n    const tokenPost = async (postType, body) => {\n        if (!g.mounted) {\n            await initAuth();\n        }\n        const integrationType = g.ebconfig.integration.split(\"-\")[0].toUpperCase() === \"PROJECT\" ? \"PROJECT\" : \"REACT\";\n        const res = await fetch(generateBareUrl(integrationType, g.ebconfig.integration), {\n            method: \"POST\",\n            headers: {\n                'Eb-Post-Req': postType,\n                'Accept': 'application/json',\n                'Content-Type': 'application/json'\n            },\n            body: JSON.stringify({\n                _auth: generateAuthBody(),\n                ...body\n            })\n        });\n        const resData = await res.json();\n        if ({}.hasOwnProperty.call(resData, 'ErrorCode') || {}.hasOwnProperty.call(resData, 'code')) {\n            if (resData.ErrorCode === \"TokenExpired\") {\n                if (integrationType === \"PROJECT\") {\n                    try {\n                        const req_res = await tokenPost(POST_TYPES.REQUEST_TOKEN, {\n                            refreshToken: g.refreshToken,\n                            token: g.token\n                        });\n                        if (req_res.success) {\n                            g.token = req_res.data.token;\n                            g.newTokenCallback();\n                            return tokenPost(postType, body);\n                        }\n                        else {\n                            throw new Error(req_res.data || \"Error\");\n                        }\n                    }\n                    catch (error) {\n                        _clearTokens();\n                        return {\n                            success: false,\n                            data: error.message || error\n                        };\n                    }\n                }\n                else {\n                    await initAuth();\n                }\n                return tokenPost(postType, body);\n            }\n            else {\n                const err = new Error(resData.body || resData.ErrorCode || resData.code || \"Error\");\n                err.errorCode = resData.ErrorCode || resData.code;\n                throw err;\n            }\n        }\n        else {\n            return {\n                success: resData.success,\n                data: resData.body\n            };\n        }\n    };\n    const tokenPostAttachment = async (formData, customHeaders) => {\n        if (!g.mounted) {\n            await initAuth();\n        }\n        const regularAuthbody = generateAuthBody();\n        const attachmentAuth = {\n            'Eb-token': regularAuthbody.token,\n            'Eb-token-time': regularAuthbody.token_time,\n            'Eb-now': regularAuthbody.now\n        };\n        const integrationType = g.ebconfig.integration.split(\"-\")[0].toUpperCase() === \"PROJECT\" ? \"PROJECT\" : \"REACT\";\n        const res = await fetch(generateBareUrl(integrationType, g.ebconfig.integration), {\n            method: \"POST\",\n            headers: {\n                'Eb-Post-Req': POST_TYPES.UPLOAD_ATTACHMENT,\n                ...customHeaders,\n                ...attachmentAuth\n            },\n            body: formData\n        });\n        const resData = await res.json();\n        if ({}.hasOwnProperty.call(resData, 'ErrorCode') || {}.hasOwnProperty.call(resData, 'code')) {\n            if (resData.ErrorCode === \"TokenExpired\") {\n                if (integrationType === \"PROJECT\") {\n                    try {\n                        const req_res = await tokenPost(POST_TYPES.REQUEST_TOKEN, {\n                            refreshToken: g.refreshToken,\n                            token: g.token\n                        });\n                        if (req_res.success) {\n                            g.token = req_res.data.token;\n                            g.newTokenCallback();\n                            return tokenPostAttachment(formData, customHeaders);\n                        }\n                        else {\n                            throw new Error(req_res.data || \"Error\");\n                        }\n                    }\n                    catch (error) {\n                        _clearTokens();\n                        return {\n                            success: false,\n                            data: error.message || error\n                        };\n                    }\n                }\n                else {\n                    await initAuth();\n                }\n                return tokenPostAttachment(formData, customHeaders);\n            }\n            else {\n                const err = new Error(resData.body || resData.ErrorCode || resData.code || \"Error\");\n                err.errorCode = resData.ErrorCode || resData.code;\n                throw err;\n            }\n        }\n        else {\n            return {\n                success: resData.success,\n                data: resData.body\n            };\n        }\n    };\n    return {\n        initAuth,\n        tokenPost,\n        tokenPostAttachment,\n        signUp,\n        setUserAttribute,\n        getUserAttributes,\n        signIn,\n        signOut,\n        resetUserPassword,\n        forgotPassword,\n        forgotPasswordConfirm,\n        userID\n    };\n}\n","import { POST_TYPES } from \"./types\";\nimport { gFactory } from \"./g\";\nimport deepEqual from \"fast-deep-equal\";\nimport { Observable } from \"./object-observer\";\nimport imageExtensions from \"./assets/image-extensions.json\";\nimport videoExtensions from \"./assets/video-extensions.json\";\nimport authFactory from \"./auth\";\nimport utilsFactory from \"./utils\";\nimport tableFactory from \"./table\";\nimport dbFactory from './db';\nexport default function EasybaseProvider({ ebconfig, options }) {\n    if (typeof ebconfig !== 'object' || ebconfig === null || ebconfig === undefined) {\n        console.error(\"No ebconfig object passed. do `import ebconfig from \\\"./ebconfig.js\\\"` and pass it to the Easybase provider\");\n        return false;\n    }\n    else if (!ebconfig.integration) {\n        console.error(\"Invalid ebconfig object passed. Download ebconfig.js from Easybase.io and try again.\");\n        return false;\n    }\n    const g = gFactory({ ebconfig, options });\n    const { tokenPost, tokenPostAttachment, signUp, setUserAttribute, getUserAttributes, signIn, signOut, resetUserPassword, forgotPassword, forgotPasswordConfirm, userID } = authFactory(g);\n    const { Query, fullTableSize, tableTypes } = tableFactory(g);\n    const { db, dbEventListener, e, setFile, setImage, setVideo } = dbFactory(g);\n    const { log } = utilsFactory(g);\n    // eslint-disable-next-line dot-notation\n    const isIE = typeof document !== 'undefined' && !!document['documentMode'];\n    if (isIE) {\n        console.error(\"EASYBASE — easybasejs does not support Internet Explorer. Please use a different browser.\");\n    }\n    if (g.ebconfig.tt && g.ebconfig.integration.split(\"-\")[0].toUpperCase() !== \"PROJECT\") {\n        g.mounted = false;\n    }\n    else {\n        g.mounted = true;\n    }\n    g.instance = \"Node\";\n    let _isFrameInitialized = true;\n    let _frameConfiguration = {\n        offset: 0,\n        limit: 0\n    };\n    const _observedChangeStack = [];\n    let _recordIdMap = new WeakMap();\n    let _observableFrame = {\n        observe: (_) => { },\n        unobserve: () => { }\n    };\n    let _frame = [];\n    let isSyncing = false;\n    function Frame(index) {\n        if (typeof index === \"number\") {\n            return _observableFrame[index];\n        }\n        else {\n            return _observableFrame;\n        }\n    }\n    const _recordIDExists = (record) => !!_recordIdMap.get(record);\n    const configureFrame = (options) => {\n        _frameConfiguration = { ..._frameConfiguration };\n        if (options.limit !== undefined)\n            _frameConfiguration.limit = options.limit;\n        if (options.offset !== undefined && options.offset >= 0)\n            _frameConfiguration.offset = options.offset;\n        if (options.tableName !== undefined)\n            _frameConfiguration.tableName = options.tableName;\n        _isFrameInitialized = false;\n        return {\n            message: \"Successfully configured frame. Run sync() for changes to be shown in frame\",\n            success: true\n        };\n    };\n    const currentConfiguration = () => ({ ..._frameConfiguration });\n    const deleteRecord = async (options) => {\n        const _frameRecord = _frame.find(ele => deepEqual(ele, options.record));\n        if (_frameRecord && _recordIdMap.get(_frameRecord)) {\n            const res = await tokenPost(POST_TYPES.SYNC_DELETE, {\n                _id: _recordIdMap.get(_frameRecord),\n                tableName: options.tableName\n            });\n            return {\n                success: res.success,\n                message: res.data\n            };\n        }\n        else {\n            try {\n                const res = await tokenPost(POST_TYPES.SYNC_DELETE, {\n                    record: options.record,\n                    tableName: options.tableName\n                });\n                return {\n                    success: res.success,\n                    message: res.data\n                };\n            }\n            catch (error) {\n                console.error(\"Easybase Error: deleteRecord failed \", error);\n                return {\n                    success: false,\n                    message: \"Easybase Error: deleteRecord failed \" + error,\n                    errorCode: error.errorCode || undefined\n                };\n            }\n        }\n    };\n    const addRecord = async (options) => {\n        const defaultValues = {\n            insertAtEnd: false,\n            newRecord: {},\n            tableName: undefined\n        };\n        const fullOptions = { ...defaultValues, ...options };\n        try {\n            const res = await tokenPost(POST_TYPES.SYNC_INSERT, fullOptions);\n            return {\n                message: res.data,\n                success: res.success\n            };\n        }\n        catch (error) {\n            console.error(\"Easybase Error: addRecord failed \", error);\n            return {\n                message: \"Easybase Error: addRecord failed \" + error,\n                success: false,\n                errorCode: error.errorCode || undefined\n            };\n        }\n    };\n    // Only allow the deletion of one element at a time\n    // First handle shifting of the array size. Then iterate\n    const sync = async () => {\n        const _realignFrames = (newData) => {\n            let isNewDataTheSame = true;\n            if (newData.length !== _frame.length) {\n                isNewDataTheSame = false;\n            }\n            else {\n                for (let i = 0; i < newData.length; i++) {\n                    const newDataNoId = { ...newData[i] };\n                    delete newDataNoId._id;\n                    if (!deepEqual(newDataNoId, _frame[i])) {\n                        isNewDataTheSame = false;\n                        break;\n                    }\n                }\n            }\n            if (!isNewDataTheSame) {\n                const oldframe = [..._frame];\n                oldframe.length = newData.length;\n                _recordIdMap = new WeakMap();\n                for (let i = 0; i < newData.length; i++) {\n                    const currNewEle = newData[i];\n                    _recordIdMap.set(currNewEle, currNewEle._id);\n                    delete currNewEle._id;\n                    oldframe[i] = currNewEle;\n                }\n                _frame = oldframe;\n                _observableFrame.unobserve();\n                _observableFrame = Observable.from(_frame);\n                _observableFrame.observe((allChanges) => {\n                    allChanges.forEach((change) => {\n                        _observedChangeStack.push({\n                            type: change.type,\n                            path: change.path,\n                            value: change.value,\n                            _id: _recordIdMap.get(_frame[Number(change.path[0])])\n                            // Not bringing change.object or change.oldValue\n                        });\n                        log(JSON.stringify({\n                            type: change.type,\n                            path: change.path,\n                            value: change.value,\n                            _id: _recordIdMap.get(_frame[Number(change.path[0])])\n                            // Not bringing change.object or change.oldValue\n                        }));\n                    });\n                });\n            }\n        };\n        if (isSyncing) {\n            return {\n                success: false,\n                message: \"Easybase Error: the provider is currently syncing, use 'await sync()' before calling sync() again\"\n            };\n        }\n        isSyncing = true;\n        if (_isFrameInitialized) {\n            if (_observedChangeStack.length > 0) {\n                log(\"Stack change: \", _observedChangeStack);\n                const res = await tokenPost(POST_TYPES.SYNC_STACK, {\n                    stack: _observedChangeStack,\n                    ..._frameConfiguration\n                });\n                if (res.success) {\n                    _observedChangeStack.length = 0;\n                }\n            }\n        }\n        try {\n            const res = await tokenPost(POST_TYPES.GET_FRAME, _frameConfiguration);\n            // Check if the array recieved from db is the same as frame\n            // If not, update it and send useFrameEffect\n            if (res.success === false) {\n                console.error(res.data);\n                isSyncing = false;\n                return {\n                    success: false,\n                    message: \"\" + res.data\n                };\n            }\n            else {\n                _isFrameInitialized = true;\n                _realignFrames(res.data);\n                isSyncing = false;\n                return {\n                    message: 'Success. Call frame for data',\n                    success: true\n                };\n            }\n        }\n        catch (error) {\n            console.error(\"Easybase Error: get failed \", error);\n            isSyncing = false;\n            return {\n                success: false,\n                message: \"Easybase Error: get failed \" + error,\n                errorCode: error.errorCode || undefined\n            };\n        }\n    };\n    const updateRecordImage = async (options) => {\n        const res = await _updateRecordAttachment(options, \"image\");\n        return res;\n    };\n    const updateRecordVideo = async (options) => {\n        const res = await _updateRecordAttachment(options, \"video\");\n        return res;\n    };\n    const updateRecordFile = async (options) => {\n        const res = await _updateRecordAttachment(options, \"file\");\n        return res;\n    };\n    const _updateRecordAttachment = async (options, type) => {\n        const _frameRecord = _frame.find(ele => deepEqual(ele, options.record));\n        if (_frameRecord === undefined || !_recordIDExists(_frameRecord)) {\n            log(\"Attempting to add attachment to a new record that has not been synced. Please sync() before trying to add attachment.\");\n            return {\n                success: false,\n                message: \"Attempting to add attachment to a new record that has not been synced. Please sync() before trying to add attachment.\"\n            };\n        }\n        const ext = options.attachment.name.split(\".\").pop().toLowerCase();\n        log(ext);\n        if (type === \"image\" && !imageExtensions.includes(ext)) {\n            return {\n                success: false,\n                message: \"Image files must have a proper image extension in the file name\"\n            };\n        }\n        if (type === \"video\" && !videoExtensions.includes(ext)) {\n            return {\n                success: false,\n                message: \"Video files must have a proper video extension in the file name\"\n            };\n        }\n        function isFileFromURI(f) {\n            return f.uri !== undefined;\n        }\n        const formData = new FormData();\n        if (isFileFromURI(options.attachment)) {\n            formData.append(\"file\", options.attachment);\n            formData.append(\"name\", options.attachment.name);\n        }\n        else {\n            formData.append(\"file\", options.attachment);\n            formData.append(\"name\", options.attachment.name);\n        }\n        const customHeaders = {\n            'Eb-upload-type': type,\n            'Eb-column-name': options.columnName,\n            'Eb-record-id': _recordIdMap.get(_frameRecord),\n            'Eb-table-name': options.tableName\n        };\n        const res = await tokenPostAttachment(formData, customHeaders);\n        await sync();\n        return {\n            message: res.data,\n            success: res.success\n        };\n    };\n    const c = {\n        /** +++ Will be deprecated */\n        configureFrame,\n        addRecord,\n        deleteRecord,\n        sync,\n        Frame,\n        currentConfiguration,\n        /** --- */\n        updateRecordImage,\n        updateRecordVideo,\n        updateRecordFile,\n        fullTableSize,\n        tableTypes,\n        Query,\n        signIn,\n        signOut,\n        signUp,\n        resetUserPassword,\n        setUserAttribute,\n        getUserAttributes,\n        db,\n        dbEventListener,\n        e,\n        setFile,\n        setImage,\n        setVideo,\n        forgotPassword,\n        forgotPasswordConfirm,\n        userID\n    };\n    return c;\n}\n","import { POST_TYPES } from \"./types\";\nimport _g from \"./g\";\nimport authFactory from \"./auth\";\nexport default function tableFactory(globals) {\n    const g = globals || _g;\n    const { tokenPost } = authFactory(g);\n    const Query = async (options) => {\n        const defaultOptions = {\n            queryName: \"\"\n        };\n        const fullOptions = { ...defaultOptions, ...options };\n        const res = await tokenPost(POST_TYPES.GET_QUERY, fullOptions);\n        if (res.success) {\n            g.analyticsEnabled && g.analyticsEventsToTrack.query && g.analyticsEvent('query', { queryName: fullOptions.queryName, tableName: fullOptions.tableName || undefined });\n            return res.data;\n        }\n        else {\n            return [];\n        }\n    };\n    async function fullTableSize(tableName) {\n        const res = await tokenPost(POST_TYPES.TABLE_SIZE, tableName ? { tableName } : {});\n        if (res.success) {\n            g.analyticsEnabled && g.analyticsEventsToTrack.full_table_size && g.analyticsEvent('full_table_size', { tableName: tableName || undefined });\n            return res.data;\n        }\n        else {\n            return 0;\n        }\n    }\n    async function tableTypes(tableName) {\n        const res = await tokenPost(POST_TYPES.COLUMN_TYPES, tableName ? { tableName } : {});\n        if (res.success) {\n            g.analyticsEnabled && g.analyticsEventsToTrack.table_types && g.analyticsEvent('table_types', { tableName: tableName || undefined });\n            return res.data;\n        }\n        else {\n            return {};\n        }\n    }\n    return {\n        Query,\n        fullTableSize,\n        tableTypes\n    };\n}\n","import _g from \"./g\";\nimport easyqb from 'easyqb';\nimport authFactory from \"./auth\";\nimport { POST_TYPES, DB_STATUS, EXECUTE_COUNT } from \"./types\";\nimport imageExtensions from \"./assets/image-extensions.json\";\nimport videoExtensions from \"./assets/video-extensions.json\";\nexport default function dbFactory(globals) {\n    const g = globals || _g;\n    const { tokenPost, tokenPostAttachment } = authFactory(g);\n    let _listenerIndex = 0;\n    const _listeners = {};\n    function _runListeners(...params) {\n        for (const cb of Object.values(_listeners)) {\n            cb(...params);\n        }\n    }\n    const dbEventListener = (callback) => {\n        const currKey = '' + _listenerIndex++;\n        _listeners[currKey] = callback;\n        return () => {\n            delete _listeners[currKey];\n        };\n    };\n    const allCallback = async (trx, tableName, userAssociatedRecordsOnly) => {\n        trx.count = \"all\";\n        trx.tableName = tableName;\n        if (userAssociatedRecordsOnly)\n            trx.userAssociatedRecordsOnly = userAssociatedRecordsOnly;\n        _runListeners(DB_STATUS.PENDING, trx.type, EXECUTE_COUNT.ALL, tableName !== \"untable\" ? tableName : null);\n        try {\n            const res = await tokenPost(POST_TYPES.EASY_QB, trx);\n            if (res.success) {\n                g.analyticsEnabled && g.analyticsEventsToTrack.db_all && g.analyticsEvent('db_all', { tableName: tableName !== \"untable\" ? tableName : undefined, type: trx.type });\n                _runListeners(DB_STATUS.SUCCESS, trx.type, EXECUTE_COUNT.ALL, tableName !== \"untable\" ? tableName : null, res.data);\n                return res.data;\n            }\n            else {\n                _runListeners(DB_STATUS.ERROR, trx.type, EXECUTE_COUNT.ALL, tableName !== \"untable\" ? tableName : null);\n                return res;\n            }\n        }\n        catch (error) {\n            console.warn(error);\n            _runListeners(DB_STATUS.ERROR, trx.type, EXECUTE_COUNT.ALL, tableName !== \"untable\" ? tableName : null);\n            return [];\n        }\n    };\n    const oneCallback = async (trx, tableName, userAssociatedRecordsOnly) => {\n        trx.count = \"one\";\n        trx.tableName = tableName;\n        if (userAssociatedRecordsOnly)\n            trx.userAssociatedRecordsOnly = userAssociatedRecordsOnly;\n        _runListeners(DB_STATUS.PENDING, trx.type, EXECUTE_COUNT.ONE, tableName !== \"untable\" ? tableName : null);\n        try {\n            const res = await tokenPost(POST_TYPES.EASY_QB, trx);\n            if (res.success) {\n                g.analyticsEnabled && g.analyticsEventsToTrack.db_one && g.analyticsEvent('db_one', { tableName: tableName !== \"untable\" ? tableName : undefined, type: trx.type });\n                _runListeners(DB_STATUS.SUCCESS, trx.type, EXECUTE_COUNT.ONE, tableName !== \"untable\" ? tableName : null, res.data);\n                return res.data;\n            }\n            else {\n                _runListeners(DB_STATUS.ERROR, trx.type, EXECUTE_COUNT.ONE, tableName !== \"untable\" ? tableName : null);\n                return res;\n            }\n        }\n        catch (error) {\n            console.warn(error);\n            _runListeners(DB_STATUS.ERROR, trx.type, EXECUTE_COUNT.ONE, tableName !== \"untable\" ? tableName : null);\n            return {};\n        }\n    };\n    const db = (tableName, userAssociatedRecordsOnly) => {\n        if (tableName && typeof tableName === \"string\") {\n            return easyqb({ allCallback, oneCallback, userAssociatedRecordsOnly, tableName: tableName.toUpperCase() })(tableName.replace(/[^0-9a-zA-Z]/g, '_').toUpperCase());\n        }\n        else {\n            return easyqb({ allCallback, oneCallback, userAssociatedRecordsOnly, tableName: \"untable\" })(\"untable\");\n        }\n    };\n    const _setAttachment = async ({ recordKey, columnName, attachment, tableName, type }) => {\n        const ext = attachment.name.split(\".\").pop().toLowerCase();\n        if (type === \"image\" && !imageExtensions.includes(ext)) {\n            return {\n                success: false,\n                message: \"Image files must have a proper image extension in the file name\"\n            };\n        }\n        if (type === \"video\" && !videoExtensions.includes(ext)) {\n            return {\n                success: false,\n                message: \"Video files must have a proper video extension in the file name\"\n            };\n        }\n        const formData = new FormData();\n        formData.append(\"file\", attachment);\n        formData.append(\"name\", attachment.name);\n        const customHeaders = {\n            'Eb-upload-type': type,\n            'Eb-column-name': columnName,\n            'Eb-record-id': recordKey,\n            'Eb-table-name': tableName\n        };\n        try {\n            const res = await tokenPostAttachment(formData, customHeaders);\n            if (res.success) {\n                g.analyticsEnabled && g.analyticsEventsToTrack.db_one && g.analyticsEvent('db_one', { tableName: tableName !== \"untable\" ? tableName : undefined, type: \"update\" });\n                _runListeners(DB_STATUS.SUCCESS, \"update\", EXECUTE_COUNT.ONE, tableName !== \"untable\" ? tableName : null, res.data);\n            }\n            else {\n                _runListeners(DB_STATUS.ERROR, \"update\", EXECUTE_COUNT.ONE, tableName !== \"untable\" ? tableName : null);\n            }\n            return {\n                message: res.data,\n                success: res.success\n            };\n        }\n        catch (error) {\n            console.warn(error);\n            _runListeners(DB_STATUS.ERROR, \"update\", EXECUTE_COUNT.ONE, tableName !== \"untable\" ? tableName : null);\n            return {\n                message: \"\",\n                success: false,\n            };\n        }\n    };\n    const setImage = async (recordKey, columnName, image, tableName) => _setAttachment({\n        recordKey,\n        columnName,\n        tableName,\n        attachment: image,\n        type: \"image\"\n    });\n    const setVideo = async (recordKey, columnName, video, tableName) => _setAttachment({\n        recordKey,\n        columnName,\n        tableName,\n        attachment: video,\n        type: \"video\"\n    });\n    const setFile = async (recordKey, columnName, file, tableName) => _setAttachment({\n        recordKey,\n        columnName,\n        tableName,\n        attachment: file,\n        type: \"file\"\n    });\n    return {\n        db,\n        dbEventListener,\n        e: easyqb().e,\n        setImage,\n        setFile,\n        setVideo\n    };\n}\n","import fetch from 'cross-fetch';\nexport { default as EasybaseProvider } from \"./EasybaseProvider/EasybaseProvider\";\nconst generateBareUrl = (type, integrationID) => `https://api.easybase.io/${type}/${integrationID}`;\nconst isBadInt = (my_int) => my_int !== undefined && my_int !== null && Math.floor(my_int) !== my_int;\nconst isBadString = (my_string) => my_string !== undefined && my_string !== null && typeof my_string !== \"string\";\nconst isBadIntegrationID = (my_string) => my_string === undefined || my_string === null || typeof my_string !== \"string\";\nconst isBadObject = (my_obj) => my_obj !== undefined && my_obj !== null && typeof my_obj !== \"object\";\nconst isBadBool = (my_bool) => my_bool !== undefined && my_bool !== null && typeof my_bool !== \"boolean\";\n/**\n *\n * @param {GetOptions} options GetOptions.\n * @returns {Promise<Array>} Array of records.\n *\n */\nexport function get(options) {\n    const defaultOptions = {\n        integrationID: \"\",\n        offset: undefined,\n        limit: undefined,\n        authentication: undefined,\n        customQuery: undefined\n    };\n    const { integrationID, offset, limit, authentication, customQuery } = { ...defaultOptions, ...options };\n    if (isBadIntegrationID(integrationID))\n        throw new Error(\"integrationID is required and must be a string\");\n    if (isBadInt(offset))\n        throw new Error(\"offset must be an integer\");\n    if (isBadInt(limit))\n        throw new Error(\"limit must be an integer\");\n    if (isBadString(authentication))\n        throw new Error(\"authentication must be a string or null\");\n    if (isBadObject(customQuery))\n        throw new Error(\"customQuery must be an object or null\");\n    return new Promise((resolve, reject) => {\n        try {\n            let fetch_body = {};\n            if (typeof customQuery === \"object\")\n                fetch_body = { ...customQuery };\n            if (offset !== undefined)\n                fetch_body.offset = offset;\n            if (limit !== undefined)\n                fetch_body.limit = limit;\n            if (authentication !== undefined)\n                fetch_body.authentication = authentication;\n            fetch(generateBareUrl('get', integrationID), {\n                method: \"POST\",\n                body: JSON.stringify(fetch_body),\n                headers: {\n                    'Accept': 'application/json',\n                    'Content-Type': 'application/json'\n                }\n            })\n                .then(res => res.json())\n                .then(resData => {\n                if ({}.hasOwnProperty.call(resData, 'ErrorCode')) {\n                    console.error(resData.message);\n                    resolve([resData.message]);\n                }\n                else\n                    resolve(resData);\n            });\n        }\n        catch (err) {\n            reject(err);\n        }\n    });\n}\n/**\n *\n * @param {PostOptions} options PostOptions\n * @returns {Promise<String>} Post status.\n *\n */\nexport function post(options) {\n    const defaultValues = {\n        integrationID: \"\",\n        newRecord: {},\n        authentication: undefined,\n        insertAtEnd: undefined\n    };\n    const { integrationID, newRecord, authentication, insertAtEnd } = { ...defaultValues, ...options };\n    if (isBadIntegrationID(integrationID))\n        throw new Error(\"integrationID is required and must be a string\");\n    if (isBadObject(newRecord))\n        throw new Error(\"newRecord is required and must be a string\");\n    if (isBadString(authentication))\n        throw new Error(\"authentication must be a string or null\");\n    if (isBadBool(insertAtEnd))\n        throw new Error(\"insertAtEnd must be a boolean or null\");\n    return new Promise((resolve, reject) => {\n        try {\n            const fetch_body = { ...newRecord };\n            if (authentication !== undefined)\n                fetch_body.authentication = authentication;\n            if (insertAtEnd !== undefined)\n                fetch_body.insertAtEnd = insertAtEnd;\n            fetch(generateBareUrl('post', integrationID), {\n                method: \"POST\",\n                body: JSON.stringify(fetch_body),\n                headers: {\n                    'Accept': 'application/json',\n                    'Content-Type': 'application/json'\n                }\n            })\n                .then(res => res.json())\n                .then(resData => {\n                if ({}.hasOwnProperty.call(resData, 'ErrorCode'))\n                    console.error(resData.message);\n                resolve(resData);\n            });\n        }\n        catch (err) {\n            reject(err);\n        }\n    });\n}\n/**\n *\n * @param {UpdateOptions} options UpdateOptions\n * @returns {Promise<String>} Update status.\n */\nexport function update(options) {\n    const defaultValues = {\n        integrationID: \"\",\n        updateValues: {},\n        authentication: undefined,\n        customQuery: undefined\n    };\n    const { integrationID, updateValues, authentication, customQuery } = { ...defaultValues, ...options };\n    if (isBadIntegrationID(integrationID))\n        throw new Error(\"integrationID is required and must be a string\");\n    if (isBadObject(updateValues) || updateValues === undefined)\n        throw new Error(\"updateValues is required and must be a string\");\n    if (isBadString(authentication))\n        throw new Error(\"authentication must be a string or null\");\n    if (isBadObject(customQuery))\n        throw new Error(\"customQuery must be an object or null\");\n    return new Promise((resolve, reject) => {\n        try {\n            const fetch_body = { updateValues, ...customQuery };\n            if (authentication !== undefined)\n                fetch_body.authentication = authentication;\n            fetch(generateBareUrl('update', integrationID), {\n                method: \"POST\",\n                body: JSON.stringify(fetch_body),\n                headers: {\n                    'Accept': 'application/json',\n                    'Content-Type': 'application/json'\n                }\n            })\n                .then(res => res.json())\n                .then(resData => {\n                if ({}.hasOwnProperty.call(resData, 'ErrorCode'))\n                    console.error(resData.message);\n                resolve(resData.message);\n            });\n        }\n        catch (err) {\n            reject(err);\n        }\n    });\n}\n/**\n *\n * @param {DeleteOptions} options DeleteOptions\n * @return {Promise<String>} Delete status.\n */\nexport function Delete(options) {\n    const defaultValues = {\n        integrationID: \"\",\n        authentication: undefined,\n        customQuery: undefined\n    };\n    const { integrationID, authentication, customQuery } = { ...defaultValues, ...options };\n    if (isBadIntegrationID(integrationID))\n        throw new Error(\"integrationID is required and must be a string\");\n    if (isBadString(authentication))\n        throw new Error(\"authentication must be a string or null\");\n    if (isBadObject(customQuery))\n        throw new Error(\"customQuery must be an object or null\");\n    return new Promise((resolve, reject) => {\n        try {\n            const fetch_body = { ...customQuery };\n            if (authentication !== undefined)\n                fetch_body.authentication = authentication;\n            fetch(generateBareUrl('delete', integrationID), {\n                method: \"POST\",\n                body: JSON.stringify(fetch_body),\n                headers: {\n                    'Accept': 'application/json',\n                    'Content-Type': 'application/json'\n                }\n            })\n                .then(res => res.json())\n                .then(resData => {\n                if ({}.hasOwnProperty.call(resData, 'ErrorCode'))\n                    console.error(resData.message);\n                resolve(resData.message);\n            });\n        }\n        catch (err) {\n            reject(err);\n        }\n    });\n}\n/**\n * @async\n * Call a cloud function, created in Easybase interface.\n * @param {string} route Route as detailed in Easybase. Found under 'Deploy'. Will be in the form of ####...####-function-name.\n * @param {Record<string, any>} postBody Optional object to pass as the body of the POST request. This object will available in your cloud function's event.body.\n * @return {Promise<string>} Response from your cloud function. Detailed with a call to 'return context.succeed(\"RESPONSE\")'.\n */\nexport async function callFunction(route, postBody) {\n    const res = await fetch(generateBareUrl('function', route.split(\"/\").pop()), {\n        method: \"POST\",\n        headers: {\n            'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(postBody) || \"\"\n    });\n    const rawDataText = await res.text();\n    return rawDataText;\n}\n"],"sourceRoot":""}