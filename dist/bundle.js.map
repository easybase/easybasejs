{"version":3,"sources":["webpack://EasyBase/webpack/universalModuleDefinition","webpack://EasyBase/webpack/bootstrap","webpack://EasyBase/./node_modules/cross-fetch/dist/browser-ponyfill.js","webpack://EasyBase/./node_modules/fast-deep-equal/index.js","webpack://EasyBase/./src/EasybaseProvider/types.ts","webpack://EasyBase/./src/EasybaseProvider/g.ts","webpack://EasyBase/./src/EasybaseProvider/object-observer.js","webpack://EasyBase/./src/EasybaseProvider/utils.ts","webpack://EasyBase/./src/EasybaseProvider/auth.ts","webpack://EasyBase/./src/EasybaseProvider/EasybaseProvider.ts","webpack://EasyBase/./src/EasybaseProvider/table.ts","webpack://EasyBase/./src/index.ts"],"names":["root","factory","exports","module","define","amd","window","installedModules","__webpack_require__","moduleId","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","__self__","F","this","fetch","DOMException","self","support","Blob","e","viewClasses","isArrayBufferView","ArrayBuffer","isView","obj","indexOf","toString","normalizeName","String","test","TypeError","toLowerCase","normalizeValue","iteratorFor","items","iterator","next","shift","done","undefined","Headers","headers","map","forEach","append","Array","isArray","header","getOwnPropertyNames","consumed","body","bodyUsed","Promise","reject","fileReaderReady","reader","resolve","onload","result","onerror","error","readBlobAsArrayBuffer","blob","FileReader","promise","readAsArrayBuffer","bufferClone","buf","slice","view","Uint8Array","byteLength","set","buffer","Body","_initBody","_bodyInit","_bodyText","isPrototypeOf","_bodyBlob","FormData","_bodyFormData","URLSearchParams","DataView","_bodyArrayBuffer","type","rejected","Error","arrayBuffer","then","text","readAsText","chars","length","fromCharCode","join","readArrayBufferAsText","formData","decode","json","JSON","parse","oldValue","has","callback","thisArg","keys","push","values","entries","methods","Request","input","options","method","upcased","url","credentials","signal","toUpperCase","referrer","form","trim","split","bytes","replace","decodeURIComponent","Response","bodyInit","status","ok","statusText","clone","response","redirectStatuses","redirect","RangeError","location","err","message","stack","constructor","init","request","aborted","xhr","XMLHttpRequest","abortXhr","abort","rawHeaders","getAllResponseHeaders","line","parts","responseURL","responseText","ontimeout","onabort","open","withCredentials","responseType","setRequestHeader","addEventListener","onreadystatechange","readyState","removeEventListener","send","polyfill","default","equal","a","b","RegExp","source","flags","valueOf","POST_TYPES","GlobalNamespace","oMetaKey","validObservableOptionKeys","async","validObserverOptionKeys","path","pathsOf","pathsFrom","propertiesBluePrint","observe","observer","observers","some","console","warn","opts","filter","invalidOptions","option","processObserveOptions","unobserve","oMeta","ol","al","arguments","splice","prepareObject","target","defineProperties","getObservedOf","prepareArray","prepareTypedArray","filterChanges","changes","oPath","change","oPathsOf","oPathsFrom","startsWith","callObserverSafe","listener","callObserversFromMT","batches","callObservers","relevantChanges","newPath","tmp","currentObservable","queueMicrotask","rb","find","apply","tmpa","parent","ownKey","item","ArrayOMeta","proxy","TypedArrayOMeta","Date","ObjectOMeta","proxiedReverse","reverse","tmpObserved","proxiedSort","comparator","sort","proxiedFill","filVal","start","end","tarLen","prev","Math","max","min","fill","tmpTarget","detach","proxiedCopyWithin","dest","len","copyWithin","nItem","oItem","proxiedArrayMethods","pop","poppedIndex","popResult","pushContent","initialLength","pushResult","Reflect","shiftResult","unshift","unshiftContent","unshiftResult","splLen","spliceContent","startIndex","removed","inserted","spliceResult","newTarLen","index","proxiedTypedArrayMethods","offset","souLen","OMetaBase","properties","cloningFunction","targetClone","revocable","Proxy","processOptions","assign","newValue","super","Observable","freeze","utilsFactory","globals","g","generateAuthBody","stamp","now","token","token_time","session","generateBareUrl","integrationID","log","params","logging","authFactory","initAuth","t1","floor","random","instance","integrationType","ebconfig","integration","res","HANDSHAKE","stringify","version","tt","resData","mounted","validTokenRes","tokenPost","VALID_TOKEN","elapsed","success","postType","_auth","code","req_res","REQUEST_TOKEN","refreshToken","data","newTokenCallback","tokenPostAttachment","customHeaders","regularAuthbody","attachmentAuth","UPLOAD_ATTACHMENT","signUp","newUserID","password","userAttributes","signUpRes","SIGN_UP","setUserAttribute","setAttrsRes","SET_ATTRIBUTE","getUserAttributes","USER_ATTRIBUTES","isUserSignedIn","signIn","userID","signOut","EasybaseProvider","Query","fullTableSize","tableTypes","fullOptions","queryName","GET_QUERY","tableName","TABLE_SIZE","COLUMN_TYPES","tableFactory","document","_isFrameInitialized","_frameConfiguration","limit","_observedChangeStack","_recordIdMap","WeakMap","_observableFrame","_","_frame","isSyncing","sync","SYNC_STACK","GET_FRAME","newData","isNewDataTheSame","newDataNoId","_id","oldframe","currNewEle","from","allChanges","Number","_realignFrames","_updateRecordAttachment","_frameRecord","ele","record","ext","attachment","includes","uri","columnName","configureFrame","addRecord","insertAtEnd","newRecord","SYNC_INSERT","deleteRecord","SYNC_DELETE","updateRecordImage","updateRecordVideo","updateRecordFile","Frame","currentConfiguration","isBadInt","my_int","isBadString","my_string","isBadIntegrationID","isBadObject","my_obj","defaultOptions","authentication","customQuery","fetch_body","post","defaultValues","my_bool","update","updateValues","Delete","callFunction","route","postBody"],"mappings":"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","file":"bundle.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"EasyBase\"] = factory();\n\telse\n\t\troot[\"EasyBase\"] = factory();\n})(window, function() {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 4);\n","var __self__ = (function (root) {\nfunction F() {\nthis.fetch = false;\nthis.DOMException = root.DOMException\n}\nF.prototype = root;\nreturn new F();\n})(typeof self !== 'undefined' ? self : this);\n(function(self) {\n\nvar irrelevant = (function (exports) {\n\n  var support = {\n    searchParams: 'URLSearchParams' in self,\n    iterable: 'Symbol' in self && 'iterator' in Symbol,\n    blob:\n      'FileReader' in self &&\n      'Blob' in self &&\n      (function() {\n        try {\n          new Blob();\n          return true\n        } catch (e) {\n          return false\n        }\n      })(),\n    formData: 'FormData' in self,\n    arrayBuffer: 'ArrayBuffer' in self\n  };\n\n  function isDataView(obj) {\n    return obj && DataView.prototype.isPrototypeOf(obj)\n  }\n\n  if (support.arrayBuffer) {\n    var viewClasses = [\n      '[object Int8Array]',\n      '[object Uint8Array]',\n      '[object Uint8ClampedArray]',\n      '[object Int16Array]',\n      '[object Uint16Array]',\n      '[object Int32Array]',\n      '[object Uint32Array]',\n      '[object Float32Array]',\n      '[object Float64Array]'\n    ];\n\n    var isArrayBufferView =\n      ArrayBuffer.isView ||\n      function(obj) {\n        return obj && viewClasses.indexOf(Object.prototype.toString.call(obj)) > -1\n      };\n  }\n\n  function normalizeName(name) {\n    if (typeof name !== 'string') {\n      name = String(name);\n    }\n    if (/[^a-z0-9\\-#$%&'*+.^_`|~]/i.test(name)) {\n      throw new TypeError('Invalid character in header field name')\n    }\n    return name.toLowerCase()\n  }\n\n  function normalizeValue(value) {\n    if (typeof value !== 'string') {\n      value = String(value);\n    }\n    return value\n  }\n\n  // Build a destructive iterator for the value list\n  function iteratorFor(items) {\n    var iterator = {\n      next: function() {\n        var value = items.shift();\n        return {done: value === undefined, value: value}\n      }\n    };\n\n    if (support.iterable) {\n      iterator[Symbol.iterator] = function() {\n        return iterator\n      };\n    }\n\n    return iterator\n  }\n\n  function Headers(headers) {\n    this.map = {};\n\n    if (headers instanceof Headers) {\n      headers.forEach(function(value, name) {\n        this.append(name, value);\n      }, this);\n    } else if (Array.isArray(headers)) {\n      headers.forEach(function(header) {\n        this.append(header[0], header[1]);\n      }, this);\n    } else if (headers) {\n      Object.getOwnPropertyNames(headers).forEach(function(name) {\n        this.append(name, headers[name]);\n      }, this);\n    }\n  }\n\n  Headers.prototype.append = function(name, value) {\n    name = normalizeName(name);\n    value = normalizeValue(value);\n    var oldValue = this.map[name];\n    this.map[name] = oldValue ? oldValue + ', ' + value : value;\n  };\n\n  Headers.prototype['delete'] = function(name) {\n    delete this.map[normalizeName(name)];\n  };\n\n  Headers.prototype.get = function(name) {\n    name = normalizeName(name);\n    return this.has(name) ? this.map[name] : null\n  };\n\n  Headers.prototype.has = function(name) {\n    return this.map.hasOwnProperty(normalizeName(name))\n  };\n\n  Headers.prototype.set = function(name, value) {\n    this.map[normalizeName(name)] = normalizeValue(value);\n  };\n\n  Headers.prototype.forEach = function(callback, thisArg) {\n    for (var name in this.map) {\n      if (this.map.hasOwnProperty(name)) {\n        callback.call(thisArg, this.map[name], name, this);\n      }\n    }\n  };\n\n  Headers.prototype.keys = function() {\n    var items = [];\n    this.forEach(function(value, name) {\n      items.push(name);\n    });\n    return iteratorFor(items)\n  };\n\n  Headers.prototype.values = function() {\n    var items = [];\n    this.forEach(function(value) {\n      items.push(value);\n    });\n    return iteratorFor(items)\n  };\n\n  Headers.prototype.entries = function() {\n    var items = [];\n    this.forEach(function(value, name) {\n      items.push([name, value]);\n    });\n    return iteratorFor(items)\n  };\n\n  if (support.iterable) {\n    Headers.prototype[Symbol.iterator] = Headers.prototype.entries;\n  }\n\n  function consumed(body) {\n    if (body.bodyUsed) {\n      return Promise.reject(new TypeError('Already read'))\n    }\n    body.bodyUsed = true;\n  }\n\n  function fileReaderReady(reader) {\n    return new Promise(function(resolve, reject) {\n      reader.onload = function() {\n        resolve(reader.result);\n      };\n      reader.onerror = function() {\n        reject(reader.error);\n      };\n    })\n  }\n\n  function readBlobAsArrayBuffer(blob) {\n    var reader = new FileReader();\n    var promise = fileReaderReady(reader);\n    reader.readAsArrayBuffer(blob);\n    return promise\n  }\n\n  function readBlobAsText(blob) {\n    var reader = new FileReader();\n    var promise = fileReaderReady(reader);\n    reader.readAsText(blob);\n    return promise\n  }\n\n  function readArrayBufferAsText(buf) {\n    var view = new Uint8Array(buf);\n    var chars = new Array(view.length);\n\n    for (var i = 0; i < view.length; i++) {\n      chars[i] = String.fromCharCode(view[i]);\n    }\n    return chars.join('')\n  }\n\n  function bufferClone(buf) {\n    if (buf.slice) {\n      return buf.slice(0)\n    } else {\n      var view = new Uint8Array(buf.byteLength);\n      view.set(new Uint8Array(buf));\n      return view.buffer\n    }\n  }\n\n  function Body() {\n    this.bodyUsed = false;\n\n    this._initBody = function(body) {\n      this._bodyInit = body;\n      if (!body) {\n        this._bodyText = '';\n      } else if (typeof body === 'string') {\n        this._bodyText = body;\n      } else if (support.blob && Blob.prototype.isPrototypeOf(body)) {\n        this._bodyBlob = body;\n      } else if (support.formData && FormData.prototype.isPrototypeOf(body)) {\n        this._bodyFormData = body;\n      } else if (support.searchParams && URLSearchParams.prototype.isPrototypeOf(body)) {\n        this._bodyText = body.toString();\n      } else if (support.arrayBuffer && support.blob && isDataView(body)) {\n        this._bodyArrayBuffer = bufferClone(body.buffer);\n        // IE 10-11 can't handle a DataView body.\n        this._bodyInit = new Blob([this._bodyArrayBuffer]);\n      } else if (support.arrayBuffer && (ArrayBuffer.prototype.isPrototypeOf(body) || isArrayBufferView(body))) {\n        this._bodyArrayBuffer = bufferClone(body);\n      } else {\n        this._bodyText = body = Object.prototype.toString.call(body);\n      }\n\n      if (!this.headers.get('content-type')) {\n        if (typeof body === 'string') {\n          this.headers.set('content-type', 'text/plain;charset=UTF-8');\n        } else if (this._bodyBlob && this._bodyBlob.type) {\n          this.headers.set('content-type', this._bodyBlob.type);\n        } else if (support.searchParams && URLSearchParams.prototype.isPrototypeOf(body)) {\n          this.headers.set('content-type', 'application/x-www-form-urlencoded;charset=UTF-8');\n        }\n      }\n    };\n\n    if (support.blob) {\n      this.blob = function() {\n        var rejected = consumed(this);\n        if (rejected) {\n          return rejected\n        }\n\n        if (this._bodyBlob) {\n          return Promise.resolve(this._bodyBlob)\n        } else if (this._bodyArrayBuffer) {\n          return Promise.resolve(new Blob([this._bodyArrayBuffer]))\n        } else if (this._bodyFormData) {\n          throw new Error('could not read FormData body as blob')\n        } else {\n          return Promise.resolve(new Blob([this._bodyText]))\n        }\n      };\n\n      this.arrayBuffer = function() {\n        if (this._bodyArrayBuffer) {\n          return consumed(this) || Promise.resolve(this._bodyArrayBuffer)\n        } else {\n          return this.blob().then(readBlobAsArrayBuffer)\n        }\n      };\n    }\n\n    this.text = function() {\n      var rejected = consumed(this);\n      if (rejected) {\n        return rejected\n      }\n\n      if (this._bodyBlob) {\n        return readBlobAsText(this._bodyBlob)\n      } else if (this._bodyArrayBuffer) {\n        return Promise.resolve(readArrayBufferAsText(this._bodyArrayBuffer))\n      } else if (this._bodyFormData) {\n        throw new Error('could not read FormData body as text')\n      } else {\n        return Promise.resolve(this._bodyText)\n      }\n    };\n\n    if (support.formData) {\n      this.formData = function() {\n        return this.text().then(decode)\n      };\n    }\n\n    this.json = function() {\n      return this.text().then(JSON.parse)\n    };\n\n    return this\n  }\n\n  // HTTP methods whose capitalization should be normalized\n  var methods = ['DELETE', 'GET', 'HEAD', 'OPTIONS', 'POST', 'PUT'];\n\n  function normalizeMethod(method) {\n    var upcased = method.toUpperCase();\n    return methods.indexOf(upcased) > -1 ? upcased : method\n  }\n\n  function Request(input, options) {\n    options = options || {};\n    var body = options.body;\n\n    if (input instanceof Request) {\n      if (input.bodyUsed) {\n        throw new TypeError('Already read')\n      }\n      this.url = input.url;\n      this.credentials = input.credentials;\n      if (!options.headers) {\n        this.headers = new Headers(input.headers);\n      }\n      this.method = input.method;\n      this.mode = input.mode;\n      this.signal = input.signal;\n      if (!body && input._bodyInit != null) {\n        body = input._bodyInit;\n        input.bodyUsed = true;\n      }\n    } else {\n      this.url = String(input);\n    }\n\n    this.credentials = options.credentials || this.credentials || 'same-origin';\n    if (options.headers || !this.headers) {\n      this.headers = new Headers(options.headers);\n    }\n    this.method = normalizeMethod(options.method || this.method || 'GET');\n    this.mode = options.mode || this.mode || null;\n    this.signal = options.signal || this.signal;\n    this.referrer = null;\n\n    if ((this.method === 'GET' || this.method === 'HEAD') && body) {\n      throw new TypeError('Body not allowed for GET or HEAD requests')\n    }\n    this._initBody(body);\n  }\n\n  Request.prototype.clone = function() {\n    return new Request(this, {body: this._bodyInit})\n  };\n\n  function decode(body) {\n    var form = new FormData();\n    body\n      .trim()\n      .split('&')\n      .forEach(function(bytes) {\n        if (bytes) {\n          var split = bytes.split('=');\n          var name = split.shift().replace(/\\+/g, ' ');\n          var value = split.join('=').replace(/\\+/g, ' ');\n          form.append(decodeURIComponent(name), decodeURIComponent(value));\n        }\n      });\n    return form\n  }\n\n  function parseHeaders(rawHeaders) {\n    var headers = new Headers();\n    // Replace instances of \\r\\n and \\n followed by at least one space or horizontal tab with a space\n    // https://tools.ietf.org/html/rfc7230#section-3.2\n    var preProcessedHeaders = rawHeaders.replace(/\\r?\\n[\\t ]+/g, ' ');\n    preProcessedHeaders.split(/\\r?\\n/).forEach(function(line) {\n      var parts = line.split(':');\n      var key = parts.shift().trim();\n      if (key) {\n        var value = parts.join(':').trim();\n        headers.append(key, value);\n      }\n    });\n    return headers\n  }\n\n  Body.call(Request.prototype);\n\n  function Response(bodyInit, options) {\n    if (!options) {\n      options = {};\n    }\n\n    this.type = 'default';\n    this.status = options.status === undefined ? 200 : options.status;\n    this.ok = this.status >= 200 && this.status < 300;\n    this.statusText = 'statusText' in options ? options.statusText : 'OK';\n    this.headers = new Headers(options.headers);\n    this.url = options.url || '';\n    this._initBody(bodyInit);\n  }\n\n  Body.call(Response.prototype);\n\n  Response.prototype.clone = function() {\n    return new Response(this._bodyInit, {\n      status: this.status,\n      statusText: this.statusText,\n      headers: new Headers(this.headers),\n      url: this.url\n    })\n  };\n\n  Response.error = function() {\n    var response = new Response(null, {status: 0, statusText: ''});\n    response.type = 'error';\n    return response\n  };\n\n  var redirectStatuses = [301, 302, 303, 307, 308];\n\n  Response.redirect = function(url, status) {\n    if (redirectStatuses.indexOf(status) === -1) {\n      throw new RangeError('Invalid status code')\n    }\n\n    return new Response(null, {status: status, headers: {location: url}})\n  };\n\n  exports.DOMException = self.DOMException;\n  try {\n    new exports.DOMException();\n  } catch (err) {\n    exports.DOMException = function(message, name) {\n      this.message = message;\n      this.name = name;\n      var error = Error(message);\n      this.stack = error.stack;\n    };\n    exports.DOMException.prototype = Object.create(Error.prototype);\n    exports.DOMException.prototype.constructor = exports.DOMException;\n  }\n\n  function fetch(input, init) {\n    return new Promise(function(resolve, reject) {\n      var request = new Request(input, init);\n\n      if (request.signal && request.signal.aborted) {\n        return reject(new exports.DOMException('Aborted', 'AbortError'))\n      }\n\n      var xhr = new XMLHttpRequest();\n\n      function abortXhr() {\n        xhr.abort();\n      }\n\n      xhr.onload = function() {\n        var options = {\n          status: xhr.status,\n          statusText: xhr.statusText,\n          headers: parseHeaders(xhr.getAllResponseHeaders() || '')\n        };\n        options.url = 'responseURL' in xhr ? xhr.responseURL : options.headers.get('X-Request-URL');\n        var body = 'response' in xhr ? xhr.response : xhr.responseText;\n        resolve(new Response(body, options));\n      };\n\n      xhr.onerror = function() {\n        reject(new TypeError('Network request failed'));\n      };\n\n      xhr.ontimeout = function() {\n        reject(new TypeError('Network request failed'));\n      };\n\n      xhr.onabort = function() {\n        reject(new exports.DOMException('Aborted', 'AbortError'));\n      };\n\n      xhr.open(request.method, request.url, true);\n\n      if (request.credentials === 'include') {\n        xhr.withCredentials = true;\n      } else if (request.credentials === 'omit') {\n        xhr.withCredentials = false;\n      }\n\n      if ('responseType' in xhr && support.blob) {\n        xhr.responseType = 'blob';\n      }\n\n      request.headers.forEach(function(value, name) {\n        xhr.setRequestHeader(name, value);\n      });\n\n      if (request.signal) {\n        request.signal.addEventListener('abort', abortXhr);\n\n        xhr.onreadystatechange = function() {\n          // DONE (success or failure)\n          if (xhr.readyState === 4) {\n            request.signal.removeEventListener('abort', abortXhr);\n          }\n        };\n      }\n\n      xhr.send(typeof request._bodyInit === 'undefined' ? null : request._bodyInit);\n    })\n  }\n\n  fetch.polyfill = true;\n\n  if (!self.fetch) {\n    self.fetch = fetch;\n    self.Headers = Headers;\n    self.Request = Request;\n    self.Response = Response;\n  }\n\n  exports.Headers = Headers;\n  exports.Request = Request;\n  exports.Response = Response;\n  exports.fetch = fetch;\n\n  return exports;\n\n}({}));\n})(__self__);\ndelete __self__.fetch.polyfill\nexports = __self__.fetch // To enable: import fetch from 'cross-fetch'\nexports.default = __self__.fetch // For TypeScript consumers without esModuleInterop.\nexports.fetch = __self__.fetch // To enable: import {fetch} from 'cross-fetch'\nexports.Headers = __self__.Headers\nexports.Request = __self__.Request\nexports.Response = __self__.Response\nmodule.exports = exports\n","'use strict';\n\n// do not edit .js files directly - edit src/index.jst\n\n\n\nmodule.exports = function equal(a, b) {\n  if (a === b) return true;\n\n  if (a && b && typeof a == 'object' && typeof b == 'object') {\n    if (a.constructor !== b.constructor) return false;\n\n    var length, i, keys;\n    if (Array.isArray(a)) {\n      length = a.length;\n      if (length != b.length) return false;\n      for (i = length; i-- !== 0;)\n        if (!equal(a[i], b[i])) return false;\n      return true;\n    }\n\n\n\n    if (a.constructor === RegExp) return a.source === b.source && a.flags === b.flags;\n    if (a.valueOf !== Object.prototype.valueOf) return a.valueOf() === b.valueOf();\n    if (a.toString !== Object.prototype.toString) return a.toString() === b.toString();\n\n    keys = Object.keys(a);\n    length = keys.length;\n    if (length !== Object.keys(b).length) return false;\n\n    for (i = length; i-- !== 0;)\n      if (!Object.prototype.hasOwnProperty.call(b, keys[i])) return false;\n\n    for (i = length; i-- !== 0;) {\n      var key = keys[i];\n\n      if (!equal(a[key], b[key])) return false;\n    }\n\n    return true;\n  }\n\n  // true if both NaN, false otherwise\n  return a!==a && b!==b;\n};\n","export var POST_TYPES;\n(function (POST_TYPES) {\n    POST_TYPES[\"UPLOAD_ATTACHMENT\"] = \"upload_attachment\";\n    POST_TYPES[\"HANDSHAKE\"] = \"handshake\";\n    POST_TYPES[\"VALID_TOKEN\"] = \"valid_token\";\n    POST_TYPES[\"GET_FRAME\"] = \"get_frame\";\n    POST_TYPES[\"TABLE_SIZE\"] = \"table_size\";\n    POST_TYPES[\"COLUMN_TYPES\"] = \"column_types\";\n    POST_TYPES[\"SYNC_STACK\"] = \"sync_stack\";\n    POST_TYPES[\"SYNC_DELETE\"] = \"sync_delete\";\n    POST_TYPES[\"SYNC_INSERT\"] = \"sync_insert\";\n    POST_TYPES[\"GET_QUERY\"] = \"get_query\";\n    POST_TYPES[\"USER_ATTRIBUTES\"] = \"user_attributes\";\n    POST_TYPES[\"SET_ATTRIBUTE\"] = \"set_attribute\";\n    POST_TYPES[\"SIGN_UP\"] = \"sign_up\";\n    POST_TYPES[\"REQUEST_TOKEN\"] = \"request_token\";\n})(POST_TYPES || (POST_TYPES = {}));\n","var GlobalNamespace;\n(function (GlobalNamespace) {\n})(GlobalNamespace || (GlobalNamespace = {}));\nconst _g = { ...GlobalNamespace };\nexport default _g;\nexport function gFactory() {\n    return { ...GlobalNamespace };\n}\n","const\n\tINSERT = 'insert',\n\tUPDATE = 'update',\n\tDELETE = 'delete',\n\tREVERSE = 'reverse',\n\tSHUFFLE = 'shuffle',\n\toMetaKey = Symbol('observable-meta-key'),\n\tvalidObservableOptionKeys = { async: 1 },\n\tvalidObserverOptionKeys = { path: 1, pathsOf: 1, pathsFrom: 1 },\n\tprocessObserveOptions = function processObserveOptions(options) {\n\t\tconst result = {};\n\t\tif (options.path !== undefined) {\n\t\t\tif (typeof options.path !== 'string' || options.path === '') {\n\t\t\t\tthrow new Error('\"path\" option, if/when provided, MUST be a non-empty string');\n\t\t\t}\n\t\t\tresult.path = options.path;\n\t\t}\n\t\tif (options.pathsOf !== undefined) {\n\t\t\tif (options.path) {\n\t\t\t\tthrow new Error('\"pathsOf\" option MAY NOT be specified together with \"path\" option');\n\t\t\t}\n\t\t\tif (typeof options.pathsOf !== 'string') {\n\t\t\t\tthrow new Error('\"pathsOf\" option, if/when provided, MUST be a string (MAY be empty)');\n\t\t\t}\n\t\t\tresult.pathsOf = options.pathsOf.split('.').filter(n => n);\n\t\t}\n\t\tif (options.pathsFrom !== undefined) {\n\t\t\tif (options.path || options.pathsOf) {\n\t\t\t\tthrow new Error('\"pathsFrom\" option MAY NOT be specified together with \"path\"/\"pathsOf\"  option/s');\n\t\t\t}\n\t\t\tif (typeof options.pathsFrom !== 'string' || options.pathsFrom === '') {\n\t\t\t\tthrow new Error('\"pathsFrom\" option, if/when provided, MUST be a non-empty string');\n\t\t\t}\n\t\t\tresult.pathsFrom = options.pathsFrom;\n\t\t}\n\t\tconst invalidOptions = Object.keys(options).filter(option => !validObserverOptionKeys.hasOwnProperty(option));\n\t\tif (invalidOptions.length) {\n\t\t\tthrow new Error(`'${invalidOptions.join(', ')}' is/are not a valid observer option/s`);\n\t\t}\n\t\treturn result;\n\t},\n\tobserve = function observe(observer, options) {\n\t\tif (typeof observer !== 'function') {\n\t\t\tthrow new Error(`observer MUST be a function, got '${observer}'`);\n\t\t}\n\n\t\tconst\n\t\t\toMeta = this[oMetaKey],\n\t\t\tobservers = oMeta.observers;\n\t\tif (!observers.some(o => o[0] === observer)) {\n\t\t\tlet opts;\n\t\t\tif (options) {\n\t\t\t\topts = processObserveOptions(options);\n\t\t\t} else {\n\t\t\t\topts = {};\n\t\t\t}\n\t\t\tobservers.push([observer, opts]);\n\t\t} else {\n\t\t\tconsole.warn('observer may be bound to an observable only once; will NOT rebind');\n\t\t}\n\t},\n\tunobserve = function unobserve() {\n\t\tconst oMeta = this[oMetaKey];\n\t\tconst observers = oMeta.observers;\n\t\tlet ol = observers.length;\n\t\tif (ol) {\n\t\t\tlet al = arguments.length;\n\t\t\tif (al) {\n\t\t\t\twhile (al--) {\n\t\t\t\t\tlet i = ol;\n\t\t\t\t\twhile (i--) {\n\t\t\t\t\t\tif (observers[i][0] === arguments[al]) {\n\t\t\t\t\t\t\tobservers.splice(i, 1);\n\t\t\t\t\t\t\tol--;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tobservers.splice(0);\n\t\t\t}\n\t\t}\n\t},\n\tpropertiesBluePrint = { [oMetaKey]: { value: null }, observe: { value: observe }, unobserve: { value: unobserve } },\n\tprepareObject = function prepareObject(source, oMeta) {\n\t\tpropertiesBluePrint[oMetaKey].value = oMeta;\n\t\tconst target = Object.defineProperties({}, propertiesBluePrint);\n\t\tfor (const key of Object.keys(source)) {\n\t\t\ttarget[key] = getObservedOf(source[key], key, oMeta);\n\t\t}\n\t\treturn target;\n\t},\n\tprepareArray = function prepareArray(source, oMeta) {\n\t\tlet i = 0, l = source.length;\n\t\tpropertiesBluePrint[oMetaKey].value = oMeta;\n\t\tconst target = Object.defineProperties(new Array(l), propertiesBluePrint);\n\t\tfor (; i < l; i++) {\n\t\t\ttarget[i] = getObservedOf(source[i], i, oMeta);\n\t\t}\n\t\treturn target;\n\t},\n\tprepareTypedArray = function prepareTypedArray(source, oMeta) {\n\t\tpropertiesBluePrint[oMetaKey].value = oMeta;\n\t\tObject.defineProperties(source, propertiesBluePrint);\n\t\treturn source;\n\t},\n\tfilterChanges = function filterChanges(options, changes) {\n\t\tlet result = changes;\n\t\tif (options.path) {\n\t\t\tconst oPath = options.path;\n\t\t\tresult = changes.filter(change =>\n\t\t\t\tchange.path.join('.') === oPath\n\t\t\t);\n\t\t} else if (options.pathsOf) {\n\t\t\tconst oPathsOf = options.pathsOf;\n\t\t\tresult = changes.filter(change =>\n\t\t\t\tchange.path.length === oPathsOf.length + 1 ||\n\t\t\t\t(change.path.length === oPathsOf.length && (change.type === REVERSE || change.type === SHUFFLE))\n\t\t\t);\n\t\t} else if (options.pathsFrom) {\n\t\t\tconst oPathsFrom = options.pathsFrom;\n\t\t\tresult = changes.filter(change =>\n\t\t\t\tchange.path.join('.').startsWith(oPathsFrom)\n\t\t\t);\n\t\t}\n\t\treturn result;\n\t},\n\tcallObserverSafe = function callObserverSafe(listener, changes) {\n\t\ttry {\n\t\t\tlistener(changes);\n\t\t} catch (e) {\n\t\t\tconsole.error(`failed to notify listener ${listener} with ${changes}`, e);\n\t\t}\n\t},\n\tcallObserversFromMT = function callObserversFromMT() {\n\t\tconst batches = this.batches;\n\t\tthis.batches = null;\n\t\tfor (const [listener, options] of batches) {\n\t\t\tcallObserverSafe(listener, options);\n\t\t}\n\t},\n\tcallObservers = function callObservers(oMeta, changes) {\n\t\tlet currentObservable = oMeta;\n\t\tlet observers, target, options, relevantChanges, i, newPath, tmp;\n\t\tconst l = changes.length;\n\t\tdo {\n\t\t\tobservers = currentObservable.observers;\n\t\t\ti = observers.length;\n\t\t\twhile (i--) {\n\t\t\t\t[target, options] = observers[i];\n\t\t\t\trelevantChanges = filterChanges(options, changes);\n\n\t\t\t\tif (relevantChanges.length) {\n\t\t\t\t\tif (currentObservable.options.async) {\n\t\t\t\t\t\t//\tthis is the async dispatch handling\n\t\t\t\t\t\tif (!currentObservable.batches) {\n\t\t\t\t\t\t\tcurrentObservable.batches = [];\n\t\t\t\t\t\t\tqueueMicrotask(callObserversFromMT.bind(currentObservable));\n\t\t\t\t\t\t}\n\t\t\t\t\t\tlet rb = currentObservable.batches.find(b => b[0] === target);\n\t\t\t\t\t\tif (!rb) {\n\t\t\t\t\t\t\trb = [target, []];\n\t\t\t\t\t\t\tcurrentObservable.batches.push(rb);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tArray.prototype.push.apply(rb[1], relevantChanges);\n\t\t\t\t\t} else {\n\t\t\t\t\t\t//\tthis is the naive straight forward synchronous dispatch\n\t\t\t\t\t\tcallObserverSafe(target, relevantChanges);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tlet tmpa;\n\t\t\tif (currentObservable.parent) {\n\t\t\t\ttmpa = new Array(l);\n\t\t\t\tfor (let i = 0; i < l; i++) {\n\t\t\t\t\ttmp = changes[i];\n\t\t\t\t\tnewPath = [currentObservable.ownKey, ...tmp.path];\n\t\t\t\t\ttmpa[i] = {\n\t\t\t\t\t\ttype: tmp.type,\n\t\t\t\t\t\tpath: newPath,\n\t\t\t\t\t\tvalue: tmp.value,\n\t\t\t\t\t\toldValue: tmp.oldValue,\n\t\t\t\t\t\tobject: tmp.object\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t\tchanges = tmpa;\n\t\t\t\tcurrentObservable = currentObservable.parent;\n\t\t\t} else {\n\t\t\t\tcurrentObservable = null;\n\t\t\t}\n\t\t} while (currentObservable);\n\t},\n\tgetObservedOf = function getObservedOf(item, key, parent) {\n\t\tif (!item || typeof item !== 'object') {\n\t\t\treturn item;\n\t\t} else if (Array.isArray(item)) {\n\t\t\treturn new ArrayOMeta({ target: item, ownKey: key, parent: parent }).proxy;\n\t\t} else if (ArrayBuffer.isView(item)) {\n\t\t\treturn new TypedArrayOMeta({ target: item, ownKey: key, parent: parent }).proxy;\n\t\t} else if (item instanceof Date || item instanceof Error) {\n\t\t\treturn item;\n\t\t} else {\n\t\t\treturn new ObjectOMeta({ target: item, ownKey: key, parent: parent }).proxy;\n\t\t}\n\t},\n\tproxiedPop = function proxiedPop() {\n\t\tconst oMeta = this[oMetaKey],\n\t\t\ttarget = oMeta.target,\n\t\t\tpoppedIndex = target.length - 1;\n\n\t\tlet popResult = target.pop();\n\t\tif (popResult && typeof popResult === 'object') {\n\t\t\tconst tmpObserved = popResult[oMetaKey];\n\t\t\tif (tmpObserved) {\n\t\t\t\tpopResult = tmpObserved.detach();\n\t\t\t}\n\t\t}\n\n\t\tconst changes = [{ type: DELETE, path: [poppedIndex], oldValue: popResult, object: this }];\n\t\tcallObservers(oMeta, changes);\n\n\t\treturn popResult;\n\t},\n\tproxiedPush = function proxiedPush() {\n\t\tconst\n\t\t\toMeta = this[oMetaKey],\n\t\t\ttarget = oMeta.target,\n\t\t\tl = arguments.length,\n\t\t\tpushContent = new Array(l),\n\t\t\tinitialLength = target.length;\n\n\t\tfor (let i = 0; i < l; i++) {\n\t\t\tpushContent[i] = getObservedOf(arguments[i], initialLength + i, oMeta);\n\t\t}\n\t\tconst pushResult = Reflect.apply(target.push, target, pushContent);\n\n\t\tconst changes = [];\n\t\tfor (let i = initialLength, l = target.length; i < l; i++) {\n\t\t\tchanges[i - initialLength] = { type: INSERT, path: [i], value: target[i], object: this };\n\t\t}\n\t\tcallObservers(oMeta, changes);\n\n\t\treturn pushResult;\n\t},\n\tproxiedShift = function proxiedShift() {\n\t\tconst\n\t\t\toMeta = this[oMetaKey],\n\t\t\ttarget = oMeta.target;\n\t\tlet shiftResult, i, l, item, tmpObserved;\n\n\t\tshiftResult = target.shift();\n\t\tif (shiftResult && typeof shiftResult === 'object') {\n\t\t\ttmpObserved = shiftResult[oMetaKey];\n\t\t\tif (tmpObserved) {\n\t\t\t\tshiftResult = tmpObserved.detach();\n\t\t\t}\n\t\t}\n\n\t\t//\tupdate indices of the remaining items\n\t\tfor (i = 0, l = target.length; i < l; i++) {\n\t\t\titem = target[i];\n\t\t\tif (item && typeof item === 'object') {\n\t\t\t\ttmpObserved = item[oMetaKey];\n\t\t\t\tif (tmpObserved) {\n\t\t\t\t\ttmpObserved.ownKey = i;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tconst changes = [{ type: DELETE, path: [0], oldValue: shiftResult, object: this }];\n\t\tcallObservers(oMeta, changes);\n\n\t\treturn shiftResult;\n\t},\n\tproxiedUnshift = function proxiedUnshift() {\n\t\tconst\n\t\t\toMeta = this[oMetaKey],\n\t\t\ttarget = oMeta.target,\n\t\t\tal = arguments.length,\n\t\t\tunshiftContent = new Array(al);\n\n\t\tfor (let i = 0; i < al; i++) {\n\t\t\tunshiftContent[i] = getObservedOf(arguments[i], i, oMeta);\n\t\t}\n\t\tconst unshiftResult = Reflect.apply(target.unshift, target, unshiftContent);\n\n\t\tfor (let i = 0, l = target.length, item; i < l; i++) {\n\t\t\titem = target[i];\n\t\t\tif (item && typeof item === 'object') {\n\t\t\t\tconst tmpObserved = item[oMetaKey];\n\t\t\t\tif (tmpObserved) {\n\t\t\t\t\ttmpObserved.ownKey = i;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t//\tpublish changes\n\t\tconst l = unshiftContent.length;\n\t\tconst changes = new Array(l);\n\t\tfor (let i = 0; i < l; i++) {\n\t\t\tchanges[i] = { type: INSERT, path: [i], value: target[i], object: this };\n\t\t}\n\t\tcallObservers(oMeta, changes);\n\n\t\treturn unshiftResult;\n\t},\n\tproxiedReverse = function proxiedReverse() {\n\t\tconst\n\t\t\toMeta = this[oMetaKey],\n\t\t\ttarget = oMeta.target;\n\t\tlet i, l, item;\n\n\t\ttarget.reverse();\n\t\tfor (i = 0, l = target.length; i < l; i++) {\n\t\t\titem = target[i];\n\t\t\tif (item && typeof item === 'object') {\n\t\t\t\tconst tmpObserved = item[oMetaKey];\n\t\t\t\tif (tmpObserved) {\n\t\t\t\t\ttmpObserved.ownKey = i;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tconst changes = [{ type: REVERSE, path: [], object: this }];\n\t\tcallObservers(oMeta, changes);\n\n\t\treturn this;\n\t},\n\tproxiedSort = function proxiedSort(comparator) {\n\t\tconst\n\t\t\toMeta = this[oMetaKey],\n\t\t\ttarget = oMeta.target;\n\t\tlet i, l, item;\n\n\t\ttarget.sort(comparator);\n\t\tfor (i = 0, l = target.length; i < l; i++) {\n\t\t\titem = target[i];\n\t\t\tif (item && typeof item === 'object') {\n\t\t\t\tconst tmpObserved = item[oMetaKey];\n\t\t\t\tif (tmpObserved) {\n\t\t\t\t\ttmpObserved.ownKey = i;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tconst changes = [{ type: SHUFFLE, path: [], object: this }];\n\t\tcallObservers(oMeta, changes);\n\n\t\treturn this;\n\t},\n\tproxiedFill = function proxiedFill(filVal, start, end) {\n\t\tconst\n\t\t\toMeta = this[oMetaKey],\n\t\t\ttarget = oMeta.target,\n\t\t\tchanges = [],\n\t\t\ttarLen = target.length,\n\t\t\tprev = target.slice(0);\n\t\tstart = start === undefined ? 0 : (start < 0 ? Math.max(tarLen + start, 0) : Math.min(start, tarLen));\n\t\tend = end === undefined ? tarLen : (end < 0 ? Math.max(tarLen + end, 0) : Math.min(end, tarLen));\n\n\t\tif (start < tarLen && end > start) {\n\t\t\ttarget.fill(filVal, start, end);\n\n\t\t\tlet tmpObserved;\n\t\t\tfor (let i = start, item, tmpTarget; i < end; i++) {\n\t\t\t\titem = target[i];\n\t\t\t\ttarget[i] = getObservedOf(item, i, oMeta);\n\t\t\t\tif (prev.hasOwnProperty(i)) {\n\t\t\t\t\ttmpTarget = prev[i];\n\t\t\t\t\tif (tmpTarget && typeof tmpTarget === 'object') {\n\t\t\t\t\t\ttmpObserved = tmpTarget[oMetaKey];\n\t\t\t\t\t\tif (tmpObserved) {\n\t\t\t\t\t\t\ttmpTarget = tmpObserved.detach();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tchanges.push({ type: UPDATE, path: [i], value: target[i], oldValue: tmpTarget, object: this });\n\t\t\t\t} else {\n\t\t\t\t\tchanges.push({ type: INSERT, path: [i], value: target[i], object: this });\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tcallObservers(oMeta, changes);\n\t\t}\n\n\t\treturn this;\n\t},\n\tproxiedCopyWithin = function proxiedCopyWithin(dest, start, end) {\n\t\tconst\n\t\t\toMeta = this[oMetaKey],\n\t\t\ttarget = oMeta.target,\n\t\t\ttarLen = target.length;\n\t\tdest = dest < 0 ? Math.max(tarLen + dest, 0) : dest;\n\t\tstart = start === undefined ? 0 : (start < 0 ? Math.max(tarLen + start, 0) : Math.min(start, tarLen));\n\t\tend = end === undefined ? tarLen : (end < 0 ? Math.max(tarLen + end, 0) : Math.min(end, tarLen));\n\t\tconst len = Math.min(end - start, tarLen - dest);\n\n\t\tif (dest < tarLen && dest !== start && len > 0) {\n\t\t\tconst\n\t\t\t\tprev = target.slice(0),\n\t\t\t\tchanges = [];\n\n\t\t\ttarget.copyWithin(dest, start, end);\n\n\t\t\tfor (let i = dest, nItem, oItem, tmpObserved; i < dest + len; i++) {\n\t\t\t\t//\tupdate newly placed observables, if any\n\t\t\t\tnItem = target[i];\n\t\t\t\tif (nItem && typeof nItem === 'object') {\n\t\t\t\t\tnItem = getObservedOf(nItem, i, oMeta);\n\t\t\t\t\ttarget[i] = nItem;\n\t\t\t\t}\n\n\t\t\t\t//\tdetach overridden observables, if any\n\t\t\t\toItem = prev[i];\n\t\t\t\tif (oItem && typeof oItem === 'object') {\n\t\t\t\t\ttmpObserved = oItem[oMetaKey];\n\t\t\t\t\tif (tmpObserved) {\n\t\t\t\t\t\toItem = tmpObserved.detach();\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (typeof nItem !== 'object' && nItem === oItem) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\tchanges.push({ type: UPDATE, path: [i], value: nItem, oldValue: oItem, object: this });\n\t\t\t}\n\n\t\t\tcallObservers(oMeta, changes);\n\t\t}\n\n\t\treturn this;\n\t},\n\tproxiedSplice = function proxiedSplice() {\n\t\tconst\n\t\t\toMeta = this[oMetaKey],\n\t\t\ttarget = oMeta.target,\n\t\t\tsplLen = arguments.length,\n\t\t\tspliceContent = new Array(splLen),\n\t\t\ttarLen = target.length;\n\n\t\t//\tobservify the newcomers\n\t\tfor (let i = 0; i < splLen; i++) {\n\t\t\tspliceContent[i] = getObservedOf(arguments[i], i, oMeta);\n\t\t}\n\n\t\t//\tcalculate pointers\n\t\tconst\n\t\t\tstartIndex = splLen === 0 ? 0 : (spliceContent[0] < 0 ? tarLen + spliceContent[0] : spliceContent[0]),\n\t\t\tremoved = splLen < 2 ? tarLen - startIndex : spliceContent[1],\n\t\t\tinserted = Math.max(splLen - 2, 0),\n\t\t\tspliceResult = Reflect.apply(target.splice, target, spliceContent),\n\t\t\tnewTarLen = target.length;\n\n\t\t//\treindex the paths\n\t\tlet tmpObserved;\n\t\tfor (let i = 0, item; i < newTarLen; i++) {\n\t\t\titem = target[i];\n\t\t\tif (item && typeof item === 'object') {\n\t\t\t\ttmpObserved = item[oMetaKey];\n\t\t\t\tif (tmpObserved) {\n\t\t\t\t\ttmpObserved.ownKey = i;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t//\tdetach removed objects\n\t\tlet i, l, item;\n\t\tfor (i = 0, l = spliceResult.length; i < l; i++) {\n\t\t\titem = spliceResult[i];\n\t\t\tif (item && typeof item === 'object') {\n\t\t\t\ttmpObserved = item[oMetaKey];\n\t\t\t\tif (tmpObserved) {\n\t\t\t\t\tspliceResult[i] = tmpObserved.detach();\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tconst changes = [];\n\t\tlet index;\n\t\tfor (index = 0; index < removed; index++) {\n\t\t\tif (index < inserted) {\n\t\t\t\tchanges.push({ type: UPDATE, path: [startIndex + index], value: target[startIndex + index], oldValue: spliceResult[index], object: this });\n\t\t\t} else {\n\t\t\t\tchanges.push({ type: DELETE, path: [startIndex + index], oldValue: spliceResult[index], object: this });\n\t\t\t}\n\t\t}\n\t\tfor (; index < inserted; index++) {\n\t\t\tchanges.push({ type: INSERT, path: [startIndex + index], value: target[startIndex + index], object: this });\n\t\t}\n\t\tcallObservers(oMeta, changes);\n\n\t\treturn spliceResult;\n\t},\n\tproxiedTypedArraySet = function proxiedTypedArraySet(source, offset) {\n\t\tconst\n\t\t\toMeta = this[oMetaKey],\n\t\t\ttarget = oMeta.target,\n\t\t\tsouLen = source.length,\n\t\t\tprev = target.slice(0);\n\t\toffset = offset || 0;\n\n\t\ttarget.set(source, offset);\n\t\tconst changes = new Array(souLen);\n\t\tfor (let i = offset; i < (souLen + offset); i++) {\n\t\t\tchanges[i - offset] = { type: UPDATE, path: [i], value: target[i], oldValue: prev[i], object: this };\n\t\t}\n\n\t\tcallObservers(oMeta, changes);\n\t},\n\tproxiedArrayMethods = {\n\t\tpop: proxiedPop,\n\t\tpush: proxiedPush,\n\t\tshift: proxiedShift,\n\t\tunshift: proxiedUnshift,\n\t\treverse: proxiedReverse,\n\t\tsort: proxiedSort,\n\t\tfill: proxiedFill,\n\t\tcopyWithin: proxiedCopyWithin,\n\t\tsplice: proxiedSplice\n\t},\n\tproxiedTypedArrayMethods = {\n\t\treverse: proxiedReverse,\n\t\tsort: proxiedSort,\n\t\tfill: proxiedFill,\n\t\tcopyWithin: proxiedCopyWithin,\n\t\tset: proxiedTypedArraySet\n\t};\n\nclass OMetaBase {\n\tconstructor(properties, cloningFunction) {\n\t\tconst { target, parent, ownKey } = properties;\n\t\tif (parent && ownKey !== undefined) {\n\t\t\tthis.parent = parent;\n\t\t\tthis.ownKey = ownKey;\n\t\t} else {\n\t\t\tthis.parent = null;\n\t\t\tthis.ownKey = null;\n\t\t}\n\t\tconst targetClone = cloningFunction(target, this);\n\t\tthis.observers = [];\n\t\tthis.revocable = Proxy.revocable(targetClone, this);\n\t\tthis.proxy = this.revocable.proxy;\n\t\tthis.target = targetClone;\n\t\tthis.options = this.processOptions(properties.options);\n\t}\n\n\tprocessOptions(options) {\n\t\tif (options) {\n\t\t\tif (typeof options !== 'object') {\n\t\t\t\tthrow new Error(`Observable options if/when provided, MAY only be an object, got '${options}'`);\n\t\t\t}\n\t\t\tconst invalidOptions = Object.keys(options).filter(option => !validObservableOptionKeys.hasOwnProperty(option));\n\t\t\tif (invalidOptions.length) {\n\t\t\t\tthrow new Error(`'${invalidOptions.join(', ')}' is/are not a valid Observable option/s`);\n\t\t\t}\n\t\t\treturn Object.assign({}, options);\n\t\t} else {\n\t\t\treturn {};\n\t\t}\n\t}\n\n\tdetach() {\n\t\tthis.parent = null;\n\t\treturn this.target;\n\t}\n\n\tset(target, key, value) {\n\t\tlet oldValue = target[key];\n\n\t\tif (value !== oldValue) {\n\t\t\tconst newValue = getObservedOf(value, key, this);\n\t\t\ttarget[key] = newValue;\n\n\t\t\tif (oldValue && typeof oldValue === 'object') {\n\t\t\t\tconst tmpObserved = oldValue[oMetaKey];\n\t\t\t\tif (tmpObserved) {\n\t\t\t\t\toldValue = tmpObserved.detach();\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tconst changes = oldValue === undefined\n\t\t\t\t? [{ type: INSERT, path: [key], value: newValue, object: this.proxy }]\n\t\t\t\t: [{ type: UPDATE, path: [key], value: newValue, oldValue: oldValue, object: this.proxy }];\n\t\t\tcallObservers(this, changes);\n\t\t}\n\n\t\treturn true;\n\t}\n\n\tdeleteProperty(target, key) {\n\t\tlet oldValue = target[key];\n\n\t\tdelete target[key];\n\n\t\tif (oldValue && typeof oldValue === 'object') {\n\t\t\tconst tmpObserved = oldValue[oMetaKey];\n\t\t\tif (tmpObserved) {\n\t\t\t\toldValue = tmpObserved.detach();\n\t\t\t}\n\t\t}\n\n\t\tconst changes = [{ type: DELETE, path: [key], oldValue: oldValue, object: this.proxy }];\n\t\tcallObservers(this, changes);\n\n\t\treturn true;\n\t}\n}\n\nclass ObjectOMeta extends OMetaBase {\n\tconstructor(properties) {\n\t\tsuper(properties, prepareObject);\n\t}\n}\n\nclass ArrayOMeta extends OMetaBase {\n\tconstructor(properties) {\n\t\tsuper(properties, prepareArray);\n\t}\n\n\tget(target, key) {\n\t\tif (proxiedArrayMethods.hasOwnProperty(key)) {\n\t\t\treturn proxiedArrayMethods[key];\n\t\t} else {\n\t\t\treturn target[key];\n\t\t}\n\t}\n}\n\nclass TypedArrayOMeta extends OMetaBase {\n\tconstructor(properties) {\n\t\tsuper(properties, prepareTypedArray);\n\t}\n\n\tget(target, key) {\n\t\tif (proxiedTypedArrayMethods.hasOwnProperty(key)) {\n\t\t\treturn proxiedTypedArrayMethods[key];\n\t\t} else {\n\t\t\treturn target[key];\n\t\t}\n\t}\n}\n\nclass Observable {\n\tconstructor() {\n\t\tthrow new Error('Observable MAY NOT be created via constructor, see \"Observable.from\" API');\n\t}\n\n\tstatic from(target, options) {\n\t\tif (!target || typeof target !== 'object') {\n\t\t\tthrow new Error('observable MAY ONLY be created from a non-null object');\n\t\t} else if (target[oMetaKey]) {\n\t\t\treturn target;\n\t\t} else if (Array.isArray(target)) {\n\t\t\treturn new ArrayOMeta({ target: target, ownKey: null, parent: null, options: options }).proxy;\n\t\t} else if (ArrayBuffer.isView(target)) {\n\t\t\treturn new TypedArrayOMeta({ target: target, ownKey: null, parent: null, options: options }).proxy;\n\t\t} else if (target instanceof Date || target instanceof Error) {\n\t\t\tthrow new Error(`${target} found to be one of a on-observable types`);\n\t\t} else {\n\t\t\treturn new ObjectOMeta({ target: target, ownKey: null, parent: null, options: options }).proxy;\n\t\t}\n\t}\n\n\tstatic isObservable(input) {\n\t\treturn !!(input && input[oMetaKey]);\n\t}\n}\n\nObject.freeze(Observable);\n\nexport { Observable };","import _g from \"./g\";\nexport default function utilsFactory(globals) {\n    const g = globals || _g;\n    const generateBareUrl = (type, integrationID) => `https://api.easybase.io/${type}/${integrationID}`;\n    const generateAuthBody = () => {\n        const stamp = Date.now();\n        return {\n            token: g.token,\n            token_time: ~~(g.session / (stamp % 64)),\n            now: stamp\n        };\n    };\n    function log(...params) {\n        if (g.options.logging) {\n            console.log(\"EASYBASE — \", ...params);\n        }\n    }\n    return {\n        generateAuthBody,\n        generateBareUrl,\n        log\n    };\n}\n","import { POST_TYPES } from \"./types\";\nimport _g from \"./g\";\nimport utilsFactory from \"./utils\";\nimport fetch from 'cross-fetch';\nexport default function authFactory(globals) {\n    const g = globals || _g;\n    const { generateBareUrl, generateAuthBody, log } = utilsFactory(g);\n    const getUserAttributes = async () => {\n        try {\n            const attrsRes = await tokenPost(POST_TYPES.USER_ATTRIBUTES);\n            return attrsRes.data;\n        }\n        catch (error) {\n            return error;\n        }\n    };\n    const setUserAttribute = async (key, value) => {\n        try {\n            const setAttrsRes = await tokenPost(POST_TYPES.SET_ATTRIBUTE, {\n                key,\n                value\n            });\n            return {\n                success: setAttrsRes.success,\n                message: JSON.stringify(setAttrsRes.data)\n            };\n        }\n        catch (error) {\n            return {\n                success: false,\n                message: \"Error\",\n                error\n            };\n        }\n    };\n    const signUp = async (newUserID, password, userAttributes) => {\n        try {\n            const signUpRes = await tokenPost(POST_TYPES.SIGN_UP, {\n                newUserID,\n                password,\n                userAttributes\n            });\n            return {\n                success: signUpRes.success,\n                message: signUpRes.data\n            };\n        }\n        catch (error) {\n            return {\n                success: false,\n                message: \"Error\",\n                error\n            };\n        }\n    };\n    const signIn = async (userID, password) => {\n        const t1 = Date.now();\n        g.session = Math.floor(100000000 + Math.random() * 900000000);\n        const integrationType = g.ebconfig.integration.split(\"-\")[0].toUpperCase() === \"PROJECT\" ? \"PROJECT\" : \"REACT\";\n        try {\n            const res = await fetch(generateBareUrl(integrationType, g.integrationID), {\n                method: \"POST\",\n                headers: {\n                    'Eb-Post-Req': POST_TYPES.HANDSHAKE,\n                    'Accept': 'application/json',\n                    'Content-Type': 'application/json'\n                },\n                body: JSON.stringify({\n                    version: g.ebconfig.version,\n                    session: g.session,\n                    instance: g.instance,\n                    userID,\n                    password\n                })\n            });\n            const resData = await res.json();\n            if (resData.token) {\n                g.token = resData.token;\n                g.refreshToken = resData.refreshToken;\n                g.newTokenCallback();\n                g.mounted = true;\n                const validTokenRes = await tokenPost(POST_TYPES.VALID_TOKEN);\n                const elapsed = Date.now() - t1;\n                if (validTokenRes.success) {\n                    log(\"Valid auth initiation in \" + elapsed + \"ms\");\n                    return {\n                        success: true,\n                        message: \"Successfully signed in user\"\n                    };\n                }\n                else {\n                    return {\n                        success: false,\n                        message: \"Could not sign in user\"\n                    };\n                }\n            }\n            else {\n                return {\n                    success: false,\n                    message: \"Could not sign in user\"\n                };\n            }\n        }\n        catch (error) {\n            console.error(error);\n            return {\n                success: false,\n                message: error,\n                error\n            };\n        }\n    };\n    const isUserSignedIn = () => g.token.length > 0;\n    const signOut = () => {\n        g.token = \"\";\n        g.newTokenCallback();\n    };\n    const initAuth = async () => {\n        const t1 = Date.now();\n        g.session = Math.floor(100000000 + Math.random() * 900000000);\n        log(`Handshaking on${g.instance} instance`);\n        const integrationType = g.ebconfig.integration.split(\"-\")[0].toUpperCase() === \"PROJECT\" ? \"PROJECT\" : \"REACT\";\n        try {\n            const res = await fetch(generateBareUrl(integrationType, g.integrationID), {\n                method: \"POST\",\n                headers: {\n                    'Eb-Post-Req': POST_TYPES.HANDSHAKE,\n                    'Accept': 'application/json',\n                    'Content-Type': 'application/json'\n                },\n                body: JSON.stringify({\n                    version: g.ebconfig.version,\n                    tt: g.ebconfig.tt,\n                    session: g.session,\n                    instance: g.instance\n                })\n            });\n            const resData = await res.json();\n            if (resData.token) {\n                g.token = resData.token;\n                g.mounted = true;\n                const validTokenRes = await tokenPost(POST_TYPES.VALID_TOKEN);\n                const elapsed = Date.now() - t1;\n                if (validTokenRes.success) {\n                    log(\"Valid auth initiation in \" + elapsed + \"ms\");\n                    return true;\n                }\n                else {\n                    return false;\n                }\n            }\n            else {\n                return false;\n            }\n        }\n        catch (error) {\n            console.error(error);\n            return false;\n        }\n    };\n    const tokenPost = async (postType, body) => {\n        if (!g.mounted) {\n            await initAuth();\n        }\n        const integrationType = g.ebconfig.integration.split(\"-\")[0].toUpperCase() === \"PROJECT\" ? \"PROJECT\" : \"REACT\";\n        try {\n            const res = await fetch(generateBareUrl(integrationType, g.integrationID), {\n                method: \"POST\",\n                headers: {\n                    'Eb-Post-Req': postType,\n                    'Accept': 'application/json',\n                    'Content-Type': 'application/json'\n                },\n                body: JSON.stringify({\n                    _auth: generateAuthBody(),\n                    ...body\n                })\n            });\n            const resData = await res.json();\n            if ({}.hasOwnProperty.call(resData, 'ErrorCode') || {}.hasOwnProperty.call(resData, 'code')) {\n                if (resData.code === \"JWT EXPIRED\") {\n                    if (integrationType === \"PROJECT\") {\n                        const req_res = await tokenPost(POST_TYPES.REQUEST_TOKEN, {\n                            refreshToken: g.refreshToken,\n                            token: g.token\n                        });\n                        if (req_res.success) {\n                            g.token = req_res.data.token;\n                            g.newTokenCallback();\n                            return tokenPost(postType, body);\n                        }\n                        else {\n                            g.token = \"\";\n                            g.refreshToken = \"\";\n                            g.newTokenCallback();\n                            return {\n                                success: false,\n                                data: req_res.data\n                            };\n                        }\n                    }\n                    else {\n                        await initAuth();\n                    }\n                    return tokenPost(postType, body);\n                }\n                return {\n                    success: false,\n                    data: resData.body\n                };\n            }\n            else {\n                return {\n                    success: resData.success,\n                    data: resData.body\n                };\n            }\n        }\n        catch (error) {\n            return {\n                success: false,\n                data: error\n            };\n        }\n    };\n    const tokenPostAttachment = async (formData, customHeaders) => {\n        if (!g.mounted) {\n            await initAuth();\n        }\n        const regularAuthbody = generateAuthBody();\n        const attachmentAuth = {\n            'Eb-token': regularAuthbody.token,\n            'Eb-token-time': regularAuthbody.token_time,\n            'Eb-now': regularAuthbody.now\n        };\n        const integrationType = g.ebconfig.integration.split(\"-\")[0].toUpperCase() === \"PROJECT\" ? \"PROJECT\" : \"REACT\";\n        try {\n            const res = await fetch(generateBareUrl(integrationType, g.integrationID), {\n                method: \"POST\",\n                headers: {\n                    'Eb-Post-Req': POST_TYPES.UPLOAD_ATTACHMENT,\n                    ...customHeaders,\n                    ...attachmentAuth\n                },\n                body: formData\n            });\n            const resData = await res.json();\n            if ({}.hasOwnProperty.call(resData, 'ErrorCode') || {}.hasOwnProperty.call(resData, 'code')) {\n                if (resData.code === \"JWT EXPIRED\") {\n                    if (integrationType === \"PROJECT\") {\n                        const req_res = await tokenPost(POST_TYPES.REQUEST_TOKEN, {\n                            refreshToken: g.refreshToken,\n                            token: g.token\n                        });\n                        if (req_res.success) {\n                            g.token = req_res.data.token;\n                            g.newTokenCallback();\n                            return tokenPostAttachment(formData, customHeaders);\n                        }\n                        else {\n                            g.token = \"\";\n                            g.refreshToken = \"\";\n                            g.newTokenCallback();\n                            return {\n                                success: false,\n                                data: req_res.data\n                            };\n                        }\n                    }\n                    else {\n                        await initAuth();\n                    }\n                    return tokenPostAttachment(formData, customHeaders);\n                }\n                return {\n                    success: false,\n                    data: resData.body\n                };\n            }\n            else {\n                return {\n                    success: resData.success,\n                    data: resData.body\n                };\n            }\n        }\n        catch (error) {\n            return {\n                success: false,\n                data: error\n            };\n        }\n    };\n    return {\n        initAuth,\n        tokenPost,\n        tokenPostAttachment,\n        signUp,\n        setUserAttribute,\n        getUserAttributes,\n        isUserSignedIn,\n        signIn,\n        signOut\n    };\n}\n","import { POST_TYPES } from \"./types\";\nimport { gFactory } from \"./g\";\nimport deepEqual from \"fast-deep-equal\";\nimport { Observable } from \"./object-observer\";\nimport imageExtensions from \"./assets/image-extensions.json\";\nimport videoExtensions from \"./assets/video-extensions.json\";\nimport authFactory from \"./auth\";\nimport utilsFactory from \"./utils\";\nimport tableFactory from \"./table\";\nexport default function EasybaseProvider({ ebconfig, options }) {\n    const g = gFactory();\n    const { tokenPost, tokenPostAttachment, signUp, setUserAttribute, getUserAttributes, isUserSignedIn, signIn, signOut } = authFactory(g);\n    const { Query, fullTableSize, tableTypes } = tableFactory(g);\n    const { log } = utilsFactory(g);\n    if (typeof ebconfig !== 'object' || ebconfig === null || ebconfig === undefined) {\n        console.error(\"No ebconfig object passed. do `import ebconfig from \\\"ebconfig.js\\\"` and pass it to the Easybase provider\");\n        return;\n    }\n    else if (!ebconfig.integration) {\n        console.error(\"Invalid ebconfig object passed. Download ebconfig.js from Easybase.io and try again.\");\n        return;\n    }\n    // eslint-disable-next-line dot-notation\n    const isIE = typeof document !== 'undefined' && !!document['documentMode'];\n    if (isIE) {\n        console.error(\"EASYBASE — easybasejs does not support Internet Explorer. Please use a different browser.\");\n    }\n    g.options = { ...options };\n    g.integrationID = ebconfig.integration;\n    g.ebconfig = ebconfig;\n    if (g.ebconfig.tt && g.ebconfig.integration.split(\"-\")[0].toUpperCase() !== \"PROJECT\") {\n        g.mounted = false;\n    }\n    else {\n        g.mounted = true;\n    }\n    g.instance = \"Node\";\n    let _isFrameInitialized = true;\n    let _frameConfiguration = {\n        offset: 0,\n        limit: 0\n    };\n    const _observedChangeStack = [];\n    let _recordIdMap = new WeakMap();\n    let _observableFrame = {\n        observe: (_) => { },\n        unobserve: () => { }\n    };\n    let _frame = [];\n    let isSyncing = false;\n    function Frame(index) {\n        if (typeof index === \"number\") {\n            return _observableFrame[index];\n        }\n        else {\n            return _observableFrame;\n        }\n    }\n    const _recordIDExists = (record) => !!_recordIdMap.get(record);\n    const configureFrame = (options) => {\n        _frameConfiguration = { ..._frameConfiguration };\n        if (options.limit !== undefined)\n            _frameConfiguration.limit = options.limit;\n        if (options.offset !== undefined && options.offset >= 0)\n            _frameConfiguration.offset = options.offset;\n        if (options.tableName !== undefined)\n            _frameConfiguration.tableName = options.tableName;\n        _isFrameInitialized = false;\n        return {\n            message: \"Successfully configured frame. Run sync() for changes to be shown in frame\",\n            success: true\n        };\n    };\n    const currentConfiguration = () => ({ ..._frameConfiguration });\n    const deleteRecord = async (options) => {\n        const _frameRecord = _frame.find(ele => deepEqual(ele, options.record));\n        if (_frameRecord && _recordIdMap.get(_frameRecord)) {\n            const res = await tokenPost(POST_TYPES.SYNC_DELETE, {\n                _id: _recordIdMap.get(_frameRecord),\n                tableName: options.tableName\n            });\n            return {\n                success: res.success,\n                message: res.data\n            };\n        }\n        else {\n            try {\n                const res = await tokenPost(POST_TYPES.SYNC_DELETE, {\n                    record: options.record,\n                    tableName: options.tableName\n                });\n                return {\n                    success: res.success,\n                    message: res.data\n                };\n            }\n            catch (err) {\n                console.error(\"Easybase Error: deleteRecord failed \", err);\n                return {\n                    success: false,\n                    message: \"Easybase Error: deleteRecord failed \" + err,\n                    error: err\n                };\n            }\n        }\n    };\n    const addRecord = async (options) => {\n        const defaultValues = {\n            insertAtEnd: false,\n            newRecord: {},\n            tableName: undefined\n        };\n        const fullOptions = { ...defaultValues, ...options };\n        try {\n            const res = await tokenPost(POST_TYPES.SYNC_INSERT, fullOptions);\n            return {\n                message: res.data,\n                success: res.success\n            };\n        }\n        catch (err) {\n            console.error(\"Easybase Error: addRecord failed \", err);\n            return {\n                message: \"Easybase Error: addRecord failed \" + err,\n                success: false,\n                error: err\n            };\n        }\n    };\n    // Only allow the deletion of one element at a time\n    // First handle shifting of the array size. Then iterate\n    const sync = async () => {\n        const _realignFrames = (newData) => {\n            let isNewDataTheSame = true;\n            if (newData.length !== _frame.length) {\n                isNewDataTheSame = false;\n            }\n            else {\n                for (let i = 0; i < newData.length; i++) {\n                    const newDataNoId = { ...newData[i] };\n                    delete newDataNoId._id;\n                    if (!deepEqual(newDataNoId, _frame[i])) {\n                        isNewDataTheSame = false;\n                        break;\n                    }\n                }\n            }\n            if (!isNewDataTheSame) {\n                const oldframe = [..._frame];\n                oldframe.length = newData.length;\n                _recordIdMap = new WeakMap();\n                for (let i = 0; i < newData.length; i++) {\n                    const currNewEle = newData[i];\n                    _recordIdMap.set(currNewEle, currNewEle._id);\n                    delete currNewEle._id;\n                    oldframe[i] = currNewEle;\n                }\n                _frame = oldframe;\n                _observableFrame.unobserve();\n                _observableFrame = Observable.from(_frame);\n                _observableFrame.observe((allChanges) => {\n                    allChanges.forEach((change) => {\n                        _observedChangeStack.push({\n                            type: change.type,\n                            path: change.path,\n                            value: change.value,\n                            _id: _recordIdMap.get(_frame[Number(change.path[0])])\n                            // Not bringing change.object or change.oldValue\n                        });\n                        log(JSON.stringify({\n                            type: change.type,\n                            path: change.path,\n                            value: change.value,\n                            _id: _recordIdMap.get(_frame[Number(change.path[0])])\n                            // Not bringing change.object or change.oldValue\n                        }));\n                    });\n                });\n            }\n        };\n        if (isSyncing) {\n            return {\n                success: false,\n                message: \"Easybase Error: the provider is currently syncing, use 'await sync()' before calling sync() again\"\n            };\n        }\n        isSyncing = true;\n        if (_isFrameInitialized) {\n            if (_observedChangeStack.length > 0) {\n                log(\"Stack change: \", _observedChangeStack);\n                const res = await tokenPost(POST_TYPES.SYNC_STACK, {\n                    stack: _observedChangeStack,\n                    ..._frameConfiguration\n                });\n                console.log(res.data);\n                if (res.success) {\n                    _observedChangeStack.length = 0;\n                }\n            }\n        }\n        try {\n            const res = await tokenPost(POST_TYPES.GET_FRAME, _frameConfiguration);\n            // Check if the array recieved from db is the same as frame\n            // If not, update it and send useFrameEffect\n            if (res.success === false) {\n                console.error(res.data);\n                isSyncing = false;\n                return {\n                    success: false,\n                    message: \"\" + res.data\n                };\n            }\n            else {\n                _isFrameInitialized = true;\n                _realignFrames(res.data);\n                isSyncing = false;\n                return {\n                    message: 'Success. Call frame for data',\n                    success: true\n                };\n            }\n        }\n        catch (err) {\n            console.error(\"Easybase Error: get failed \", err);\n            isSyncing = false;\n            return {\n                success: false,\n                message: \"Easybase Error: get failed \" + err,\n                error: err\n            };\n        }\n    };\n    const updateRecordImage = async (options) => {\n        const res = await _updateRecordAttachment(options, \"image\");\n        return res;\n    };\n    const updateRecordVideo = async (options) => {\n        const res = await _updateRecordAttachment(options, \"video\");\n        return res;\n    };\n    const updateRecordFile = async (options) => {\n        const res = await _updateRecordAttachment(options, \"file\");\n        return res;\n    };\n    const _updateRecordAttachment = async (options, type) => {\n        const _frameRecord = _frame.find(ele => deepEqual(ele, options.record));\n        if (_frameRecord === undefined || !_recordIDExists(_frameRecord)) {\n            log(\"Attempting to add attachment to a new record that has not been synced. Please sync() before trying to add attachment.\");\n            return {\n                success: false,\n                message: \"Attempting to add attachment to a new record that has not been synced. Please sync() before trying to add attachment.\"\n            };\n        }\n        const ext = options.attachment.name.split(\".\").pop().toLowerCase();\n        log(ext);\n        if (type === \"image\" && !imageExtensions.includes(ext)) {\n            return {\n                success: false,\n                message: \"Image files must have a proper image extension in the file name\"\n            };\n        }\n        if (type === \"video\" && !videoExtensions.includes(ext)) {\n            return {\n                success: false,\n                message: \"Video files must have a proper video extension in the file name\"\n            };\n        }\n        function isFileFromURI(f) {\n            return f.uri !== undefined;\n        }\n        const formData = new FormData();\n        if (isFileFromURI(options.attachment)) {\n            formData.append(\"file\", options.attachment);\n            formData.append(\"name\", options.attachment.name);\n        }\n        else {\n            formData.append(\"file\", options.attachment);\n            formData.append(\"name\", options.attachment.name);\n        }\n        const customHeaders = {\n            'Eb-upload-type': type,\n            'Eb-column-name': options.columnName,\n            'Eb-record-id': _recordIdMap.get(_frameRecord),\n            'Eb-table-name': options.tableName\n        };\n        const res = await tokenPostAttachment(formData, customHeaders);\n        await sync();\n        return {\n            message: res.data,\n            success: res.success\n        };\n    };\n    const c = {\n        configureFrame,\n        addRecord,\n        deleteRecord,\n        sync,\n        updateRecordImage,\n        updateRecordVideo,\n        updateRecordFile,\n        Frame,\n        fullTableSize,\n        tableTypes,\n        currentConfiguration,\n        Query,\n        isUserSignedIn,\n        signIn,\n        signOut,\n        signUp,\n        setUserAttribute,\n        getUserAttributes\n    };\n    return c;\n}\n","import { POST_TYPES } from \"./types\";\nimport _g from \"./g\";\nimport authFactory from \"./auth\";\nexport default function tableFactory(globals) {\n    const g = globals || _g;\n    const { tokenPost } = authFactory(g);\n    const Query = async (options) => {\n        const defaultOptions = {\n            queryName: \"\"\n        };\n        const fullOptions = { ...defaultOptions, ...options };\n        try {\n            const res = await tokenPost(POST_TYPES.GET_QUERY, fullOptions);\n            return res.data;\n        }\n        catch (error) {\n            return [];\n        }\n    };\n    async function fullTableSize(tableName) {\n        const res = await tokenPost(POST_TYPES.TABLE_SIZE, tableName ? { tableName } : {});\n        if (res.success) {\n            return res.data;\n        }\n        else {\n            return 0;\n        }\n    }\n    async function tableTypes(tableName) {\n        const res = await tokenPost(POST_TYPES.COLUMN_TYPES, tableName ? { tableName } : {});\n        if (res.success) {\n            return res.data;\n        }\n        else {\n            return {};\n        }\n    }\n    return {\n        Query,\n        fullTableSize,\n        tableTypes\n    };\n}\n","import fetch from 'cross-fetch';\nexport { default as EasybaseProvider } from \"./EasybaseProvider/EasybaseProvider\";\nconst generateBareUrl = (type, integrationID) => `https://api.easybase.io/${type}/${integrationID}`;\nconst isBadInt = (my_int) => my_int !== undefined && my_int !== null && Math.floor(my_int) !== my_int;\nconst isBadString = (my_string) => my_string !== undefined && my_string !== null && typeof my_string !== \"string\";\nconst isBadIntegrationID = (my_string) => my_string === undefined || my_string === null || typeof my_string !== \"string\";\nconst isBadObject = (my_obj) => my_obj !== undefined && my_obj !== null && typeof my_obj !== \"object\";\nconst isBadBool = (my_bool) => my_bool !== undefined && my_bool !== null && typeof my_bool !== \"boolean\";\n/**\n *\n * @param {GetOptions} options GetOptions.\n * @returns {Promise<Array>} Array of records.\n *\n */\nexport function get(options) {\n    const defaultOptions = {\n        integrationID: \"\",\n        offset: undefined,\n        limit: undefined,\n        authentication: undefined,\n        customQuery: undefined\n    };\n    const { integrationID, offset, limit, authentication, customQuery } = { ...defaultOptions, ...options };\n    if (isBadIntegrationID(integrationID))\n        throw new Error(\"integrationID is required and must be a string\");\n    if (isBadInt(offset))\n        throw new Error(\"offset must be an integer\");\n    if (isBadInt(limit))\n        throw new Error(\"limit must be an integer\");\n    if (isBadString(authentication))\n        throw new Error(\"authentication must be a string or null\");\n    if (isBadObject(customQuery))\n        throw new Error(\"customQuery must be an object or null\");\n    return new Promise((resolve, reject) => {\n        try {\n            let fetch_body = {};\n            if (typeof customQuery === \"object\")\n                fetch_body = { ...customQuery };\n            if (offset !== undefined)\n                fetch_body.offset = offset;\n            if (limit !== undefined)\n                fetch_body.limit = limit;\n            if (authentication !== undefined)\n                fetch_body.authentication = authentication;\n            fetch(generateBareUrl('get', integrationID), {\n                method: \"POST\",\n                body: JSON.stringify(fetch_body),\n                headers: {\n                    'Accept': 'application/json',\n                    'Content-Type': 'application/json'\n                }\n            })\n                .then(res => res.json())\n                .then(resData => {\n                if ({}.hasOwnProperty.call(resData, 'ErrorCode')) {\n                    console.error(resData.message);\n                    resolve([resData.message]);\n                }\n                else\n                    resolve(resData);\n            });\n        }\n        catch (err) {\n            reject(err);\n        }\n    });\n}\n/**\n *\n * @param {PostOptions} options PostOptions\n * @returns {Promise<String>} Post status.\n *\n */\nexport function post(options) {\n    const defaultValues = {\n        integrationID: \"\",\n        newRecord: undefined,\n        authentication: undefined,\n        insertAtEnd: undefined\n    };\n    const { integrationID, newRecord, authentication, insertAtEnd } = { ...defaultValues, ...options };\n    if (isBadIntegrationID(integrationID))\n        throw new Error(\"integrationID is required and must be a string\");\n    if (isBadObject(newRecord))\n        throw new Error(\"newRecord is required and must be a string\");\n    if (isBadString(authentication))\n        throw new Error(\"authentication must be a string or null\");\n    if (isBadBool(insertAtEnd))\n        throw new Error(\"insertAtEnd must be a boolean or null\");\n    return new Promise((resolve, reject) => {\n        try {\n            const fetch_body = { ...newRecord };\n            if (authentication !== undefined)\n                fetch_body.authentication = authentication;\n            if (insertAtEnd !== undefined)\n                fetch_body.insertAtEnd = insertAtEnd;\n            fetch(generateBareUrl('post', integrationID), {\n                method: \"POST\",\n                body: JSON.stringify(fetch_body),\n                headers: {\n                    'Accept': 'application/json',\n                    'Content-Type': 'application/json'\n                }\n            })\n                .then(res => res.json())\n                .then(resData => {\n                if ({}.hasOwnProperty.call(resData, 'ErrorCode'))\n                    console.error(resData.message);\n                resolve(resData);\n            });\n        }\n        catch (err) {\n            reject(err);\n        }\n    });\n}\n/**\n *\n * @param {UpdateOptions} options UpdateOptions\n * @returns {Promise<String>} Update status.\n */\nexport function update(options) {\n    const defaultValues = {\n        integrationID: \"\",\n        updateValues: undefined,\n        authentication: undefined,\n        customQuery: undefined\n    };\n    const { integrationID, updateValues, authentication, customQuery } = { ...defaultValues, ...options };\n    if (isBadIntegrationID(integrationID))\n        throw new Error(\"integrationID is required and must be a string\");\n    if (isBadObject(updateValues) || updateValues === undefined)\n        throw new Error(\"updateValues is required and must be a string\");\n    if (isBadString(authentication))\n        throw new Error(\"authentication must be a string or null\");\n    if (isBadObject(customQuery))\n        throw new Error(\"customQuery must be an object or null\");\n    return new Promise((resolve, reject) => {\n        try {\n            const fetch_body = { updateValues, ...customQuery };\n            if (authentication !== undefined)\n                fetch_body.authentication = authentication;\n            fetch(generateBareUrl('update', integrationID), {\n                method: \"POST\",\n                body: JSON.stringify(fetch_body),\n                headers: {\n                    'Accept': 'application/json',\n                    'Content-Type': 'application/json'\n                }\n            })\n                .then(res => res.json())\n                .then(resData => {\n                if ({}.hasOwnProperty.call(resData, 'ErrorCode'))\n                    console.error(resData.message);\n                resolve(resData.message);\n            });\n        }\n        catch (err) {\n            reject(err);\n        }\n    });\n}\n/**\n *\n * @param {DeleteOptions} options DeleteOptions\n * @return {Promise<String>} Delete status.\n */\nexport function Delete(options) {\n    const defaultValues = {\n        integrationID: \"\",\n        authentication: undefined,\n        customQuery: undefined\n    };\n    const { integrationID, authentication, customQuery } = { ...defaultValues, ...options };\n    if (isBadIntegrationID(integrationID))\n        throw new Error(\"integrationID is required and must be a string\");\n    if (isBadString(authentication))\n        throw new Error(\"authentication must be a string or null\");\n    if (isBadObject(customQuery))\n        throw new Error(\"customQuery must be an object or null\");\n    return new Promise((resolve, reject) => {\n        try {\n            const fetch_body = { ...customQuery };\n            if (authentication !== undefined)\n                fetch_body.authentication = authentication;\n            fetch(generateBareUrl('delete', integrationID), {\n                method: \"POST\",\n                body: JSON.stringify(fetch_body),\n                headers: {\n                    'Accept': 'application/json',\n                    'Content-Type': 'application/json'\n                }\n            })\n                .then(res => res.json())\n                .then(resData => {\n                if ({}.hasOwnProperty.call(resData, 'ErrorCode'))\n                    console.error(resData.message);\n                resolve(resData.message);\n            });\n        }\n        catch (err) {\n            reject(err);\n        }\n    });\n}\n/**\n * @async\n * Call a cloud function, created in Easybase interface.\n * @param {string} route Route as detailed in Easybase. Found under 'Deploy'. Will be in the form of ####...####-function-name.\n * @param {Record<string, any>} postBody Optional object to pass as the body of the POST request. This object will available in your cloud function's event.body.\n * @return {Promise<string | undefined>} Response from your cloud function. Detailed with a call to 'return context.succeed(\"RESPONSE\")'.\n */\nexport async function callFunction(route, postBody) {\n    const res = await fetch(generateBareUrl('function', route.split(\"/\").pop()), {\n        method: \"POST\",\n        headers: {\n            'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(postBody) || \"\"\n    });\n    const rawDataText = await res.text();\n    return rawDataText;\n}\n"],"sourceRoot":""}