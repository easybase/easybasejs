{"version":3,"sources":["webpack://EasyBase/webpack/universalModuleDefinition","webpack://EasyBase/webpack/bootstrap","webpack://EasyBase/./node_modules/EasyQB/src/lib-util/index.js","webpack://EasyBase/./node_modules/cross-fetch/dist/browser-ponyfill.js","webpack://EasyBase/./node_modules/EasyQB/src/lib-sq/common/from_items.js","webpack://EasyBase/./node_modules/EasyQB/src/lib-sq/common/values_array.js","webpack://EasyBase/./node_modules/EasyQB/src/lib-sq/common/conditions.js","webpack://EasyBase/./node_modules/fast-deep-equal/index.js","webpack://EasyBase/./node_modules/EasyQB/src/index.js","webpack://EasyBase/./node_modules/EasyQB/src/lib-sq/common/expressions.js","webpack://EasyBase/./node_modules/EasyQB/src/lib-sq/common/limit_offset.js","webpack://EasyBase/./node_modules/EasyQB/src/lib-util/tagged_template.js","webpack://EasyBase/./node_modules/EasyQB/src/lib-sq/clauses/index.js","webpack://EasyBase/./node_modules/EasyQB/src/lib-core/index.js","webpack://EasyBase/./node_modules/EasyQB/src/builder-sq/index.js","webpack://EasyBase/./node_modules/EasyQB/src/builder-sq/context.js","webpack://EasyBase/./node_modules/EasyQB/src/builder-expression/index.js","webpack://EasyBase/./node_modules/EasyQB/src/builder-expression/compile.js","webpack://EasyBase/./node_modules/EasyQB/src/lib-util/build_utils.js","webpack://EasyBase/./node_modules/EasyQB/src/lib-util/change_case.js","webpack://EasyBase/./node_modules/EasyQB/src/dialect-postgres/index.js","webpack://EasyBase/./node_modules/EasyQB/src/dialect-postgres/query.js","webpack://EasyBase/./node_modules/EasyQB/src/lib-sq/index.js","webpack://EasyBase/./node_modules/EasyQB/src/lib-sq/methods.js","webpack://EasyBase/./node_modules/EasyQB/src/lib-sq/query.js","webpack://EasyBase/./node_modules/EasyQB/src/lib-sq/clauses/with.js","webpack://EasyBase/./node_modules/EasyQB/src/lib-sq/clauses/select.js","webpack://EasyBase/./node_modules/EasyQB/src/lib-sq/clauses/from.js","webpack://EasyBase/./node_modules/EasyQB/src/lib-sq/clauses/where.js","webpack://EasyBase/./node_modules/EasyQB/src/lib-sq/clauses/group.js","webpack://EasyBase/./node_modules/EasyQB/src/lib-sq/clauses/having.js","webpack://EasyBase/./node_modules/EasyQB/src/lib-sq/clauses/setop.js","webpack://EasyBase/./node_modules/EasyQB/src/lib-sq/clauses/order.js","webpack://EasyBase/./node_modules/EasyQB/src/lib-sq/clauses/limit.js","webpack://EasyBase/./node_modules/EasyQB/src/lib-sq/clauses/offset.js","webpack://EasyBase/./node_modules/EasyQB/src/lib-sq/clauses/delete.js","webpack://EasyBase/./node_modules/EasyQB/src/lib-sq/clauses/returning.js","webpack://EasyBase/./node_modules/EasyQB/src/lib-sq/clauses/insert.js","webpack://EasyBase/./node_modules/EasyQB/src/lib-sq/clauses/update.js","webpack://EasyBase/./node_modules/EasyQB/src/lib-sq/clauses/set.js","webpack://EasyBase/./node_modules/EasyQB/src/lib-sq/common/index.js","webpack://EasyBase/./node_modules/EasyQB/src/dialect-postgres/expression.js","webpack://EasyBase/./node_modules/EasyQB/src/lib-expression/index.js","webpack://EasyBase/./node_modules/EasyQB/src/lib-expression/util.js","webpack://EasyBase/./node_modules/EasyQB/src/dialect-postgres/parameterize.js","webpack://EasyBase/./src/EasybaseProvider/types.ts","webpack://EasyBase/./src/EasybaseProvider/g.ts","webpack://EasyBase/./src/EasybaseProvider/object-observer.js","webpack://EasyBase/./src/EasybaseProvider/utils.ts","webpack://EasyBase/./src/EasybaseProvider/auth.ts","webpack://EasyBase/./src/EasybaseProvider/EasybaseProvider.ts","webpack://EasyBase/./src/EasybaseProvider/table.ts","webpack://EasyBase/./src/EasybaseProvider/db.ts","webpack://EasyBase/./src/index.ts"],"names":["root","factory","exports","module","define","amd","window","installedModules","__webpack_require__","moduleId","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","buildUtils","changeCase","taggedTemplate","global","self","this","__self__","F","fetch","DOMException","support","Blob","e","viewClasses","isArrayBufferView","ArrayBuffer","isView","obj","indexOf","toString","normalizeName","String","test","TypeError","toLowerCase","normalizeValue","iteratorFor","items","iterator","next","shift","done","undefined","Headers","headers","map","forEach","append","Array","isArray","header","getOwnPropertyNames","consumed","body","bodyUsed","Promise","reject","fileReaderReady","reader","resolve","onload","result","onerror","error","readBlobAsArrayBuffer","blob","FileReader","promise","readAsArrayBuffer","bufferClone","buf","slice","view","Uint8Array","byteLength","set","buffer","Body","_initBody","_bodyInit","_bodyText","isPrototypeOf","_bodyBlob","FormData","_bodyFormData","URLSearchParams","DataView","_bodyArrayBuffer","type","rejected","Error","arrayBuffer","then","text","readAsText","chars","length","fromCharCode","join","readArrayBufferAsText","formData","decode","json","JSON","parse","oldValue","has","callback","thisArg","keys","push","values","entries","methods","Request","input","options","method","upcased","url","credentials","signal","toUpperCase","referrer","form","trim","split","bytes","replace","decodeURIComponent","Response","bodyInit","status","ok","statusText","clone","response","redirectStatuses","redirect","RangeError","location","err","message","stack","constructor","init","request","aborted","xhr","XMLHttpRequest","abortXhr","abort","rawHeaders","getAllResponseHeaders","line","parts","responseURL","responseText","ontimeout","onabort","open","withCredentials","responseType","setRequestHeader","addEventListener","onreadystatechange","readyState","removeEventListener","send","polyfill","ponyfill","ctx","default","isObject","buildCall","mapJoin","objectMapJoin","conditions","valuesArray","start","end","txt","item","fromItem","args","on","using","arg","build","buildObject","mapKey","columns","array","uniqueKeys","source","j","isTaggedTemplate","buildTaggedTemplate","valuesList","callbackfn","equal","a","b","RegExp","flags","valueOf","core","dialect","from","parameterize","strings","raw","wth","select","where","group","having","setop","order","limit","offset","del","returning","insert","update","createQueryBuilder","createExpressionBuilder","memoize","normalKey","_build","unparameterized","escape","config","query","expression","defaultContext","createNewContext","createChain","chain","fn","prev","setPrototypeOf","createReducers","reducers","updateContext","properties","applyReducers","express","id","builderProperties","newContext","queries","inheritedContext","methodProperties","extend","arr","builder","executeProperties","one","async","oneCallback","tableName","userAssociatedRecordsOnly","all","allCallback","_tableName","_methodProperties","defineProperties","inherit","params","whr","target","separator","sql","ret","frm","grp","hav","ord","with","createExpressionCompiler","aggregator","op","columnName","expressions","compile","max","min","avg","count","sum","current","buildCalls","calls","last","pushCall","tag","createCallsCompiler","expressionTable","exp","minArgs","maxArgs","numArgs","callsCompiler","mapJoinWrap","close","cache","given_key","clauses","common","fromItems","distinctOn","distinct","delete","rollup","cube","groupingSets","withRecursive","recursive","return","groupBy","union","unionAll","intersect","intersectAll","except","exceptAll","orderBy","leftJoin","rightJoin","fullJoin","crossJoin","naturalJoin","naturalLeftJoin","naturalRightJoin","naturalFullJoin","clause","str","userType","buildDistinct","buildArg","buildArrayArg","buildCubeOrRollupArg","buildCubeOrRollupArrayArg","first","by","sort","nulls","limitOffset","buildValuesArray","unaryPre","unaryPost","unaryFunction","binary","ternary","nary","naryFunction","oneValue","compositeValue","membership","quantifiedComparison","dateBinary","row","unknown","boolean","number","string","table","and","or","not","isTrue","isNotTrue","isFalse","isNotFalse","isUnknown","isNotUnknown","comparison","eq","neq","lt","gt","lte","gte","between","isDistinctFrom","isNotDistinctFrom","isNull","isNotNull","in","notIn","eqAny","neqAny","ltAny","gtAny","lteAny","gteAny","eqAll","neqAll","ltAll","gtAll","lteAll","gteAll","dateComparison","dateLt","dateGt","dateLte","dateGte","math","add","sub","mul","div","mod","sqrt","cbrt","fact","abs","like","notLike","unnest","Number","MAX_SAFE_INTEGER","op1","op2","arg1","arg2","buildValuesList","inDate","getMonth","getFullYear","getDate","escapeLiteral","stringify","hasBackslash","escaped","POST_TYPES","DB_STATUS","EXECUTE_COUNT","GlobalNamespace","oMetaKey","validObservableOptionKeys","validObserverOptionKeys","path","pathsOf","pathsFrom","propertiesBluePrint","observe","observer","observers","some","console","warn","opts","filter","invalidOptions","option","processObserveOptions","unobserve","oMeta","ol","al","arguments","splice","prepareObject","getObservedOf","prepareArray","prepareTypedArray","filterChanges","changes","oPath","change","oPathsOf","oPathsFrom","startsWith","callObserverSafe","listener","callObserversFromMT","batches","callObservers","relevantChanges","newPath","tmp","currentObservable","queueMicrotask","rb","find","apply","tmpa","parent","ownKey","ArrayOMeta","proxy","TypedArrayOMeta","Date","ObjectOMeta","proxiedReverse","reverse","tmpObserved","proxiedSort","comparator","proxiedFill","filVal","tarLen","Math","fill","tmpTarget","detach","proxiedCopyWithin","dest","len","copyWithin","nItem","oItem","proxiedArrayMethods","pop","poppedIndex","popResult","pushContent","initialLength","pushResult","Reflect","shiftResult","unshift","unshiftContent","unshiftResult","splLen","spliceContent","startIndex","removed","inserted","spliceResult","newTarLen","index","proxiedTypedArrayMethods","souLen","OMetaBase","cloningFunction","targetClone","revocable","Proxy","processOptions","assign","newValue","super","Observable","freeze","utilsFactory","globals","g","generateAuthBody","stamp","now","token","token_time","session","generateBareUrl","integrationID","log","logging","authFactory","_clearTokens","refreshToken","newTokenCallback","initAuth","t1","floor","random","instance","integrationType","ebconfig","integration","res","HANDSHAKE","version","tt","resData","mounted","validTokenRes","tokenPost","VALID_TOKEN","elapsed","success","postType","_auth","ErrorCode","req_res","REQUEST_TOKEN","data","code","errorCode","tokenPostAttachment","customHeaders","regularAuthbody","attachmentAuth","UPLOAD_ATTACHMENT","signUp","newUserID","password","userAttributes","signUpRes","SIGN_UP","setUserAttribute","setAttrsRes","SET_ATTRIBUTE","getUserAttributes","USER_ATTRIBUTES","isUserSignedIn","signIn","userID","signOut","resetUserPassword","newPassword","RESET_PASSWORD","forgotPassword","username","emailTemplate","FORGOT_PASSWORD_SEND","forgotPasswordConfirm","FORGOT_PASSWORD_CONFIRM","EasybaseProvider","Query","fullTableSize","tableTypes","fullOptions","queryName","GET_QUERY","TABLE_SIZE","COLUMN_TYPES","tableFactory","db","dbEventListener","_listenerIndex","_listeners","_runListeners","cb","trx","PENDING","ALL","EASY_QB","SUCCESS","ERROR","ONE","currKey","dbFactory","document","_isFrameInitialized","_frameConfiguration","_observedChangeStack","_recordIdMap","WeakMap","_observableFrame","_","_frame","isSyncing","sync","SYNC_STACK","GET_FRAME","newData","isNewDataTheSame","newDataNoId","_id","oldframe","currNewEle","allChanges","_realignFrames","_updateRecordAttachment","_frameRecord","ele","record","ext","attachment","includes","uri","configureFrame","addRecord","insertAtEnd","newRecord","SYNC_INSERT","deleteRecord","SYNC_DELETE","Frame","currentConfiguration","updateRecordImage","updateRecordVideo","updateRecordFile","isBadInt","my_int","isBadString","my_string","isBadIntegrationID","isBadObject","my_obj","defaultOptions","authentication","customQuery","fetch_body","post","defaultValues","my_bool","updateValues","Delete","callFunction","route","postBody"],"mappings":"CAAA,SAA2CA,EAAMC,GAC1B,iBAAZC,SAA0C,iBAAXC,OACxCA,OAAOD,QAAUD,IACQ,mBAAXG,QAAyBA,OAAOC,IAC9CD,OAAO,GAAIH,GACe,iBAAZC,QACdA,QAAkB,SAAID,IAEtBD,EAAe,SAAIC,IARrB,CASGK,QAAQ,WACX,O,YCTE,IAAIC,EAAmB,GAGvB,SAASC,EAAoBC,GAG5B,GAAGF,EAAiBE,GACnB,OAAOF,EAAiBE,GAAUP,QAGnC,IAAIC,EAASI,EAAiBE,GAAY,CACzCC,EAAGD,EACHE,GAAG,EACHT,QAAS,IAUV,OANAU,EAAQH,GAAUI,KAAKV,EAAOD,QAASC,EAAQA,EAAOD,QAASM,GAG/DL,EAAOQ,GAAI,EAGJR,EAAOD,QA0Df,OArDAM,EAAoBM,EAAIF,EAGxBJ,EAAoBO,EAAIR,EAGxBC,EAAoBQ,EAAI,SAASd,EAASe,EAAMC,GAC3CV,EAAoBW,EAAEjB,EAASe,IAClCG,OAAOC,eAAenB,EAASe,EAAM,CAAEK,YAAY,EAAMC,IAAKL,KAKhEV,EAAoBgB,EAAI,SAAStB,GACX,oBAAXuB,QAA0BA,OAAOC,aAC1CN,OAAOC,eAAenB,EAASuB,OAAOC,YAAa,CAAEC,MAAO,WAE7DP,OAAOC,eAAenB,EAAS,aAAc,CAAEyB,OAAO,KAQvDnB,EAAoBoB,EAAI,SAASD,EAAOE,GAEvC,GADU,EAAPA,IAAUF,EAAQnB,EAAoBmB,IAC/B,EAAPE,EAAU,OAAOF,EACpB,GAAW,EAAPE,GAA8B,iBAAVF,GAAsBA,GAASA,EAAMG,WAAY,OAAOH,EAChF,IAAII,EAAKX,OAAOY,OAAO,MAGvB,GAFAxB,EAAoBgB,EAAEO,GACtBX,OAAOC,eAAeU,EAAI,UAAW,CAAET,YAAY,EAAMK,MAAOA,IACtD,EAAPE,GAA4B,iBAATF,EAAmB,IAAI,IAAIM,KAAON,EAAOnB,EAAoBQ,EAAEe,EAAIE,EAAK,SAASA,GAAO,OAAON,EAAMM,IAAQC,KAAK,KAAMD,IAC9I,OAAOF,GAIRvB,EAAoB2B,EAAI,SAAShC,GAChC,IAAIe,EAASf,GAAUA,EAAO2B,WAC7B,WAAwB,OAAO3B,EAAgB,SAC/C,WAA8B,OAAOA,GAEtC,OADAK,EAAoBQ,EAAEE,EAAQ,IAAKA,GAC5BA,GAIRV,EAAoBW,EAAI,SAASiB,EAAQC,GAAY,OAAOjB,OAAOkB,UAAUC,eAAe1B,KAAKuB,EAAQC,IAGzG7B,EAAoBgC,EAAI,GAIjBhC,EAAoBA,EAAoBiC,EAAI,I,kBClFrD,MAAMC,EAAa,EAAQ,IACrBC,EAAa,EAAQ,IACrBC,EAAiB,EAAQ,GAE/BzC,EAAOD,QAAU,IACZwC,KACAC,KACAC,I,cCPL,IAAIC,EAAyB,oBAATC,KAAuBA,KAAOC,KAC9CC,EAAW,WACf,SAASC,IACTF,KAAKG,OAAQ,EACbH,KAAKI,aAAeN,EAAOM,aAG3B,OADAF,EAAEX,UAAYO,EACP,IAAII,EANI,IAQf,SAAUH,IAEQ,SAAU5C,GAE1B,IAAIkD,EACY,oBAAqBN,EADjCM,EAEQ,WAAYN,GAAQ,aAAcrB,OAF1C2B,EAIA,eAAgBN,GAChB,SAAUA,GACV,WACE,IAEE,OADA,IAAIO,MACG,EACP,MAAOC,GACP,OAAO,GALX,GANAF,EAcQ,aAAcN,EAdtBM,EAeW,gBAAiBN,EAOhC,GAAIM,EACF,IAAIG,EAAc,CAChB,qBACA,sBACA,6BACA,sBACA,uBACA,sBACA,uBACA,wBACA,yBAGEC,EACFC,YAAYC,QACZ,SAASC,GACP,OAAOA,GAAOJ,EAAYK,QAAQxC,OAAOkB,UAAUuB,SAAShD,KAAK8C,KAAS,GAIhF,SAASG,EAAc7C,GAIrB,GAHoB,iBAATA,IACTA,EAAO8C,OAAO9C,IAEZ,4BAA4B+C,KAAK/C,GACnC,MAAM,IAAIgD,UAAU,0CAEtB,OAAOhD,EAAKiD,cAGd,SAASC,EAAexC,GAItB,MAHqB,iBAAVA,IACTA,EAAQoC,OAAOpC,IAEVA,EAIT,SAASyC,EAAYC,GACnB,IAAIC,EAAW,CACbC,KAAM,WACJ,IAAI5C,EAAQ0C,EAAMG,QAClB,MAAO,CAACC,UAAgBC,IAAV/C,EAAqBA,MAAOA,KAU9C,OANIyB,IACFkB,EAAS7C,OAAO6C,UAAY,WAC1B,OAAOA,IAIJA,EAGT,SAASK,EAAQC,GACf7B,KAAK8B,IAAM,GAEPD,aAAmBD,EACrBC,EAAQE,SAAQ,SAASnD,EAAOV,GAC9B8B,KAAKgC,OAAO9D,EAAMU,KACjBoB,MACMiC,MAAMC,QAAQL,GACvBA,EAAQE,SAAQ,SAASI,GACvBnC,KAAKgC,OAAOG,EAAO,GAAIA,EAAO,MAC7BnC,MACM6B,GACTxD,OAAO+D,oBAAoBP,GAASE,SAAQ,SAAS7D,GACnD8B,KAAKgC,OAAO9D,EAAM2D,EAAQ3D,MACzB8B,MAgEP,SAASqC,EAASC,GAChB,GAAIA,EAAKC,SACP,OAAOC,QAAQC,OAAO,IAAIvB,UAAU,iBAEtCoB,EAAKC,UAAW,EAGlB,SAASG,EAAgBC,GACvB,OAAO,IAAIH,SAAQ,SAASI,EAASH,GACnCE,EAAOE,OAAS,WACdD,EAAQD,EAAOG,SAEjBH,EAAOI,QAAU,WACfN,EAAOE,EAAOK,WAKpB,SAASC,EAAsBC,GAC7B,IAAIP,EAAS,IAAIQ,WACbC,EAAUV,EAAgBC,GAE9B,OADAA,EAAOU,kBAAkBH,GAClBE,EAoBT,SAASE,EAAYC,GACnB,GAAIA,EAAIC,MACN,OAAOD,EAAIC,MAAM,GAEjB,IAAIC,EAAO,IAAIC,WAAWH,EAAII,YAE9B,OADAF,EAAKG,IAAI,IAAIF,WAAWH,IACjBE,EAAKI,OAIhB,SAASC,IA0FP,OAzFA9D,KAAKuC,UAAW,EAEhBvC,KAAK+D,UAAY,SAASzB,GAhM5B,IAAoB1B,EAiMhBZ,KAAKgE,UAAY1B,EACZA,EAEsB,iBAATA,EAChBtC,KAAKiE,UAAY3B,EACRjC,GAAgBC,KAAKf,UAAU2E,cAAc5B,GACtDtC,KAAKmE,UAAY7B,EACRjC,GAAoB+D,SAAS7E,UAAU2E,cAAc5B,GAC9DtC,KAAKqE,cAAgB/B,EACZjC,GAAwBiE,gBAAgB/E,UAAU2E,cAAc5B,GACzEtC,KAAKiE,UAAY3B,EAAKxB,WACbT,GAAuBA,KA5MlBO,EA4M6C0B,IA3MjDiC,SAAShF,UAAU2E,cAActD,KA4M3CZ,KAAKwE,iBAAmBlB,EAAYhB,EAAKuB,QAEzC7D,KAAKgE,UAAY,IAAI1D,KAAK,CAACN,KAAKwE,oBACvBnE,IAAwBK,YAAYnB,UAAU2E,cAAc5B,IAAS7B,EAAkB6B,IAChGtC,KAAKwE,iBAAmBlB,EAAYhB,GAEpCtC,KAAKiE,UAAY3B,EAAOjE,OAAOkB,UAAUuB,SAAShD,KAAKwE,GAhBvDtC,KAAKiE,UAAY,GAmBdjE,KAAK6B,QAAQrD,IAAI,kBACA,iBAAT8D,EACTtC,KAAK6B,QAAQ+B,IAAI,eAAgB,4BACxB5D,KAAKmE,WAAanE,KAAKmE,UAAUM,KAC1CzE,KAAK6B,QAAQ+B,IAAI,eAAgB5D,KAAKmE,UAAUM,MACvCpE,GAAwBiE,gBAAgB/E,UAAU2E,cAAc5B,IACzEtC,KAAK6B,QAAQ+B,IAAI,eAAgB,qDAKnCvD,IACFL,KAAKkD,KAAO,WACV,IAAIwB,EAAWrC,EAASrC,MACxB,GAAI0E,EACF,OAAOA,EAGT,GAAI1E,KAAKmE,UACP,OAAO3B,QAAQI,QAAQ5C,KAAKmE,WACvB,GAAInE,KAAKwE,iBACd,OAAOhC,QAAQI,QAAQ,IAAItC,KAAK,CAACN,KAAKwE,oBACjC,GAAIxE,KAAKqE,cACd,MAAM,IAAIM,MAAM,wCAEhB,OAAOnC,QAAQI,QAAQ,IAAItC,KAAK,CAACN,KAAKiE,cAI1CjE,KAAK4E,YAAc,WACjB,OAAI5E,KAAKwE,iBACAnC,EAASrC,OAASwC,QAAQI,QAAQ5C,KAAKwE,kBAEvCxE,KAAKkD,OAAO2B,KAAK5B,KAK9BjD,KAAK8E,KAAO,WACV,IA3FoB5B,EAClBP,EACAS,EAyFEsB,EAAWrC,EAASrC,MACxB,GAAI0E,EACF,OAAOA,EAGT,GAAI1E,KAAKmE,UACP,OAjGkBjB,EAiGIlD,KAAKmE,UAhG3BxB,EAAS,IAAIQ,WACbC,EAAUV,EAAgBC,GAC9BA,EAAOoC,WAAW7B,GACXE,EA8FE,GAAIpD,KAAKwE,iBACd,OAAOhC,QAAQI,QA5FrB,SAA+BW,GAI7B,IAHA,IAAIE,EAAO,IAAIC,WAAWH,GACtByB,EAAQ,IAAI/C,MAAMwB,EAAKwB,QAElBtH,EAAI,EAAGA,EAAI8F,EAAKwB,OAAQtH,IAC/BqH,EAAMrH,GAAKqD,OAAOkE,aAAazB,EAAK9F,IAEtC,OAAOqH,EAAMG,KAAK,IAqFSC,CAAsBpF,KAAKwE,mBAC7C,GAAIxE,KAAKqE,cACd,MAAM,IAAIM,MAAM,wCAEhB,OAAOnC,QAAQI,QAAQ5C,KAAKiE,YAI5B5D,IACFL,KAAKqF,SAAW,WACd,OAAOrF,KAAK8E,OAAOD,KAAKS,KAI5BtF,KAAKuF,KAAO,WACV,OAAOvF,KAAK8E,OAAOD,KAAKW,KAAKC,QAGxBzF,KA1MT4B,EAAQrC,UAAUyC,OAAS,SAAS9D,EAAMU,GACxCV,EAAO6C,EAAc7C,GACrBU,EAAQwC,EAAexC,GACvB,IAAI8G,EAAW1F,KAAK8B,IAAI5D,GACxB8B,KAAK8B,IAAI5D,GAAQwH,EAAWA,EAAW,KAAO9G,EAAQA,GAGxDgD,EAAQrC,UAAkB,OAAI,SAASrB,UAC9B8B,KAAK8B,IAAIf,EAAc7C,KAGhC0D,EAAQrC,UAAUf,IAAM,SAASN,GAE/B,OADAA,EAAO6C,EAAc7C,GACd8B,KAAK2F,IAAIzH,GAAQ8B,KAAK8B,IAAI5D,GAAQ,MAG3C0D,EAAQrC,UAAUoG,IAAM,SAASzH,GAC/B,OAAO8B,KAAK8B,IAAItC,eAAeuB,EAAc7C,KAG/C0D,EAAQrC,UAAUqE,IAAM,SAAS1F,EAAMU,GACrCoB,KAAK8B,IAAIf,EAAc7C,IAASkD,EAAexC,IAGjDgD,EAAQrC,UAAUwC,QAAU,SAAS6D,EAAUC,GAC7C,IAAK,IAAI3H,KAAQ8B,KAAK8B,IAChB9B,KAAK8B,IAAItC,eAAetB,IAC1B0H,EAAS9H,KAAK+H,EAAS7F,KAAK8B,IAAI5D,GAAOA,EAAM8B,OAKnD4B,EAAQrC,UAAUuG,KAAO,WACvB,IAAIxE,EAAQ,GAIZ,OAHAtB,KAAK+B,SAAQ,SAASnD,EAAOV,GAC3BoD,EAAMyE,KAAK7H,MAENmD,EAAYC,IAGrBM,EAAQrC,UAAUyG,OAAS,WACzB,IAAI1E,EAAQ,GAIZ,OAHAtB,KAAK+B,SAAQ,SAASnD,GACpB0C,EAAMyE,KAAKnH,MAENyC,EAAYC,IAGrBM,EAAQrC,UAAU0G,QAAU,WAC1B,IAAI3E,EAAQ,GAIZ,OAHAtB,KAAK+B,SAAQ,SAASnD,EAAOV,GAC3BoD,EAAMyE,KAAK,CAAC7H,EAAMU,OAEbyC,EAAYC,IAGjBjB,IACFuB,EAAQrC,UAAUb,OAAO6C,UAAYK,EAAQrC,UAAU0G,SAqJzD,IAAIC,EAAU,CAAC,SAAU,MAAO,OAAQ,UAAW,OAAQ,OAO3D,SAASC,EAAQC,EAAOC,GAEtB,IAPuBC,EACnBC,EAMAjE,GADJ+D,EAAUA,GAAW,IACF/D,KAEnB,GAAI8D,aAAiBD,EAAS,CAC5B,GAAIC,EAAM7D,SACR,MAAM,IAAIrB,UAAU,gBAEtBlB,KAAKwG,IAAMJ,EAAMI,IACjBxG,KAAKyG,YAAcL,EAAMK,YACpBJ,EAAQxE,UACX7B,KAAK6B,QAAU,IAAID,EAAQwE,EAAMvE,UAEnC7B,KAAKsG,OAASF,EAAME,OACpBtG,KAAKlB,KAAOsH,EAAMtH,KAClBkB,KAAK0G,OAASN,EAAMM,OACfpE,GAA2B,MAAnB8D,EAAMpC,YACjB1B,EAAO8D,EAAMpC,UACboC,EAAM7D,UAAW,QAGnBvC,KAAKwG,IAAMxF,OAAOoF,GAYpB,GATApG,KAAKyG,YAAcJ,EAAQI,aAAezG,KAAKyG,aAAe,eAC1DJ,EAAQxE,SAAY7B,KAAK6B,UAC3B7B,KAAK6B,QAAU,IAAID,EAAQyE,EAAQxE,UAErC7B,KAAKsG,QAjCkBA,EAiCOD,EAAQC,QAAUtG,KAAKsG,QAAU,MAhC3DC,EAAUD,EAAOK,cACdT,EAAQrF,QAAQ0F,IAAY,EAAIA,EAAUD,GAgCjDtG,KAAKlB,KAAOuH,EAAQvH,MAAQkB,KAAKlB,MAAQ,KACzCkB,KAAK0G,OAASL,EAAQK,QAAU1G,KAAK0G,OACrC1G,KAAK4G,SAAW,MAEK,QAAhB5G,KAAKsG,QAAoC,SAAhBtG,KAAKsG,SAAsBhE,EACvD,MAAM,IAAIpB,UAAU,6CAEtBlB,KAAK+D,UAAUzB,GAOjB,SAASgD,EAAOhD,GACd,IAAIuE,EAAO,IAAIzC,SAYf,OAXA9B,EACGwE,OACAC,MAAM,KACNhF,SAAQ,SAASiF,GAChB,GAAIA,EAAO,CACT,IAAID,EAAQC,EAAMD,MAAM,KACpB7I,EAAO6I,EAAMtF,QAAQwF,QAAQ,MAAO,KACpCrI,EAAQmI,EAAM5B,KAAK,KAAK8B,QAAQ,MAAO,KAC3CJ,EAAK7E,OAAOkF,mBAAmBhJ,GAAOgJ,mBAAmBtI,QAGxDiI,EAqBT,SAASM,EAASC,EAAUf,GACrBA,IACHA,EAAU,IAGZrG,KAAKyE,KAAO,UACZzE,KAAKqH,YAA4B1F,IAAnB0E,EAAQgB,OAAuB,IAAMhB,EAAQgB,OAC3DrH,KAAKsH,GAAKtH,KAAKqH,QAAU,KAAOrH,KAAKqH,OAAS,IAC9CrH,KAAKuH,WAAa,eAAgBlB,EAAUA,EAAQkB,WAAa,KACjEvH,KAAK6B,QAAU,IAAID,EAAQyE,EAAQxE,SACnC7B,KAAKwG,IAAMH,EAAQG,KAAO,GAC1BxG,KAAK+D,UAAUqD,GAjDjBjB,EAAQ5G,UAAUiI,MAAQ,WACxB,OAAO,IAAIrB,EAAQnG,KAAM,CAACsC,KAAMtC,KAAKgE,aAmCvCF,EAAKhG,KAAKqI,EAAQ5G,WAgBlBuE,EAAKhG,KAAKqJ,EAAS5H,WAEnB4H,EAAS5H,UAAUiI,MAAQ,WACzB,OAAO,IAAIL,EAASnH,KAAKgE,UAAW,CAClCqD,OAAQrH,KAAKqH,OACbE,WAAYvH,KAAKuH,WACjB1F,QAAS,IAAID,EAAQ5B,KAAK6B,SAC1B2E,IAAKxG,KAAKwG,OAIdW,EAASnE,MAAQ,WACf,IAAIyE,EAAW,IAAIN,EAAS,KAAM,CAACE,OAAQ,EAAGE,WAAY,KAE1D,OADAE,EAAShD,KAAO,QACTgD,GAGT,IAAIC,EAAmB,CAAC,IAAK,IAAK,IAAK,IAAK,KAE5CP,EAASQ,SAAW,SAASnB,EAAKa,GAChC,IAA0C,IAAtCK,EAAiB7G,QAAQwG,GAC3B,MAAM,IAAIO,WAAW,uBAGvB,OAAO,IAAIT,EAAS,KAAM,CAACE,OAAQA,EAAQxF,QAAS,CAACgG,SAAUrB,MAGjErJ,EAAQiD,aAAeL,EAAKK,aAC5B,IACE,IAAIjD,EAAQiD,aACZ,MAAO0H,GACP3K,EAAQiD,aAAe,SAAS2H,EAAS7J,GACvC8B,KAAK+H,QAAUA,EACf/H,KAAK9B,KAAOA,EACZ,IAAI8E,EAAQ2B,MAAMoD,GAClB/H,KAAKgI,MAAQhF,EAAMgF,OAErB7K,EAAQiD,aAAab,UAAYlB,OAAOY,OAAO0F,MAAMpF,WACrDpC,EAAQiD,aAAab,UAAU0I,YAAc9K,EAAQiD,aAGvD,SAASD,EAAMiG,EAAO8B,GACpB,OAAO,IAAI1F,SAAQ,SAASI,EAASH,GACnC,IAAI0F,EAAU,IAAIhC,EAAQC,EAAO8B,GAEjC,GAAIC,EAAQzB,QAAUyB,EAAQzB,OAAO0B,QACnC,OAAO3F,EAAO,IAAItF,EAAQiD,aAAa,UAAW,eAGpD,IAAIiI,EAAM,IAAIC,eAEd,SAASC,IACPF,EAAIG,QAGNH,EAAIxF,OAAS,WACX,IAxFgB4F,EAChB5G,EAuFIwE,EAAU,CACZgB,OAAQgB,EAAIhB,OACZE,WAAYc,EAAId,WAChB1F,SA3Fc4G,EA2FQJ,EAAIK,yBAA2B,GA1FvD7G,EAAU,IAAID,EAGQ6G,EAAWxB,QAAQ,eAAgB,KACzCF,MAAM,SAAShF,SAAQ,SAAS4G,GAClD,IAAIC,EAAQD,EAAK5B,MAAM,KACnB7H,EAAM0J,EAAMnH,QAAQqF,OACxB,GAAI5H,EAAK,CACP,IAAIN,EAAQgK,EAAMzD,KAAK,KAAK2B,OAC5BjF,EAAQG,OAAO9C,EAAKN,OAGjBiD,IAgFHwE,EAAQG,IAAM,gBAAiB6B,EAAMA,EAAIQ,YAAcxC,EAAQxE,QAAQrD,IAAI,iBAC3E,IAAI8D,EAAO,aAAc+F,EAAMA,EAAIZ,SAAWY,EAAIS,aAClDlG,EAAQ,IAAIuE,EAAS7E,EAAM+D,KAG7BgC,EAAItF,QAAU,WACZN,EAAO,IAAIvB,UAAU,4BAGvBmH,EAAIU,UAAY,WACdtG,EAAO,IAAIvB,UAAU,4BAGvBmH,EAAIW,QAAU,WACZvG,EAAO,IAAItF,EAAQiD,aAAa,UAAW,gBAG7CiI,EAAIY,KAAKd,EAAQ7B,OAAQ6B,EAAQ3B,KAAK,GAEV,YAAxB2B,EAAQ1B,YACV4B,EAAIa,iBAAkB,EACW,SAAxBf,EAAQ1B,cACjB4B,EAAIa,iBAAkB,GAGpB,iBAAkBb,GAAOhI,IAC3BgI,EAAIc,aAAe,QAGrBhB,EAAQtG,QAAQE,SAAQ,SAASnD,EAAOV,GACtCmK,EAAIe,iBAAiBlL,EAAMU,MAGzBuJ,EAAQzB,SACVyB,EAAQzB,OAAO2C,iBAAiB,QAASd,GAEzCF,EAAIiB,mBAAqB,WAEA,IAAnBjB,EAAIkB,YACNpB,EAAQzB,OAAO8C,oBAAoB,QAASjB,KAKlDF,EAAIoB,UAAkC,IAAtBtB,EAAQnE,UAA4B,KAAOmE,EAAQnE,cAIvE7D,EAAMuJ,UAAW,EAEZ3J,EAAKI,QACRJ,EAAKI,MAAQA,EACbJ,EAAK6B,QAAUA,EACf7B,EAAKoG,QAAUA,EACfpG,EAAKoH,SAAWA,GAGlBhK,EAAQyE,QAAUA,EAClBzE,EAAQgJ,QAAUA,EAClBhJ,EAAQgK,SAAWA,EACnBhK,EAAQgD,MAAQA,EAEhB9B,OAAOC,eAAenB,EAAS,aAAc,CAAEyB,OAAO,IA5gBvC,CAghBf,IAlhBF,CAmhBGqB,GACHA,EAASE,MAAMwJ,UAAW,SAEnB1J,EAASE,MAAMuJ,SAGtB,IAAIE,EAAM3J,GACV9C,EAAUyM,EAAIzJ,OACN0J,QAAUD,EAAIzJ,MACtBhD,EAAQgD,MAAQyJ,EAAIzJ,MACpBhD,EAAQyE,QAAUgI,EAAIhI,QACtBzE,EAAQgJ,QAAUyD,EAAIzD,QACtBhJ,EAAQgK,SAAWyC,EAAIzC,SACvB/J,EAAOD,QAAUA,G,gBCziBjB,MAAM,SACJ2M,EAAQ,UACRC,EAAS,QACTC,EAAO,cACPC,GACE,EAAQ,GACNC,EAAa,EAAQ,GACrBC,EAAc,EAAQ,GAE5B/M,EAAOD,QAAU,CAACyM,EAAKtI,EAAO8I,EAAQ,EAAGC,EAAM/I,EAAM2D,UAC/CoF,EAAM/I,EAAM2D,SAAQoF,EAAM/I,EAAM2D,QACpC,IAAIqF,EAAM,GACV,IAAK,IAAI3M,EAAIyM,EAAOzM,EAAI0M,IAAO1M,EAAG,CAChC,MAAM4M,EAAOjJ,EAAM3D,GACfA,IAAMyM,IAAOE,GAAOC,EAAKpF,MAC7BmF,GAAOE,EAASZ,EAAKW,EAAKE,MACtBF,EAAKG,GAAIJ,GAAO,OAAOJ,EAAWN,EAAKW,EAAKG,IACvCH,EAAKI,QAAOL,GAAO,WAAWK,EAAMf,EAAKW,EAAKI,WAEzD,OAAOL,GAGT,MAKMK,EAAQX,EAAQD,EAAUC,EALf,CAACJ,EAAKgB,KACrB,GAAmB,iBAARA,EAAkB,OAAOA,EACpC,GAAmB,mBAARA,EAAoB,OAAOhB,EAAIiB,MAAMD,GAChD,MAAMjG,MAAM,iCAsBRmG,EAAcb,EAXE,CAACL,EAAK1K,EAAKN,KAC/B,GAAqB,iBAAVA,EAAoB,MAAO,GAAGA,KAASgL,EAAImB,OAAO7L,KAC7D,GAAqB,mBAAVN,EACT,MAAO,GAAGgL,EAAIiB,MAAMjM,MAAUgL,EAAImB,OAAO7L,KAC3C,GAAI+C,MAAMC,QAAQtD,GAAQ,CACxB,MAAM,QAAEoM,EAAO,OAAEhF,GAAWmE,EAAYP,EAAKhL,GAC7C,MAAO,IAAIoH,MAAW4D,EAAImB,OAAO7L,MAAQ8L,KAE3C,MAAMrG,MAAM,mCAIR6F,EAAWT,EAAUC,EAnBX,CAACJ,EAAKgB,KACpB,GAAmB,iBAARA,EAAkB,OAAOA,EACpC,GAAmB,mBAARA,EAAoB,OAAOhB,EAAIiB,MAAMD,GAChD,GAAId,EAASc,GAAM,OAAOE,EAAYlB,EAAKgB,GAC3C,MAAMjG,MAAM,iCAAkCiG,O,gBCjChD,MAAM,QAAEZ,GAAY,EAAQ,GAE5B5M,EAAOD,QAAU,CAACyM,EAAKqB,KACrB,MAAMnF,EAAOoF,EAAWD,GACxB,MAAO,CACLD,QAASA,EAAQpB,EAAK9D,GACtBE,OAAQA,EAAO4D,EAAKqB,EAAOnF,KAK/B,MAAMoF,EAAaD,IACjB,MAAMnF,EAAO,GACb,IAAK,MAAMzG,KAAU4L,EACnB,IAAK,MAAM/L,KAAOG,EAChByG,EAAK5G,IAAO,EAGhB,OAAOb,OAAOyH,KAAKA,IAIfkF,EAAUhB,EAAQ,CAACJ,EAAKgB,IAAQhB,EAAImB,OAAOH,IAG3C5E,EAAS,CAAC4D,EAAKuB,EAAQrF,KAC3B,IAAIwE,EAAM,UACV,IAAK,IAAI3M,EAAI,EAAGA,EAAIwN,EAAOlG,SAAUtH,EAAG,CAC5B,IAANA,IAAS2M,GAAO,MACpBA,GAAO,IACP,MAAMjL,EAAS8L,EAAOxN,GACtB,IAAK,IAAIyN,EAAI,EAAGA,EAAItF,EAAKb,SAAUmG,EACvB,IAANA,IAASd,GAAO,MACpBA,GAAO1L,EAAMgL,EAAKvK,EAAOyG,EAAKsF,KAEhCd,GAAO,IAET,OAAOA,GAGH1L,EAAQ,CAACgL,EAAKgB,SACNjJ,IAARiJ,EAA0B,UACvBhB,EAAIiB,MAAMD,I,gBC1CnB,MAAM,iBACJS,EAAgB,oBAChBC,EAAmB,SACnBxB,EAAQ,QACRE,EAAO,cACPC,GACE,EAAQ,GAUNsB,EAAavB,EAAQ,CAACJ,EAAKgB,IAAQhB,EAAIiB,MAAMD,IAS7CE,EAAcb,EAPE,CAACL,EAAK1K,EAAKN,KAC/B,MAAMV,EAAO0L,EAAImB,OAAO7L,GACxB,OAAc,OAAVN,EAAuB,IAAIV,aAC3B+D,MAAMC,QAAQtD,GAAe,IAAIV,SAAYqN,EAAW3B,EAAKhL,OAC1D,IAAIV,OAAU0L,EAAIiB,MAAMjM,OAGgB,SAjB/B4M,MAkBlBpO,EAAOD,QAAU6M,GAlBCwB,EAkBiBxB,EAblB,CAACJ,EAAKgB,IACrBd,EAASc,GAAOE,EAAYlB,EAAKgB,GAAOhB,EAAIiB,MAAMD,GAYC,SAlBrB,CAAChB,EAAKa,IACpCY,EAAiBZ,GACb,IAAIa,EAAoB1B,EAAKa,MAC7Be,EAAW5B,EAAKa,IAe0C,U,6BCpBhErN,EAAOD,QAAU,SAASsO,EAAMC,EAAGC,GACjC,GAAID,IAAMC,EAAG,OAAO,EAEpB,GAAID,GAAKC,GAAiB,iBAALD,GAA6B,iBAALC,EAAe,CAC1D,GAAID,EAAEzD,cAAgB0D,EAAE1D,YAAa,OAAO,EAE5C,IAAIhD,EAAQtH,EAAGmI,EACf,GAAI7D,MAAMC,QAAQwJ,GAAI,CAEpB,IADAzG,EAASyG,EAAEzG,SACG0G,EAAE1G,OAAQ,OAAO,EAC/B,IAAKtH,EAAIsH,EAAgB,GAARtH,KACf,IAAK8N,EAAMC,EAAE/N,GAAIgO,EAAEhO,IAAK,OAAO,EACjC,OAAO,EAKT,GAAI+N,EAAEzD,cAAgB2D,OAAQ,OAAOF,EAAEP,SAAWQ,EAAER,QAAUO,EAAEG,QAAUF,EAAEE,MAC5E,GAAIH,EAAEI,UAAYzN,OAAOkB,UAAUuM,QAAS,OAAOJ,EAAEI,YAAcH,EAAEG,UACrE,GAAIJ,EAAE5K,WAAazC,OAAOkB,UAAUuB,SAAU,OAAO4K,EAAE5K,aAAe6K,EAAE7K,WAIxE,IADAmE,GADAa,EAAOzH,OAAOyH,KAAK4F,IACLzG,UACC5G,OAAOyH,KAAK6F,GAAG1G,OAAQ,OAAO,EAE7C,IAAKtH,EAAIsH,EAAgB,GAARtH,KACf,IAAKU,OAAOkB,UAAUC,eAAe1B,KAAK6N,EAAG7F,EAAKnI,IAAK,OAAO,EAEhE,IAAKA,EAAIsH,EAAgB,GAARtH,KAAY,CAC3B,IAAIuB,EAAM4G,EAAKnI,GAEf,IAAK8N,EAAMC,EAAExM,GAAMyM,EAAEzM,IAAO,OAAO,EAGrC,OAAO,EAIT,OAAOwM,GAAIA,GAAKC,GAAIA,I,gBC5CtB,MAGMD,EAHO,EAAQ,GAGXK,CAAK,CAAEC,QAFD,EAAQ,MAGxBN,EAAEO,UAAOtK,EACTvE,EAAOD,QAAUuO,G,gBCLjB,MAAM,SACJ5B,EAAQ,UACRC,EAAS,QACTC,EAAO,cACPC,GACE,EAAQ,GAaNa,EAAcb,EALE,CAACL,EAAK1K,EAAKN,IAExB,GAD6B,iBAAVA,EAAqBA,EAAQgL,EAAIiB,MAAMjM,MACzCgL,EAAImB,OAAO7L,MAIrC9B,EAAOD,QAAU6M,EAAQD,EAAUC,EAZlB,CAACJ,EAAKgB,IACF,iBAARA,EAAyBA,EAChCd,EAASc,GAAaE,EAAYlB,EAAKgB,GACpChB,EAAIiB,MAAMD,O,gBCVnB,MAAM,iBAAES,EAAgB,oBAAEC,GAAwB,EAAQ,GAE1DlO,EAAOD,QAAU,CAACyM,EAAKa,KACrB,GAAIY,EAAiBZ,GAAO,OAAOa,EAAoB1B,EAAKa,GAC5D,MAAMG,EAAMH,EAAK,GACjB,GAAmB,iBAARG,EAAkB,OAAOhB,EAAIsC,aAAatB,GACrD,GAAmB,mBAARA,EAAoB,OAAOhB,EAAIiB,MAAMD,GAChD,MAAMjG,MAAM,0C,cCGdvH,EAAOD,QAAU,CACfkO,iBAXuB,EAAEc,KAAalK,MAAMC,QAAQiK,IAAYA,EAAQC,IAYxEd,oBAV0B,CAAC1B,GAAMuC,KAAY1B,MAC7C,IAAIH,EAAM6B,EAAQ,GAClB,IAAK,IAAIxO,EAAI,EAAGA,EAAI8M,EAAKxF,SAAUtH,EACjC2M,GAAOV,EAAIiB,MAAMJ,EAAK9M,IAAMwO,EAAQxO,EAAI,GAE1C,OAAO2M,K,gBCPTlN,EAAOD,QAAU,CACfkP,IAAK,EAAQ,IACbC,OAAQ,EAAQ,IAChBL,KAAM,EAAQ,IACdM,MAAO,EAAQ,IACfC,MAAO,EAAQ,IACfC,OAAQ,EAAQ,IAChBC,MAAO,EAAQ,IACfC,MAAO,EAAQ,IACfC,MAAO,EAAQ,IACfC,OAAQ,EAAQ,IAChBC,IAAK,EAAQ,IACbC,UAAW,EAAQ,IACnBC,OAAQ,EAAQ,IAChBC,OAAQ,EAAQ,IAChBrJ,IAAK,EAAQ,M,igCCff,MAAMsJ,EAAqB,EAAQ,IAC7BC,EAA0B,EAAQ,KAClC,QAAEC,EAAO,UAAEC,GAAc,EAAQ,GAiCvC,SAASxC,EAAMD,GACb,QAAYjJ,IAARiJ,EAAmB,MAAMjG,MAAM,6BACnC,GAAmB,mBAARiG,EAAoB,CAC7B,GAAIA,EAAI0C,OAAQ,CACd,MAAM,KAAE7I,EAAI,KAAEK,GAAS8F,EAAI0C,OAAOtN,MAClC,MAAa,eAATyE,GACS,aAATA,EAD8BK,EAE3B,IAAIA,KAEb,OAAO8F,EAAI5K,MAEb,OAAOA,KAAKuN,gBAAkBvN,KAAKwN,OAAO5C,GAAO5K,KAAKkM,aAAatB,GAGrExN,EAAOD,QAjCa,EAAG6O,aAAc,CAACyB,EAAS,MAC7C,MAAM,MAAEC,EAAK,WAAEC,EAAU,aAAEzB,EAAY,OAAEsB,GAAWxB,EAI9C4B,EAAiB,CAAE1B,eAAcsB,SAAQzC,OADhCqC,EAAQC,GACgCxC,SAGjDtK,EAAI4M,EAAwB,CAAES,iBAAgBD,eAQpD,OALWT,EAAmB,CAAEU,iBAAgBF,QAAOnN,IAAGkN,a,gBC3B5D,MAAMI,EAAmB,EAAQ,IAoD3BC,EAAcvO,IAChB,MAAMwO,EAAQzH,IACV,MAAM0H,EAAK,IAAIvD,IAASsD,EAAM,CAAE7P,KAAM,UAAWuM,OAAMwD,KAAM3H,IAG7D,OAFA0H,EAAG1H,OAASA,EACZjI,OAAO6P,eAAeF,EAAIzO,GACnByO,GAEX,OAAOD,GAILI,EAAiBjI,IACnB,MAAMkI,EAAW,GACjB,IAAK,MAAMlQ,KAAQgI,EAAS,CACxB,MAAM,cAAEmI,EAAa,WAAEC,EAAa,IAAOpI,EAAQhI,GACnDkQ,EAASlQ,GAAQmQ,EAEjB,IAAK,MAAMnP,KAAOoP,EACdF,EAAS,GAAGlQ,KAAQgB,KAASoP,EAAWpP,GAGhD,OAAOkP,GAILG,EAAgBH,GAAY,CAAC9H,EAAQsD,KAEvC,MAAM1D,EAAU,GAChB,UAAkBvE,IAAX2E,EAAsBA,EAASA,EAAO2H,KACzC/H,EAAQH,KAAKO,GAGjB,MAAMkI,EAAU,CAAEC,GAAI,GACtB,IAAK,IAAI9Q,EAAIuI,EAAQjB,OAAS,EAAGtH,GAAK,IAAKA,EAAG,CAC1C,MAAM2I,EAASJ,EAAQvI,GACvByQ,EAAS9H,EAAOpI,MAAM0L,EAAKtD,EAAOmE,KAAM+D,GAE5C,OAAO5E,GAIL8E,EAAoB,EAAGC,aAAYN,gBAAeO,cAAc,CAClEtB,OAAQ,CACJ1O,MAAO,SAAUiQ,GACb,MAAMjF,EAAMyE,EAAcrO,KAAKsG,OAAQqI,EAAWE,IAClD,OAAOD,EAAQhF,EAAInF,MAAMmF,KAGjC8D,MAAO,CACHlP,IAAK,WACD,OAAOwB,KAAKsN,WAGpBC,gBAAiB,CACb/O,IAAK,WACD,OAAOwB,KAAKsN,OAAO,CAAEC,iBAAiB,IAAQzI,SAMpDgK,EAAmB,EAAG5I,UAAS6H,YACjC,MAAMO,EAAa,GACnB,IAAK,MAAMpQ,KAAQgI,EAAS,CACxB,MAAM,OAAE/H,GAAW+H,EAAQhI,GAGvBoQ,EAAWpQ,GAFXC,EAEmB,CACfK,IAAK,WACD,OAAOuP,EAAM,CAAE7P,OAAM+P,KAAMjO,KAAKsG,WAKrB,CACf1H,MAAO,YAAa6L,GAChB,OAAOsD,EAAM,CAAE7P,OAAMuM,OAAMwD,KAAMjO,KAAKsG,WAKtD,OAAOgI,GAGXlR,EAAOD,QAvIoB,EAAGyQ,iBAAgBF,QAAOnN,IAAGkN,aACpD,MAAM,QAAEmB,EAAO,QAAE1I,EAAO,WAAEoI,GAAeZ,EACnCiB,EAAad,EAAiBD,GAC9BQ,EAAWD,EAAejI,GAC1BmI,EAAgBE,EAAcH,GACpCA,EAASW,OAAS,CAACnF,EAAKa,KACpB,MAAMuE,EAAM/M,MAAMC,QAAQuI,EAAK,IAAMA,EAAK,GAAKA,EAC/C,IAAK,IAAI9M,EAAI,EAAGA,EAAIqR,EAAI/J,SAAUtH,EAC9B0Q,EAAcW,EAAIrR,GAAG2I,OAAQsD,IAGrC,MAAMqF,EAAU,OACVlB,EAAQD,EAAYmB,GAEpBC,EAAoB,CACtBC,IAAK,CACDvQ,MAAOwQ,iBAEH,aADkB3B,EAAO4B,YAAYrP,KAAK0N,MAAOD,EAAO6B,UAAW7B,EAAO8B,6BAIlFC,IAAK,CACD5Q,MAAOwQ,iBAEH,aADkB3B,EAAOgC,YAAYzP,KAAK0N,MAAOD,EAAO6B,UAAW7B,EAAO8B,6BAIlFG,WAAY,CACRlR,IAAK,WACD,OAAOiP,EAAO6B,aAMpBK,EAAoBb,EAAiB,CAAE5I,UAAS6H,UAYtD,cAXO4B,EAAkB1D,KAEzB5N,OAAOuR,iBAAiBX,EAAS,IAC1BP,EAAkB,CAAEX,QAAOY,aAAYN,gBAAeO,eACtDe,KACAT,KACAZ,EACH/N,EAAG,CACC3B,MAAO2B,KAGRwN,M,cCLX3Q,EAAOD,QA1CkByQ,IACrB,MAAM,aAAE1B,EAAY,OAAEsB,EAAM,OAAEzC,EAAM,MAAEF,GAAU+C,EAEhD,MAAO,CAACiC,EAAU,MACd,MAAM,OAAEC,EAAS,GAAE,gBAAEvC,GAAkB,GAAUsC,EAE3CE,EAAM,GACZ,MAAO,CAEH7D,eACAsB,SACAzC,SACAF,QAGAiF,SACAvC,kBAGA9I,KAAM,SAENuL,OAAQD,EACR5K,UAAMxD,EACNsO,UAAW,IACXC,IAAK,GACLC,IAAK,GACLC,IAAK,GACLL,MACAM,IAAK,GACLC,IAAK,GACL5D,MAAO,GACP6D,IAAK,GACLC,KAAM,GACN5M,IAAK,O,gBClCjB,MAAM6M,EAA2B,EAAQ,KACnC,UAAEpD,GAAc,EAAQ,GAExBqD,EAAcC,GAAQC,GAAe,GAAGD,KAAMtD,EAAUuD,MAE9DxT,EAAOD,QAAU,EAAGyQ,iBAAgBD,iBAClC,MAAM,YAAEkD,GAAgBlD,EAClBgB,EAAad,EAAiBD,GAC9BkD,EAAUL,EAAyBI,GACnC5B,EAAU,OACVlB,EAAQD,EAAYmB,GAC1B5Q,OAAOuR,iBAAiBX,EAAS,IAC5BP,EAAkB,CAAEoC,UAASnC,kBAC7BG,EAAiB,CAAE+B,cAAa9C,YAErC,MAAMoC,EAAMpC,IAMZ,OALAoC,EAAIY,IAAML,EAAW,OACrBP,EAAIa,IAAMN,EAAW,OACrBP,EAAIc,IAAMP,EAAW,OACrBP,EAAIe,MAAQR,EAAW,SACvBP,EAAIgB,IAAMT,EAAW,OACdP,GAGT,MAAMzB,EAAoB,EAAGoC,UAASnC,iBAAiB,CACrDrB,OAAQ,CACN1O,MAAO,SAASiR,GACd,OAAOiB,EAAQnC,EAAWkB,GAAU7P,KAAKoR,WAG7C1D,MAAO,CACLlP,IAAK,WACH,OAAOwB,KAAKsN,WAGhBC,gBAAiB,CACf/O,IAAK,WACH,OAAOwB,KAAKsN,OAAO,CAAEC,iBAAiB,IAAQzI,SAK9C+I,EAAmBD,IACvB,MAAM,MAAE/C,EAAK,aAAEqB,EAAY,OAAEsB,EAAM,OAAEzC,GAAW6C,EAChD,OAAOiC,IACL,MAAM,OAAEC,EAAS,GAAE,gBAAEvC,GAAkB,GAAUsC,GAAW,GAC5D,MAAO,CAELhF,QACAqB,eACAsB,SACAzC,SAGA+E,SACAvC,qBAKAO,EAAcvO,IAClB,MAAMwO,EAAQqD,IACZ,MAAMpD,EAAK,IAAIvD,IAASsD,EAAM,CAAEE,KAAMmD,EAAS3G,SAG/C,OAFAuD,EAAGoD,QAAUA,EACb/S,OAAO6P,eAAeF,EAAIzO,GACnByO,GAET,OAAOD,GAGHe,EAAmB,EAAG+B,cAAa9C,YACvC,MAAMO,EAAa,GACnB,IAAK,MAAMpQ,KAAQ2S,EACjBvC,EAAWpQ,GAAQ,CACjBM,IAAK,WACH,OAAOuP,EAAM,CAAEE,KAAMjO,KAAKoR,QAASlT,WAIzC,OAAOoQ,I,gBC/ET,MAAM,iBAAEjD,GAAqB,EAAQ,GAkB/BgG,EAAaD,IAEjB,MAAME,EAAQ,GACd,KAAOF,EAASA,EAAUA,EAAQnD,KAAMqD,EAAMvL,KAAKqL,GACnD,GAAqB,IAAjBE,EAAMrM,OAAc,MAAMN,MAAM,2BAGpC,IAAIgJ,EAAa,CAAEzP,KAAM,MAAOuM,KAAM,IACtC,MAAMoG,EAAc,CAAClD,GACf4D,EAAOD,EAAMrM,OAAS,EAC5B,IAAK,IAAItH,EAAI4T,EAAM5T,GAAK,IAAKA,EAAG,CAC9B,MAAM,KAAEO,EAAI,KAAEuM,GAAS6G,EAAM3T,GACzBA,IAAM4T,EACJrT,EAAMyP,EAAWzP,KAAOA,EACvBsT,EAAS7D,EAAWlD,KAAMA,GAE3BvM,EAAM2S,EAAY9K,KAAM4H,EAAa,CAAEzP,OAAMuM,KAAM,MAAC9I,KACnD6P,EAAS7D,EAAWlD,KAAMA,GAGnC,OAAOoG,GAGHW,EAAW,CAACvG,EAAOR,KACvB,GAAIY,EAAiBZ,GACnBQ,EAAMlF,KAAK,CAAE0L,IAAKhH,QACb,CACL,GAAoB,IAAhBA,EAAKxF,OACP,MAAMN,MAAM,yDACd,IAAK,IAAIhH,EAAI,EAAGA,EAAI8M,EAAKxF,SAAUtH,EACjCsN,EAAMlF,KAAK,CAAE6E,IAAKH,EAAK9M,OAKvB+T,EAAsBC,GAAmB,CAAC/H,EAAK0H,KACnD,IAAIM,EACJ,IAAK,IAAIjU,EAAI,EAAGA,EAAI2T,EAAMrM,SAAUtH,EAAG,CACrC,MAAM,KAAEO,EAAI,KAAEuM,GAAS6G,EAAM3T,IACvB,MAAEkN,EAAK,QAAEgH,EAAO,QAAEC,GAAYH,EAAgBzT,GAC1C,IAANP,IAAS8M,EAAK,GAAK,CAAEmH,QACzB,MAAMG,EAAUtH,EAAKxF,OACrB,GAAI8M,EAAUF,EACZ,MAAMlN,MAAM,UAAUzG,uBAA0B2T,eAClD,GAAIE,EAAUD,EACZ,MAAMnN,MAAM,UAAUzG,qBAAwB4T,eAChDF,EAAM/G,EAAMjB,EAAKa,GAEnB,OAAOmH,GAGTxU,EAAOD,QAnE0BwU,IAC/B,MAAMK,EAAgBN,EAAoBC,GAC1C,MAAO,CAAC/H,EAAKwH,KACX,MAAME,EAAQD,EAAWD,GAEzB,MAAO,CACLtM,KAFWkN,EAAcpI,EAAK0H,GAG9B7G,KAAMb,EAAIkG,OACVrL,KAAM,iB,gBCVZ,MAAM,iBAAE4G,EAAgB,oBAAEC,GAAwB,EAAQ,GAyC1DlO,EAAOD,QAAU,CACf2M,SAxCec,GAAOA,GAAOA,EAAI3C,YAAY1I,YAAclB,OAAOkB,UAyClEwK,UAvCgByB,GAAc,CAAC5B,EAAKa,IACpCY,EAAiBZ,GACba,EAAoB1B,EAAKa,GACzBe,EAAW5B,EAAKa,GAqCpBT,QAnCc,CAACwB,EAAYyE,EAAY,OAAS,CAACrG,EAAKa,KACtD,IAAIH,EAAM,GACV,IAAK,IAAI3M,EAAI,EAAGA,EAAI8M,EAAKxF,SAAUtH,EACvB,IAANA,IAAS2M,GAAO2F,GACpB3F,GAAOkB,EAAW5B,EAAKa,EAAK9M,IAE9B,OAAO2M,GA8BP2H,YA3BkB,CAACzG,EAAYyE,EAAY,KAAMhH,EAAO,IAAKiJ,EAAQ,MAAQ,CAC7EtI,EACAa,KAEA,IAAIH,EAAMrB,EACV,IAAK,IAAItL,EAAI,EAAGA,EAAI8M,EAAKxF,SAAUtH,EACvB,IAANA,IAAS2M,GAAO2F,GACpB3F,GAAOkB,EAAW5B,EAAKa,EAAK9M,IAE9B,OAAO2M,EAAM4H,GAmBbjI,cAhBoB,CAACuB,EAAYyE,EAAY,OAAS,CAACrG,EAAKvK,KAC5D,IAAIiL,EAAM,GACV,MAAMxE,EAAOzH,OAAOyH,KAAKzG,GACzB,IAAK,IAAI1B,EAAI,EAAGA,EAAImI,EAAKb,SAAUtH,EAAG,CAC1B,IAANA,IAAS2M,GAAO2F,GACpB,MAAM/Q,EAAM4G,EAAKnI,GACjB2M,GAAOkB,EAAW5B,EAAK1K,EAAKG,EAAOH,IAErC,OAAOoL,K,cC9BTlN,EAAOD,QAAU,CACfiQ,QARcY,IACd,MAAMmE,EAAQ,GACd,OAAOjT,GAAOiT,EAAMjT,KAASiT,EAAMjT,GAAO8O,EAAG9O,KAO7CmO,UAJgB+E,IAAyC,IAA5BA,EAAUvR,QAAQ,KAAcuR,EAAUjR,cAAc2F,OAAOG,QAAQ,KAAM,KAAOmL,I,gBCNnH,MAAM1E,EAAQ,EAAQ,IAChBC,EAAa,EAAQ,KACrB,aAAEzB,EAAY,OAAEsB,GAAW,EAAQ,IAEzCpQ,EAAOD,QAAU,CACfuQ,QACAC,aACAzB,eACAsB,W,gBCRF,MAAM,QAAEtH,EAAO,QAAE0I,EAAO,MAAElB,EAAK,QAAE2E,EAAO,OAAEC,GAAW,EAAQ,KAEvD,UAAEC,EAAS,YAAE1B,GAAgByB,GAC7B,IACJjG,EAAG,KACHJ,EAAI,MACJM,EAAK,MACLC,EAAK,OACLC,EAAM,MACNC,EAAK,MACLC,EAAK,MACLC,EAAK,OACLC,EAAM,UACNE,EAAS,IACTnJ,GACEyO,EA+CJjV,EAAOD,QAAU,CACf+I,QAAS,IAAKA,EA7CdsM,WAAY,CACVnE,cAAe,CAACzE,EAAKa,KACfb,EAAI6I,SACN7I,EAAI6I,SAAS1M,KAAK0E,GAElBb,EAAI6I,SAAW,CAAChI,MAyCtBmE,QAAS,IACJA,EACHtC,OAAQoB,EACNrB,EArCSzC,IACb,IAAIU,EAAM,UAQV,OAPIV,EAAI6I,WACNnI,GAAO,YACHV,EAAI6I,SAASxN,SACfqF,GAAO,OAAOuG,EAAYjH,EAAKA,EAAI6I,gBAGvCnI,GAAOuG,EAAYjH,EAAKA,EAAIuG,MAAQ,IAC7B7F,GA8BH2B,EACAM,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,GAEF6F,OAAQhF,EAAMrB,EAnCNzC,IACV,MAAMU,EAAMiI,EAAU3I,EAAKA,EAAIwG,IAAK,EAAG,GACvC,OAAO9F,GAAO,eAAeA,GAEjBV,IACZ,MAAMU,EAAMiI,EAAU3I,EAAKA,EAAIwG,IAAK,GACpC,OAAO9F,GAAO,SAASA,GA6BUiC,EAAOQ,GACtCE,OAAQS,EAAMrB,EA1BHzC,IACb,MAAMU,EAAMiI,EAAU3I,EAAKA,EAAIwG,IAAK,EAAG,GACvC,OAAO9F,GAAO,UAAUA,GAwBK1G,EAtBZgG,IACjB,MAAMU,EAAMiI,EAAU3I,EAAKA,EAAIwG,IAAK,GACpC,OAAO9F,GAAO,QAAQA,GAoBwBiC,EAAOQ,IAErDuB,WAAY,CACVqE,OAAQ,CACN/T,MAAO,IAAI6L,KACF,CACLhG,KAAM,SACNgG,UAINmI,KAAM,CACJhU,MAAO,IAAI6L,KACF,CACLhG,KAAM,OACNgG,UAINoI,aAAc,CACZjU,MAAO,IAAI6L,KACF,CACLhG,KAAM,gBACNgG,a,gBCtGV,MAAMvE,EAAU,EAAQ,KAClB,MAAEwH,EAAK,QAAEkB,GAAY,EAAQ,IAC7ByD,EAAU,EAAQ,IAClBC,EAAS,EAAQ,IAEvBlV,EAAOD,QAAU,CACf+I,UACAwH,QACAkB,UACAyD,UACAC,W,gBCVF,MAAM,UAAEjF,GAAc,EAAQ,GAGxBnH,EAAU,CACZsK,KAAM,CACFnC,cAAe,CAACzE,EAAKa,KACjBb,EAAI4G,KAAKzK,KAAK0E,KAGtBqI,cAAe,CACXzE,cAAe,CAACzE,EAAKa,KACjBb,EAAImJ,WAAY,EAChBnJ,EAAI4G,KAAKzK,KAAK0E,KAGtBwB,KAAM,CACFoC,cAAe,CAACzE,EAAKa,KACjBb,EAAIwG,IAAIrK,KAAK,CAAE0E,OAAMtF,KAAM,SAGnCoH,MAAO,CACH8B,cAAe,CAACzE,EAAKa,KACjBb,EAAImG,IAAIhK,KAAK0E,GACbb,EAAIoG,OAASpG,EAAImG,MAGzBiD,OAAQ,CACJ3E,cAAe,CAACzE,EAAKa,KACjBb,EAAIuG,IAAIpK,KAAK9D,MAAMC,QAAQuI,GAAQA,EAAK3I,IAAIuL,GAAa5C,KAGjEgI,SAAU,CACNtU,QAAQ,EACRkQ,cAAezE,IACXA,EAAI6I,SAAW,KAGvBQ,QAAS,CACL5E,cAAe,CAACzE,EAAKa,KACjBb,EAAIyG,IAAItK,KAAK0E,KAGrBgC,OAAQ,CACJ4B,cAAe,CAACzE,EAAKa,KACjBb,EAAI0G,IAAIvK,KAAK0E,GACbb,EAAIoG,OAASpG,EAAI0G,MAGzB4C,MAAO,CACH7E,cAAe,CAACzE,EAAKa,KACjBb,EAAI8C,MAAM3G,KAAK,CAAEtB,KAAM,QAASgG,WAGxC0I,SAAU,CACN9E,cAAe,CAACzE,EAAKa,KACjBb,EAAI8C,MAAM3G,KAAK,CAAEtB,KAAM,YAAagG,WAG5C2I,UAAW,CACP/E,cAAe,CAACzE,EAAKa,KACjBb,EAAI8C,MAAM3G,KAAK,CAAEtB,KAAM,YAAagG,WAG5C4I,aAAc,CACVhF,cAAe,CAACzE,EAAKa,KACjBb,EAAI8C,MAAM3G,KAAK,CAAEtB,KAAM,gBAAiBgG,WAGhD6I,OAAQ,CACJjF,cAAe,CAACzE,EAAKa,KACjBb,EAAI8C,MAAM3G,KAAK,CAAEtB,KAAM,SAAUgG,WAGzC8I,UAAW,CACPlF,cAAe,CAACzE,EAAKa,KACjBb,EAAI8C,MAAM3G,KAAK,CAAEtB,KAAM,aAAcgG,WAG7C+I,QAAS,CACLnF,cAAe,CAACzE,EAAKa,KACjBb,EAAI2G,IAAIxK,KAAK0E,KAGrBmC,MAAO,CACHyB,cAAe,CAACzE,EAAKa,KACjBb,EAAIgD,MAAQnC,IAGpBoC,OAAQ,CACJwB,cAAe,CAACzE,EAAKa,KACjBb,EAAIiD,OAASpC,IAGrBtF,KAAM,CACFkJ,cAAe,CAACzE,EAAKa,KACjBb,EAAIwG,IAAIrK,KAAM6D,EAAIzE,KAAO,CAAEsF,OAAMtF,KAAM,aAG/CsO,SAAU,CACNpF,cAAe,CAACzE,EAAKa,KACjBb,EAAIwG,IAAIrK,KAAM6D,EAAIzE,KAAO,CAAEsF,OAAMtF,KAAM,kBAG/CuO,UAAW,CACPrF,cAAe,CAACzE,EAAKa,KACjBb,EAAIwG,IAAIrK,KAAM6D,EAAIzE,KAAO,CAAEsF,OAAMtF,KAAM,mBAG/CwO,SAAU,CACNtF,cAAe,CAACzE,EAAKa,KACjBb,EAAIwG,IAAIrK,KAAM6D,EAAIzE,KAAO,CAAEsF,OAAMtF,KAAM,kBAG/CyO,UAAW,CACPvF,cAAe,CAACzE,EAAKa,KACjBb,EAAIwG,IAAIrK,KAAM6D,EAAIzE,KAAO,CAAEsF,OAAMtF,KAAM,mBAG/C0O,YAAa,CACTxF,cAAe,CAACzE,EAAKa,KACjBb,EAAIwG,IAAIrK,KAAM6D,EAAIzE,KAAO,CAAEsF,OAAMtF,KAAM,qBAG/C2O,gBAAiB,CACbzF,cAAe,CAACzE,EAAKa,KACjBb,EAAIwG,IAAIrK,KAAM6D,EAAIzE,KAAO,CAAEsF,OAAMtF,KAAM,0BAG/C4O,iBAAkB,CACd1F,cAAe,CAACzE,EAAKa,KACjBb,EAAIwG,IAAIrK,KAAM6D,EAAIzE,KAAO,CAAEsF,OAAMtF,KAAM,2BAG/C6O,gBAAiB,CACb3F,cAAe,CAACzE,EAAKa,KACjBb,EAAIwG,IAAIrK,KAAM6D,EAAIzE,KAAO,CAAEsF,OAAMtF,KAAM,0BAG/CuF,GAAI,CACA2D,cAAe,CAACzE,EAAKa,KACjB,MAAM,KAAEtF,GAASyE,EACbzE,EAAKuF,GACLvF,EAAKuF,GAAG3E,KAAK0E,GAEbb,EAAIoG,OAAS7K,EAAKuF,GAAK,CAACD,KAIpCE,MAAO,CACH0D,cAAe,CAACzE,EAAKa,KACjB,MAAM,KAAEtF,GAASyE,EACbzE,EAAKwF,MACLxF,EAAKwF,MAAM5E,KAAK0E,GAEhBtF,EAAKwF,MAAQ,CAACF,KAI1BiI,OAAQ,CAEJrE,cAAezE,IACXA,EAAInF,KAAO,WAGnBuI,OAAQ,CACJqB,cAAe,CAACzE,EAAKa,KACjBb,EAAInF,KAAO,SACXmF,EAAIoD,OAASvC,IAGrB7G,IAAK,CACDyK,cAAe,CAACzE,EAAKa,KACjBb,EAAInF,KAAO,SACXmF,EAAIhG,IAAImC,KAAK0E,KAGrB+D,QAAS,CACLH,cAAe,CAACzE,EAAKa,EAAMyG,KACvB,GAAiB,IAAbA,EAAMzC,GACNyC,EAAMzC,KACN7E,EAAIwG,IAAIrK,KAAM6D,EAAIzE,KAAO,CAAEV,KAAM,OAAQgG,OAAMtF,KAAM,YAClD,GAAiB,IAAb+L,EAAMzC,GACbyC,EAAMzC,KACN7E,EAAImG,IAAIhK,KAAK0E,OACV,IAAiB,IAAbyG,EAAMzC,GAGV,MAAM9J,MAAM,wBAFfuM,EAAMzC,KACN7E,EAAIuG,IAAIpK,KAAK0E,OAM7BrN,EAAOD,QAAU+I,G,gBChMjB,MAAM,IACFmG,EAAG,OACHC,EAAM,KACNL,EAAI,MACJM,EAAK,MACLC,EAAK,OACLC,EAAM,MACNC,EAAK,MACLC,EAAK,MACLC,EAAK,OACLC,EAAM,IACNC,EAAG,UACHC,EAAS,OACTC,EAAM,OACNC,EAAM,IACNrJ,GACA,EAAQ,IAEN8J,EAAQ,IAAI2E,IAAYzI,IAC1B,IAAI9E,EAAO,GACX,IAAK,MAAMmP,KAAU5B,EAAS,CAC1B,MAAM6B,EAAMD,GAAUA,EAAOrK,GACzBsK,IACIpP,IAAMA,GAAQ8E,EAAIqG,WACtBnL,GAAQoP,GAGhB,MAAO,CAAEpP,OAAM2F,KAAMb,EAAIkG,OAAQrL,KAAMmF,EAAIuK,UAAYvK,EAAInF,OAGzDmK,EAAU,CACZtC,OAAQoB,EACJrB,EACAC,EACAL,EACAM,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,GAEJI,OAAQS,EAAMrB,EAAKY,EAAQrJ,EAAK2I,EAAOQ,GACvC2F,OAAQhF,EAAMrB,EAAKS,EAAKP,EAAOQ,GAC/BC,OAAQU,EAAMrB,EAAKW,EAAQD,IAG/B3P,EAAOD,QAAU,CAAEuQ,QAAOkB,Y,gBChD1B,MAAM,SACJ9E,EAAQ,UACRC,EAAS,QACTC,EAAO,cACPC,GACE,EAAQ,GACNE,EAAc,EAAQ,GAE5B/M,EAAOD,QAAUyM,IACf,GAAwB,IAApBA,EAAI4G,KAAKvL,OAAc,OAC3B,MAAMqF,EAAMgH,EAAM1H,EAAKA,EAAI4G,MAC3B,OAAOlG,GAAO,QAAQV,EAAImJ,UAAY,aAAe,KAAKzI,KAG5D,MAgBMQ,EAAcb,EAXE,CAACL,EAAK1K,EAAKN,KAC/B,GAAqB,mBAAVA,EACT,MAAO,GAAGgL,EAAImB,OAAO7L,MAAQ0K,EAAIiB,MAAMjM,KAEzC,GAAIqD,MAAMC,QAAQtD,GAAQ,CACxB,MAAM,QAAEoM,EAAO,OAAEhF,GAAWmE,EAAYP,EAAKhL,GAC7C,MAAO,GAAGgL,EAAImB,OAAO7L,MAAQ8L,OAAahF,KAE5C,MAAMrB,MAAM,mCAIR2M,EAAQtH,EAAQD,EAAUC,EAjBf,CAACJ,EAAKgB,KACrB,GAAId,EAASc,GAAM,OAAOE,EAAYlB,EAAKgB,GAC3C,MAAMjG,MAAM,yBAA0BiG,Q,gBChBxC,MAAMiG,EAAc,EAAQ,GAE5BzT,EAAOD,QAAUyM,GACf,UAAUwK,EAAcxK,KAAOiH,EAAYjH,EAAKA,EAAIuG,MAAQ,MAE9D,MAAMiE,EAAgBxK,GACpBA,EAAI6I,SACA7I,EAAI6I,SAASxN,OAEX,gBAAgB4L,EAAYjH,EAAKA,EAAI6I,aACrC,WACF,I,gBCXN,MAAMF,EAAY,EAAQ,GAE1BnV,EAAOD,QAAUyM,IACf,MAAMU,EAAMiI,EAAU3I,EAAKA,EAAIwG,KAC/B,OAAO9F,GAAO,QAAQA,I,gBCJxB,MAAMJ,EAAa,EAAQ,GAE3B9M,EAAOD,QAAUyM,IACf,GAAuB,IAAnBA,EAAImG,IAAI9K,OAAc,OAC1B,MAAMqF,EAAMJ,EAAWN,EAAKA,EAAImG,KAChC,OAAOzF,GAAO,SAAWA,I,gBCL3B,MAAM,SAAER,EAAQ,UAAEC,EAAS,QAAEC,EAAO,YAAEiI,GAAgB,EAAQ,GAE9D7U,EAAOD,QAAUyM,IACf,GAAuB,IAAnBA,EAAIyG,IAAIpL,OAAc,OAC1B,MAAMqF,EAAMgH,EAAM1H,EAAKA,EAAIyG,KAC3B,OAAO/F,GAAO,YAAYA,GAG5B,MAAM+J,EAAW,CAACzK,EAAKgB,KACrB,GAAmB,iBAARA,EAAkB,OAAOA,EACpC,GAAmB,mBAARA,EAAoB,OAAOhB,EAAIiB,MAAMD,GAChD,GAAI3I,MAAMC,QAAQ0I,GAAM,OAAO0J,EAAc1K,EAAKgB,GAClD,GAAId,EAASc,GAAM,OAAOE,EAAYlB,EAAKgB,GAC3C,MAAMjG,MAAM,6BAA8BiG,IAGtC0J,EAAgBrC,EAAYoC,GAI5BE,EAAuB,CAAC3K,EAAKgB,KACjC,GAAmB,iBAARA,EAAkB,OAAOA,EACpC,GAAmB,mBAARA,EAAoB,OAAOhB,EAAIiB,MAAMD,GAChD,GAAI3I,MAAMC,QAAQ0I,GAAM,OAAO4J,EAA0B5K,EAAKgB,GAC9D,MAAMjG,MAAM,iCAKR6P,EAA4BvC,EAAYsC,GAGxCzJ,EAAc,CAAClB,EAAKhJ,KACxB,MAAM,KAAE6D,EAAI,KAAEgG,GAAS7J,EACvB,GAAa,WAAT6D,EACF,MAAO,UAAU8P,EAAqB3K,EAAKa,GAE7C,GAAa,SAAThG,EACF,MAAO,QAAQ8P,EAAqB3K,EAAKa,GAE3C,GAAa,kBAAThG,EACF,MAAO,iBAAiB4P,EAASzK,EAAKa,GAExC,MAAM9F,MAAM,8BAGR2M,EAAQtH,EAAQD,EAAUC,EAAQqK,M,gBC9CxC,MAAMnK,EAAa,EAAQ,GAE3B9M,EAAOD,QAAUyM,IACf,GAAuB,IAAnBA,EAAI0G,IAAIrL,OAAc,OAC1B,MAAMqF,EAAMJ,EAAWN,EAAKA,EAAI0G,KAChC,OAAOhG,GAAO,UAAYA,I,cCL5BlN,EAAOD,QAAUyM,IACf,GAAyB,IAArBA,EAAI8C,MAAMzH,OAAc,OAC5B,IAAIqF,EAAM,GACNmK,GAAQ,EACZ,MAAM,MAAE/H,GAAU9C,EAClB,IAAK,IAAIjM,EAAI,EAAGA,EAAI+O,EAAMzH,SAAUtH,EAAG,CACrC,MAAM,KAAE8G,EAAI,KAAEgG,GAASb,EAAI8C,MAAM/O,GACjC,IAAK,IAAIyN,EAAI,EAAGA,EAAIX,EAAKxF,SAAUmG,EAC5BqJ,EAGHA,GAAQ,EAFRnK,GAAO,IAITA,GAAO,GAAG7F,KAAQmF,EAAIiB,MAAMJ,EAAKW,MAGrC,OAAOd,I,gBChBT,MAAM,SAAER,EAAQ,UAAEC,EAAS,QAAEC,GAAY,EAAQ,GAEjD5M,EAAOD,QAAUyM,IACf,GAAuB,IAAnBA,EAAI2G,IAAItL,OAAc,OAC1B,MAAMqF,EAAMgH,EAAM1H,EAAKA,EAAI2G,KAC3B,OAAOjG,GAAO,YAAYA,GAG5B,MAOMQ,EAAc,CAAClB,EAAKhJ,KACxB,IAAI0J,EAAM,GACV,MAAM,GAAEoK,EAAE,KAAEC,EAAI,MAAEhK,EAAK,MAAEiK,GAAUhU,EAEnC,GAAkB,iBAAP8T,EAAiBpK,GAAOoK,MAC9B,IAAkB,mBAAPA,EACX,MAAM/P,MAAM,kCADkB2F,GAAOV,EAAIiB,MAAM6J,GAGpD,GAAIC,EACF,GAAa,SAATA,EAAiBrK,GAAO,aACvB,GAAa,QAATqK,EAAgBrK,GAAO,WAC3B,IAAoB,iBAATqK,EACX,MAAMhQ,MAAM,oCADkB2F,GAAO,UAAUqK,OAE/C,GAAIhK,EAAO,CAChB,GAAqB,iBAAVA,EACN,MAAMhG,MAAM,qCADc2F,GAAO,UAAUK,EAIlD,QAAchJ,IAAViT,QACC,GAAc,SAAVA,EAAkBtK,GAAO,kBAC7B,IAAc,UAAVsK,EACJ,MAAMjQ,MAAM,qCADW2F,GAAO,eAGnC,OAAOA,GAGHgH,EAAQtH,EAAQD,EAAUC,EAjCf,CAACJ,EAAKgB,KACrB,GAAmB,iBAARA,EAAkB,OAAOA,EACpC,GAAmB,mBAARA,EAAoB,OAAOhB,EAAIiB,MAAMD,GAChD,GAAId,EAASc,GAAM,OAAOE,EAAYlB,EAAKgB,GAC3C,MAAMjG,MAAM,6BAA8BiG,Q,gBCZ5C,MAAMiK,EAAc,EAAQ,GAE5BzX,EAAOD,QAAUyM,GAAOA,EAAIgD,OAAS,SAASiI,EAAYjL,EAAKA,EAAIgD,Q,gBCFnE,MAAMiI,EAAc,EAAQ,GAE5BzX,EAAOD,QAAUyM,GAAOA,EAAIiD,QAAU,UAAUgI,EAAYjL,EAAKA,EAAIiD,S,gBCFrE,MAAM0F,EAAY,EAAQ,GAE1BnV,EAAOD,QAAUyM,IACf,MAAMU,EAAMiI,EAAU3I,EAAKA,EAAIwG,KAC/B,OAAO9F,GAAO,eAAeA,I,gBCJ/B,MAAMuG,EAAc,EAAQ,GAE5BzT,EAAOD,QAAUyM,IACf,IAAKA,EAAIuG,IAAK,OACd,MAAM7F,EAAMuG,EAAYjH,EAAKA,EAAIuG,KACjC,OAAO7F,GAAO,aAAaA,I,gBCL7B,MAAM,iBAAEe,EAAgB,oBAAEC,GAAwB,EAAQ,GACpDiH,EAAY,EAAQ,GACpBpI,EAAc,EAAQ,GAE5B/M,EAAOD,QAAUyM,GAGR,eAFO2I,EAAU3I,EAAKA,EAAIwG,OAClBrG,EAAUH,EAAKA,EAAIoD,UAIpC,MAAMjD,EAAY,CAACH,EAAKa,IAClBY,EAAiBZ,GAAc,IAAMa,EAAoB1B,EAAKa,GAC9C,IAAhBA,EAAKxF,aAA4BtD,IAAZ8I,EAAK,GAAyB,kBACnDxI,MAAMC,QAAQuI,EAAK,IAAYqK,EAAiBlL,EAAKa,EAAK,IACvC,mBAAZA,EAAK,GAA0B,IAAMb,EAAIiB,MAAMJ,EAAK,IACxDqK,EAAiBlL,EAAKa,GAGzBqK,EAAmB,CAAClL,EAAKqB,KAC7B,MAAM,OAAEjF,EAAM,QAAEgF,GAAYb,EAAYP,EAAKqB,GAC7C,MAAO,IAAID,MAAYhF,M,gBCpBzB,MAAMuM,EAAY,EAAQ,GAE1BnV,EAAOD,QAAUyM,IACf,MAAMU,EAAMiI,EAAU3I,EAAKA,EAAIwG,KAC/B,OAAO9F,GAAO,UAAUA,I,gBCJ1B,MAAM,UAAEP,EAAS,QAAEC,EAAO,cAAEC,GAAkB,EAAQ,GAEtD7M,EAAOD,QAAUyM,IACf,IAAKA,EAAIhG,IAAK,OACd,MAAM0G,EAAMgH,EAAM1H,EAAKA,EAAIhG,KAC3B,OAAO0G,GAAO,OAASA,GAGzB,MAGMgH,EAAQtH,EAAQD,EAAUC,EAAQC,EAHlB,CAACL,EAAK1K,EAAKN,IAC/B,GAAGgL,EAAImB,OAAO7L,QAAU0K,EAAIiB,MAAMjM,U,gBCTpC,MAAMsL,EAAa,EAAQ,GACrB2G,EAAc,EAAQ,GACtB0B,EAAY,EAAQ,GACpBsC,EAAc,EAAQ,GACtB1K,EAAc,EAAQ,GAE5B/M,EAAOD,QAAU,CACf+M,aACA2G,cACA0B,YACAsC,cACA1K,gB,gBCXF,MAAM0G,EAAc,EAAQ,IAE5BzT,EAAOD,QAAU,CAAE0T,gB,gBCFnB,MAAM,SACFkE,EAAQ,UACRC,EAAS,cACTC,EAAa,OACbC,EAAM,QACNC,EAAO,KACPC,EAAI,aACJC,EAAY,SACZC,EAAQ,eACRC,EAAc,WACdC,EAAU,qBACVC,EAAoB,WACpBC,GACA,EAAQ,IAGN9W,EAAQ,CACVgM,IAAK2K,EACLI,IAAKJ,EACLK,QAASN,EACTO,QAASP,EACTQ,OAAQR,EACRS,OAAQT,EACRrK,MAAOqK,EACP/P,KAAM+P,EACNU,MAAOV,GAILO,EAAU,CAEZI,IAAKb,EAAK,OACVc,GAAId,EAAK,MACTe,IAAKlB,EAAc,OAEnBmB,OAAQpB,EAAU,WAClBqB,UAAWrB,EAAU,eACrBsB,QAAStB,EAAU,YACnBuB,WAAYvB,EAAU,gBACtBwB,UAAWxB,EAAU,cACrByB,aAAczB,EAAU,mBAItB0B,EAAa,CAEfC,GAAIzB,EAAO,KACX0B,IAAK1B,EAAO,MACZ2B,GAAI3B,EAAO,KACX4B,GAAI5B,EAAO,KACX6B,IAAK7B,EAAO,MACZ8B,IAAK9B,EAAO,MAEZ+B,QAAS9B,EAAQ,UAAW,OAC5B+B,eAAgBhC,EAAO,oBACvBiC,kBAAmBjC,EAAO,wBAC1BkC,OAAQpC,EAAU,WAClBqC,UAAWrC,EAAU,eACrBsC,GAAI9B,EAAW,MACf+B,MAAO/B,EAAW,UAElBgC,MAAO/B,EAAqB,SAC5BgC,OAAQhC,EAAqB,UAC7BiC,MAAOjC,EAAqB,SAC5BkC,MAAOlC,EAAqB,SAC5BmC,OAAQnC,EAAqB,UAC7BoC,OAAQpC,EAAqB,UAE7BqC,MAAOrC,EAAqB,SAC5BsC,OAAQtC,EAAqB,UAC7BuC,MAAOvC,EAAqB,SAC5BwC,MAAOxC,EAAqB,SAC5ByC,OAAQzC,EAAqB,UAC7B0C,OAAQ1C,EAAqB,WAI3B2C,EAAiB,CAGnBC,OAAQ3C,EAAW,KACnB4C,OAAQ5C,EAAW,KACnB6C,QAAS7C,EAAW,MACpB8C,QAAS9C,EAAW,OAIlB+C,EAAO,CACTC,IAAKxD,EAAO,KACZyD,IAAKzD,EAAO,KACZ0D,IAAK1D,EAAO,KACZ2D,IAAK3D,EAAO,KACZ4D,IAAK5D,EAAO,KACZtD,IAAKsD,EAAO,KACZ6D,KAAMhE,EAAS,MACfiE,KAAMjE,EAAS,OACfkE,KAAMlE,EAAS,MACfmE,IAAKjE,EAAc,QAIjBc,EAAS,CACXoD,KAAMjE,EAAO,QACbkE,QAASlE,EAAO,aAGdjK,EAAQ,CACVoO,OAAQhE,EAAa,WAGzBjY,EAAOD,QAAU,IACVyB,KACAiX,KACAa,KACA+B,KACAxN,KACAmN,KACArC,I,gBCrHP,MAAM,oBAAEzK,GAAwB,EAAQ,GAQlCT,EAAQ,CAACjB,EAAKgB,IAEZA,EAAIgH,IAAYhH,EAAIgH,IAEpBhH,EAAI6G,IAAYnG,EAAoB1B,EAAKgB,EAAI6G,KAE1C7H,EAAIiB,MAAMD,EAAIA,KA6EnB0K,EAAW,CACbzD,QAAS,EACTC,QAAS,EACTjH,MAAO,CAACjB,EAAKa,IAASI,EAAMjB,EAAKa,EAAK,KAGpC8K,EAAiB,CACnB1D,QAAS,EACTC,QAASwH,OAAOC,iBAChB1O,MAAO,CAACjB,EAAKa,KACT,GAAoB,IAAhBA,EAAKxF,OAAc,OAAO4F,EAAMjB,EAAKa,EAAK,IAC9C,IAAIH,EAAM,GACV,IAAK,IAAI3M,EAAI,EAAGA,EAAI8M,EAAKxF,SAAUtH,EACrB,IAANA,IAAS2M,GAAO,MACpBA,GAAOO,EAAMjB,EAAKa,EAAK9M,IAE3B,OAAO8M,EAAKxF,OAAS,EAAI,IAAIqF,KAASA,IA8B9ClN,EAAOD,QAAU,CACb0N,QACAoK,cA9GkBtE,IAAM,CACxBkB,QAAS,EACTC,QAAS,EACTjH,MAAO,CAACjB,EAAKa,IAAS,GAAGkG,KAAM9F,EAAMjB,EAAKa,EAAK,SA4G/CsK,SA3HapE,IAAM,CACnBkB,QAAS,EACTC,QAAS,EACTjH,MAAO,CAACjB,EAAKa,IAAS,IAAIkG,KAAM9F,EAAMjB,EAAKa,EAAK,SAyHhDuK,UAtHcrE,IAAM,CACpBkB,QAAS,EACTC,QAAS,EACTjH,MAAO,CAACjB,EAAKa,IAAS,IAAII,EAAMjB,EAAKa,EAAK,OAAOkG,OAoHjDuE,OA3GWvE,IAAM,CACjBkB,QAAS,EACTC,QAAS,EACTjH,MAAO,CAACjB,EAAKa,IAAS,IAAII,EAAMjB,EAAKa,EAAK,OAAOkG,KAAM9F,EAAMjB,EAAKa,EAAK,SAyGvE0K,QAzFY,CAACqE,EAAKC,KAAQ,CAC1B5H,QAAS,EACTC,QAAS,EACTjH,MAAO,CAACjB,EAAKa,IACT,IAAII,EAAMjB,EAAKa,EAAK,OAAO+O,KAAO3O,EAAMjB,EAAKa,EAAK,OAAOgP,KAAO5O,EAC5DjB,EACAa,EAAK,SAoFb2K,KAhFSzE,IAAM,CACfkB,QAAS,EACTC,QAASwH,OAAOC,iBAChB1O,MAAO,CAACjB,EAAKa,KACT,GAAoB,IAAhBA,EAAKxF,OAAc,OAAO4F,EAAMjB,EAAKa,EAAK,IAC9C,IAAIH,EAAM,IACV,IAAK,IAAI3M,EAAI,EAAGA,EAAI8M,EAAKxF,SAAUtH,EACrB,IAANA,IAAS2M,GAAO,IAAIqG,MACxBrG,GAAOO,EAAMjB,EAAKa,EAAK9M,IAE3B,OAAO2M,EAAM,OAuEjB+K,aAnEiBrH,IAAM,CACvB6D,QAAS,EACTC,QAASwH,OAAOC,iBAChB1O,MAAO,CAACjB,EAAKa,KACT,IAAIH,EAAS0D,EAAH,IACV,IAAK,IAAIrQ,EAAI,EAAGA,EAAI8M,EAAKxF,SAAUtH,EACrB,IAANA,IAAS2M,GAAO,MACpBA,GAAOO,EAAMjB,EAAKa,EAAK9M,IAE3B,OAAO2M,EAAM,OA2DjBgL,WACAC,iBACAC,WA3Be7E,IAAM,CACrBkB,QAAS,EACTC,QAAS,EACTjH,MAAO,CAACjB,GAAM8P,EAAMC,KAChB,IAAI9O,EAAMjB,EAAK8P,MAAS/I,KAAM1O,MAAMC,QAAQyX,EAAK/O,KAdjC,EAAChB,EAAK5D,KAC1B,GAAsB,IAAlBA,EAAOf,OAAc,MAAMN,MAAM,0CACrC,IAAI2F,EAAM,IACV,IAAK,IAAI3M,EAAI,EAAGA,EAAIqI,EAAOf,SAAUtH,EACvB,IAANA,IAAS2M,GAAO,MACpBA,GAAOV,EAAIiB,MAAM7E,EAAOrI,IAE5B,OAAO2M,EAAM,KAQHsP,CAAgBhQ,EAAK+P,EAAK/O,KAC1BC,EAAMjB,EAAK+P,QAsBrBlE,qBAlByB9E,IAAM,CAC/BkB,QAAS,EACTC,QAAS,EACTjH,MAAO,CAACjB,EAAKa,IAAS,IAAII,EAAMjB,EAAKa,EAAK,OAAOkG,KAAM9F,EAAMjB,EAAKa,EAAK,UAgBvEiL,WA7Ge/E,IAAM,CACrBkB,QAAS,EACTC,QAAS,EACTjH,MAAO,CAACjB,EAAKa,KACT,MAAMoP,EAASpP,EAAK,GAAGG,IA3CR3M,MA+Cf,MAH+B,mBAApB4b,EAAOC,WACdrP,EAAK,GAAGG,IA7CQ,EAAL3M,EA6CkB4b,GA5CnCE,eACD,KAAO9b,EAAE6b,WAAa,IAAItW,OAAO,IACjC,IAAMvF,EAAE+b,WAAWxW,OAAO,IAC7B2B,KAAK,MA2CQ,QAAQ0F,EAAMjB,EAAKa,EAAK,sBAAsBkG,KAAM9F,EAAMjB,EAAKa,EAAK,W,cC1CnF,MAAM+C,EAAS5C,IACX,QAAYjJ,IAARiJ,EAAmB,MAAMjG,MAAM,iCACnC,GAAY,OAARiG,EAAc,MAAO,OACzB,GAAmB,iBAARA,EAAkB,OAAOqP,EAAcrP,GAClD,GAAmB,iBAARA,EAAkB,MAAO,GAAKA,EACzC,GAAmB,kBAARA,EAAmB,MAAO,GAAKA,EAC1C,GAAmB,iBAARA,EACP,OAAI3I,MAAMC,QAAQ0I,GACP,SAASA,EAAI9I,IAAIvB,GAAKiN,EAAOjN,IAAI4E,KAAK,SAEtC8U,EAAczU,KAAK0U,UAAUtP,IAG5C,MAAMjG,MAAM,iDAAiDiG,KAAQA,IAInEqP,EAAgB/F,IAClB,IAAIiG,GAAe,EACfC,EAAU,IACd,IAAK,IAAIzc,EAAI,EAAGA,EAAIuW,EAAIjP,OAAQtH,IAAK,CACjC,MAAMK,EAAIkW,EAAIvW,GACJ,MAANK,EACAoc,GAAWpc,EAAIA,EACF,OAANA,GACPoc,GAAWpc,EAAIA,EACfmc,GAAe,GAEfC,GAAWpc,EAOnB,OAJAoc,GAAW,KACU,IAAjBD,IACAC,EAAU,KAAOA,GAEdA,GAGXhd,EAAOD,QAAU,CACb+O,aA7CJ,SAAsBtB,GAClB,QAAYjJ,IAARiJ,EAAmB,MAAMjG,MAAM,iCACnC,MAAO,IAAI3E,KAAK8P,OAAO/J,KAAK6E,IA4C5B4C,W,6RC/CO6M,EAqBAC,EAMAC,EC3BPC,E,iBDCJ,SAAWH,GACPA,EAA8B,kBAAI,oBAClCA,EAAsB,UAAI,YAC1BA,EAAwB,YAAI,cAC5BA,EAAsB,UAAI,YAC1BA,EAAuB,WAAI,aAC3BA,EAAyB,aAAI,eAC7BA,EAAuB,WAAI,aAC3BA,EAAwB,YAAI,cAC5BA,EAAwB,YAAI,cAC5BA,EAAsB,UAAI,YAC1BA,EAA4B,gBAAI,kBAChCA,EAA0B,cAAI,gBAC9BA,EAAoB,QAAI,UACxBA,EAA0B,cAAI,gBAC9BA,EAAoB,QAAI,SACxBA,EAA2B,eAAI,iBAC/BA,EAAiC,qBAAI,uBACrCA,EAAoC,wBAAI,0BAlB5C,CAmBGA,IAAeA,EAAa,KAE/B,SAAWC,GACPA,EAAiB,MAAI,QACrBA,EAAmB,QAAI,UACvBA,EAAmB,QAAI,UAH3B,CAIGA,IAAcA,EAAY,KAE7B,SAAWC,GACPA,EAAmB,IAAI,MACvBA,EAAmB,IAAI,MAF3B,CAGGA,IAAkBA,EAAgB,KC7BlCC,IAAoBA,EAAkB,IAE1B,MADJ,IAAKA,G,oBCHhB,MAMCC,EAAW/b,OAAO,uBAClBgc,EAA4B,CAAEtL,MAAO,GACrCuL,EAA0B,CAAEC,KAAM,EAAGC,QAAS,EAAGC,UAAW,GA0E5DC,EAAsB,CAAE,CAACN,GAAW,CAAE7b,MAAO,MAAQoc,QAAS,CAAEpc,MAzCtD,SAAiBqc,EAAU5U,GACpC,GAAwB,mBAAb4U,EACV,MAAM,IAAItW,MAAM,qCAAqCsW,MAGtD,MAECC,EADQlb,KAAKya,GACKS,UACnB,GAAKA,EAAUC,KAAK/c,GAAKA,EAAE,KAAO6c,GASjCG,QAAQC,KAAK,yEAT+B,CAC5C,IAAIC,EAEHA,EADGjV,EA1CkB,SAA+BA,GACtD,MAAMvD,EAAS,GACf,QAAqBnB,IAAjB0E,EAAQuU,KAAoB,CAC/B,GAA4B,iBAAjBvU,EAAQuU,MAAsC,KAAjBvU,EAAQuU,KAC/C,MAAM,IAAIjW,MAAM,+DAEjB7B,EAAO8X,KAAOvU,EAAQuU,KAEvB,QAAwBjZ,IAApB0E,EAAQwU,QAAuB,CAClC,GAAIxU,EAAQuU,KACX,MAAM,IAAIjW,MAAM,qEAEjB,GAA+B,iBAApB0B,EAAQwU,QAClB,MAAM,IAAIlW,MAAM,uEAEjB7B,EAAO+X,QAAUxU,EAAQwU,QAAQ9T,MAAM,KAAKwU,OAAOnc,GAAKA,GAEzD,QAA0BuC,IAAtB0E,EAAQyU,UAAyB,CACpC,GAAIzU,EAAQuU,MAAQvU,EAAQwU,QAC3B,MAAM,IAAIlW,MAAM,oFAEjB,GAAiC,iBAAtB0B,EAAQyU,WAAgD,KAAtBzU,EAAQyU,UACpD,MAAM,IAAInW,MAAM,oEAEjB7B,EAAOgY,UAAYzU,EAAQyU,UAE5B,MAAMU,EAAiBnd,OAAOyH,KAAKO,GAASkV,OAAOE,IAAWd,EAAwBnb,eAAeic,IACrG,GAAID,EAAevW,OAClB,MAAM,IAAIN,MAAM,IAAI6W,EAAerW,KAAK,+CAEzC,OAAOrC,EAaE4Y,CAAsBrV,GAEtB,GAER6U,EAAUnV,KAAK,CAACkV,EAAUK,OA0BsDK,UAAW,CAAE/c,MArBnF,WACX,MAAMgd,EAAQ5b,KAAKya,GACbS,EAAYU,EAAMV,UACxB,IAAIW,EAAKX,EAAUjW,OACnB,GAAI4W,EAAI,CACP,IAAIC,EAAKC,UAAU9W,OACnB,GAAI6W,EACH,KAAOA,KAAM,CACZ,IAAIne,EAAIke,EACR,KAAOle,KACFud,EAAUvd,GAAG,KAAOoe,UAAUD,KACjCZ,EAAUc,OAAOre,EAAG,GACpBke,UAKHX,EAAUc,OAAO,OAKpBC,EAAgB,SAAuB9Q,EAAQyQ,GAC9Cb,EAAoBN,GAAU7b,MAAQgd,EACtC,MAAM5L,EAAS3R,OAAOuR,iBAAiB,GAAImL,GAC3C,IAAK,MAAM7b,KAAOb,OAAOyH,KAAKqF,GAC7B6E,EAAO9Q,GAAOgd,EAAc/Q,EAAOjM,GAAMA,EAAK0c,GAE/C,OAAO5L,GAERmM,EAAe,SAAsBhR,EAAQyQ,GAC5C,IAAIje,EAAI,EAAGC,EAAIuN,EAAOlG,OACtB8V,EAAoBN,GAAU7b,MAAQgd,EACtC,MAAM5L,EAAS3R,OAAOuR,iBAAiB,IAAI3N,MAAMrE,GAAImd,GACrD,KAAOpd,EAAIC,EAAGD,IACbqS,EAAOrS,GAAKue,EAAc/Q,EAAOxN,GAAIA,EAAGie,GAEzC,OAAO5L,GAERoM,EAAoB,SAA2BjR,EAAQyQ,GAGtD,OAFAb,EAAoBN,GAAU7b,MAAQgd,EACtCvd,OAAOuR,iBAAiBzE,EAAQ4P,GACzB5P,GAERkR,EAAgB,SAAuBhW,EAASiW,GAC/C,IAAIxZ,EAASwZ,EACb,GAAIjW,EAAQuU,KAAM,CACjB,MAAM2B,EAAQlW,EAAQuU,KACtB9X,EAASwZ,EAAQf,OAAOiB,GACvBA,EAAO5B,KAAKzV,KAAK,OAASoX,QAErB,GAAIlW,EAAQwU,QAAS,CAC3B,MAAM4B,EAAWpW,EAAQwU,QACzB/X,EAASwZ,EAAQf,OAAOiB,GACvBA,EAAO5B,KAAK3V,SAAWwX,EAASxX,OAAS,GACxCuX,EAAO5B,KAAK3V,SAAWwX,EAASxX,SAhH1B,YAgHqCuX,EAAO/X,MA/G5C,YA+GgE+X,EAAO/X,YAEzE,GAAI4B,EAAQyU,UAAW,CAC7B,MAAM4B,EAAarW,EAAQyU,UAC3BhY,EAASwZ,EAAQf,OAAOiB,GACvBA,EAAO5B,KAAKzV,KAAK,KAAKwX,WAAWD,IAGnC,OAAO5Z,GAER8Z,EAAmB,SAA0BC,EAAUP,GACtD,IACCO,EAASP,GACR,MAAO/b,GACR6a,QAAQpY,MAAM,6BAA6B6Z,UAAiBP,IAAW/b,KAGzEuc,EAAsB,WACrB,MAAMC,EAAU/c,KAAK+c,QACrB/c,KAAK+c,QAAU,KACf,IAAK,MAAOF,EAAUxW,KAAY0W,EACjCH,EAAiBC,EAAUxW,IAG7B2W,EAAgB,SAAuBpB,EAAOU,GAC7C,IACIpB,EAAWlL,EAAQ3J,EAAS4W,EAAiBtf,EAAGuf,EAASC,EADzDC,EAAoBxB,EAExB,MAAMhe,EAAI0e,EAAQrX,OAClB,EAAG,CAGF,IAFAiW,EAAYkC,EAAkBlC,UAC9Bvd,EAAIud,EAAUjW,OACPtH,KAIN,IAHCqS,EAAQ3J,GAAW6U,EAAUvd,GAC9Bsf,EAAkBZ,EAAchW,EAASiW,GAErCW,EAAgBhY,OACnB,GAAImY,EAAkB/W,QAAQ+I,MAAO,CAE/BgO,EAAkBL,UACtBK,EAAkBL,QAAU,GAC5BM,eAAeP,EAAoB3d,KAAKie,KAEzC,IAAIE,EAAKF,EAAkBL,QAAQQ,KAAK5R,GAAKA,EAAE,KAAOqE,GACjDsN,IACJA,EAAK,CAACtN,EAAQ,IACdoN,EAAkBL,QAAQhX,KAAKuX,IAEhCrb,MAAM1C,UAAUwG,KAAKyX,MAAMF,EAAG,GAAIL,QAGlCL,EAAiB5M,EAAQiN,GAK5B,IAAIQ,EACJ,GAAIL,EAAkBM,OAAQ,CAC7BD,EAAO,IAAIxb,MAAMrE,GACjB,IAAK,IAAID,EAAI,EAAGA,EAAIC,EAAGD,IACtBwf,EAAMb,EAAQ3e,GACduf,EAAU,CAACE,EAAkBO,UAAWR,EAAIvC,MAC5C6C,EAAK9f,GAAK,CACT8G,KAAM0Y,EAAI1Y,KACVmW,KAAMsC,EACNte,MAAOue,EAAIve,MACX8G,SAAUyX,EAAIzX,SACdrG,OAAQ8d,EAAI9d,QAGdid,EAAUmB,EACVL,EAAoBA,EAAkBM,YAEtCN,EAAoB,WAEbA,IAEVlB,EAAgB,SAAuB3R,EAAMrL,EAAKwe,GACjD,OAAKnT,GAAwB,iBAATA,EAETtI,MAAMC,QAAQqI,GACjB,IAAIqT,EAAW,CAAE5N,OAAQzF,EAAMoT,OAAQze,EAAKwe,OAAQA,IAAUG,MAC3Dnd,YAAYC,OAAO4J,GACtB,IAAIuT,EAAgB,CAAE9N,OAAQzF,EAAMoT,OAAQze,EAAKwe,OAAQA,IAAUG,MAChEtT,aAAgBwT,MAAQxT,aAAgB5F,MAC3C4F,EAEA,IAAIyT,EAAY,CAAEhO,OAAQzF,EAAMoT,OAAQze,EAAKwe,OAAQA,IAAUG,MAR/DtT,GAgHT0T,EAAiB,WAChB,MACCrC,EAAQ5b,KAAKya,GACbzK,EAAS4L,EAAM5L,OAChB,IAAIrS,EAAGC,EAAG2M,EAGV,IADAyF,EAAOkO,UACFvgB,EAAI,EAAGC,EAAIoS,EAAO/K,OAAQtH,EAAIC,EAAGD,IAErC,GADA4M,EAAOyF,EAAOrS,GACV4M,GAAwB,iBAATA,EAAmB,CACrC,MAAM4T,EAAc5T,EAAKkQ,GACrB0D,IACHA,EAAYR,OAAShgB,GAQxB,OAFAqf,EAAcpB,EADE,CAAC,CAAEnX,KA/TV,UA+TyBmW,KAAM,GAAIvb,OAAQW,QAG7CA,MAERoe,EAAc,SAAqBC,GAClC,MACCzC,EAAQ5b,KAAKya,GACbzK,EAAS4L,EAAM5L,OAChB,IAAIrS,EAAGC,EAAG2M,EAGV,IADAyF,EAAO2E,KAAK0J,GACP1gB,EAAI,EAAGC,EAAIoS,EAAO/K,OAAQtH,EAAIC,EAAGD,IAErC,GADA4M,EAAOyF,EAAOrS,GACV4M,GAAwB,iBAATA,EAAmB,CACrC,MAAM4T,EAAc5T,EAAKkQ,GACrB0D,IACHA,EAAYR,OAAShgB,GAQxB,OAFAqf,EAAcpB,EADE,CAAC,CAAEnX,KApVV,UAoVyBmW,KAAM,GAAIvb,OAAQW,QAG7CA,MAERse,EAAc,SAAqBC,EAAQnU,EAAOC,GACjD,MACCuR,EAAQ5b,KAAKya,GACbzK,EAAS4L,EAAM5L,OACfsM,EAAU,GACVkC,EAASxO,EAAO/K,OAChBgJ,EAAO+B,EAAOxM,MAAM,GAIrB,GAHA4G,OAAkBzI,IAAVyI,EAAsB,EAAKA,EAAQ,EAAIqU,KAAK1N,IAAIyN,EAASpU,EAAO,GAAKqU,KAAKzN,IAAI5G,EAAOoU,GAC7FnU,OAAc1I,IAAR0I,EAAoBmU,EAAUnU,EAAM,EAAIoU,KAAK1N,IAAIyN,EAASnU,EAAK,GAAKoU,KAAKzN,IAAI3G,EAAKmU,GAEpFpU,EAAQoU,GAAUnU,EAAMD,EAAO,CAGlC,IAAI+T,EAFJnO,EAAO0O,KAAKH,EAAQnU,EAAOC,GAG3B,IAAK,IAAeE,EAAMoU,EAAjBhhB,EAAIyM,EAAwBzM,EAAI0M,EAAK1M,IAC7C4M,EAAOyF,EAAOrS,GACdqS,EAAOrS,GAAKue,EAAc3R,EAAM5M,EAAGie,GAC/B3N,EAAKzO,eAAe7B,IACvBghB,EAAY1Q,EAAKtQ,GACbghB,GAAkC,iBAAdA,IACvBR,EAAcQ,EAAUlE,GACpB0D,IACHQ,EAAYR,EAAYS,WAI1BtC,EAAQvW,KAAK,CAAEtB,KAtXV,SAsXwBmW,KAAM,CAACjd,GAAIiB,MAAOoR,EAAOrS,GAAI+H,SAAUiZ,EAAWtf,OAAQW,QAEvFsc,EAAQvW,KAAK,CAAEtB,KAzXV,SAyXwBmW,KAAM,CAACjd,GAAIiB,MAAOoR,EAAOrS,GAAI0B,OAAQW,OAIpEgd,EAAcpB,EAAOU,GAGtB,OAAOtc,MAER6e,EAAoB,SAA2BC,EAAM1U,EAAOC,GAC3D,MACCuR,EAAQ5b,KAAKya,GACbzK,EAAS4L,EAAM5L,OACfwO,EAASxO,EAAO/K,OACjB6Z,EAAOA,EAAO,EAAIL,KAAK1N,IAAIyN,EAASM,EAAM,GAAKA,EAC/C1U,OAAkBzI,IAAVyI,EAAsB,EAAKA,EAAQ,EAAIqU,KAAK1N,IAAIyN,EAASpU,EAAO,GAAKqU,KAAKzN,IAAI5G,EAAOoU,GAC7FnU,OAAc1I,IAAR0I,EAAoBmU,EAAUnU,EAAM,EAAIoU,KAAK1N,IAAIyN,EAASnU,EAAK,GAAKoU,KAAKzN,IAAI3G,EAAKmU,GACxF,MAAMO,EAAMN,KAAKzN,IAAI3G,EAAMD,EAAOoU,EAASM,GAE3C,GAAIA,EAAON,GAAUM,IAAS1U,GAAS2U,EAAM,EAAG,CAC/C,MACC9Q,EAAO+B,EAAOxM,MAAM,GACpB8Y,EAAU,GAEXtM,EAAOgP,WAAWF,EAAM1U,EAAOC,GAE/B,IAAK,IAAc4U,EAAOC,EAAOf,EAAxBxgB,EAAImhB,EAAiCnhB,EAAImhB,EAAOC,EAAKphB,IAE7DshB,EAAQjP,EAAOrS,GACXshB,GAA0B,iBAAVA,IACnBA,EAAQ/C,EAAc+C,EAAOthB,EAAGie,GAChC5L,EAAOrS,GAAKshB,GAIbC,EAAQjR,EAAKtQ,GACTuhB,GAA0B,iBAAVA,IACnBf,EAAce,EAAMzE,GAChB0D,IACHe,EAAQf,EAAYS,WAID,iBAAVK,GAAsBA,IAAUC,GAG3C5C,EAAQvW,KAAK,CAAEtB,KAtaT,SAsauBmW,KAAM,CAACjd,GAAIiB,MAAOqgB,EAAOvZ,SAAUwZ,EAAO7f,OAAQW,OAGhFgd,EAAcpB,EAAOU,GAGtB,OAAOtc,MA+ERmf,EAAsB,CACrBC,IAjTY,WACZ,MAAMxD,EAAQ5b,KAAKya,GAClBzK,EAAS4L,EAAM5L,OACfqP,EAAcrP,EAAO/K,OAAS,EAE/B,IAAIqa,EAAYtP,EAAOoP,MACvB,GAAIE,GAAkC,iBAAdA,EAAwB,CAC/C,MAAMnB,EAAcmB,EAAU7E,GAC1B0D,IACHmB,EAAYnB,EAAYS,UAO1B,OAFA5B,EAAcpB,EADE,CAAC,CAAEnX,KAvNX,SAuNyBmW,KAAM,CAACyE,GAAc3Z,SAAU4Z,EAAWjgB,OAAQW,QAG5Esf,GAkSPvZ,KAhSa,WACb,MACC6V,EAAQ5b,KAAKya,GACbzK,EAAS4L,EAAM5L,OACfpS,EAAIme,UAAU9W,OACdsa,EAAc,IAAItd,MAAMrE,GACxB4hB,EAAgBxP,EAAO/K,OAExB,IAAK,IAAItH,EAAI,EAAGA,EAAIC,EAAGD,IACtB4hB,EAAY5hB,GAAKue,EAAcH,UAAUpe,GAAI6hB,EAAgB7hB,EAAGie,GAEjE,MAAM6D,EAAaC,QAAQlC,MAAMxN,EAAOjK,KAAMiK,EAAQuP,GAEhDjD,EAAU,GAChB,IAAK,IAAI3e,EAAI6hB,EAAe5hB,EAAIoS,EAAO/K,OAAQtH,EAAIC,EAAGD,IACrD2e,EAAQ3e,EAAI6hB,GAAiB,CAAE/a,KA7OxB,SA6OsCmW,KAAM,CAACjd,GAAIiB,MAAOoR,EAAOrS,GAAI0B,OAAQW,MAInF,OAFAgd,EAAcpB,EAAOU,GAEdmD,GA8QPhe,MA5Qc,WACd,MACCma,EAAQ5b,KAAKya,GACbzK,EAAS4L,EAAM5L,OAChB,IAAI2P,EAAahiB,EAAGC,EAAG2M,EAAM4T,EAW7B,IATAwB,EAAc3P,EAAOvO,QACjBke,GAAsC,iBAAhBA,IACzBxB,EAAcwB,EAAYlF,GACtB0D,IACHwB,EAAcxB,EAAYS,WAKvBjhB,EAAI,EAAGC,EAAIoS,EAAO/K,OAAQtH,EAAIC,EAAGD,IACrC4M,EAAOyF,EAAOrS,GACV4M,GAAwB,iBAATA,IAClB4T,EAAc5T,EAAKkQ,GACf0D,IACHA,EAAYR,OAAShgB,IAQxB,OAFAqf,EAAcpB,EADE,CAAC,CAAEnX,KA1QX,SA0QyBmW,KAAM,CAAC,GAAIlV,SAAUia,EAAatgB,OAAQW,QAGpE2f,GAiPPC,QA/OgB,WAChB,MACChE,EAAQ5b,KAAKya,GACbzK,EAAS4L,EAAM5L,OACf8L,EAAKC,UAAU9W,OACf4a,EAAiB,IAAI5d,MAAM6Z,GAE5B,IAAK,IAAIne,EAAI,EAAGA,EAAIme,EAAIne,IACvBkiB,EAAeliB,GAAKue,EAAcH,UAAUpe,GAAIA,EAAGie,GAEpD,MAAMkE,EAAgBJ,QAAQlC,MAAMxN,EAAO4P,QAAS5P,EAAQ6P,GAE5D,IAAK,IAA8BtV,EAA1B5M,EAAI,EAAGC,EAAIoS,EAAO/K,OAActH,EAAIC,EAAGD,IAE/C,GADA4M,EAAOyF,EAAOrS,GACV4M,GAAwB,iBAATA,EAAmB,CACrC,MAAM4T,EAAc5T,EAAKkQ,GACrB0D,IACHA,EAAYR,OAAShgB,GAMxB,MAAMC,EAAIiiB,EAAe5a,OACnBqX,EAAU,IAAIra,MAAMrE,GAC1B,IAAK,IAAID,EAAI,EAAGA,EAAIC,EAAGD,IACtB2e,EAAQ3e,GAAK,CAAE8G,KA3SR,SA2SsBmW,KAAM,CAACjd,GAAIiB,MAAOoR,EAAOrS,GAAI0B,OAAQW,MAInE,OAFAgd,EAAcpB,EAAOU,GAEdwD,GAkNP5B,QAASD,EACTtJ,KAAMyJ,EACNM,KAAMJ,EACNU,WAAYH,EACZ7C,OAtFe,WACf,MACCJ,EAAQ5b,KAAKya,GACbzK,EAAS4L,EAAM5L,OACf+P,EAAShE,UAAU9W,OACnB+a,EAAgB,IAAI/d,MAAM8d,GAC1BvB,EAASxO,EAAO/K,OAGjB,IAAK,IAAItH,EAAI,EAAGA,EAAIoiB,EAAQpiB,IAC3BqiB,EAAcriB,GAAKue,EAAcH,UAAUpe,GAAIA,EAAGie,GAInD,MACCqE,EAAwB,IAAXF,EAAe,EAAKC,EAAc,GAAK,EAAIxB,EAASwB,EAAc,GAAKA,EAAc,GAClGE,EAAUH,EAAS,EAAIvB,EAASyB,EAAaD,EAAc,GAC3DG,EAAW1B,KAAK1N,IAAIgP,EAAS,EAAG,GAChCK,EAAeV,QAAQlC,MAAMxN,EAAOgM,OAAQhM,EAAQgQ,GACpDK,EAAYrQ,EAAO/K,OAGpB,IAAIkZ,EAYAxgB,EAAGC,EAAG2M,EAXV,IAAK,IAAWA,EAAP5M,EAAI,EAASA,EAAI0iB,EAAW1iB,IACpC4M,EAAOyF,EAAOrS,GACV4M,GAAwB,iBAATA,IAClB4T,EAAc5T,EAAKkQ,GACf0D,IACHA,EAAYR,OAAShgB,IAOxB,IAAKA,EAAI,EAAGC,EAAIwiB,EAAanb,OAAQtH,EAAIC,EAAGD,IAC3C4M,EAAO6V,EAAaziB,GAChB4M,GAAwB,iBAATA,IAClB4T,EAAc5T,EAAKkQ,GACf0D,IACHiC,EAAaziB,GAAKwgB,EAAYS,WAKjC,MAAMtC,EAAU,GAChB,IAAIgE,EACJ,IAAKA,EAAQ,EAAGA,EAAQJ,EAASI,IAC5BA,EAAQH,EACX7D,EAAQvW,KAAK,CAAEtB,KA/dT,SA+duBmW,KAAM,CAACqF,EAAaK,GAAQ1hB,MAAOoR,EAAOiQ,EAAaK,GAAQ5a,SAAU0a,EAAaE,GAAQjhB,OAAQW,OAEnIsc,EAAQvW,KAAK,CAAEtB,KAheT,SAgeuBmW,KAAM,CAACqF,EAAaK,GAAQ5a,SAAU0a,EAAaE,GAAQjhB,OAAQW,OAGlG,KAAOsgB,EAAQH,EAAUG,IACxBhE,EAAQvW,KAAK,CAAEtB,KAteR,SAsesBmW,KAAM,CAACqF,EAAaK,GAAQ1hB,MAAOoR,EAAOiQ,EAAaK,GAAQjhB,OAAQW,OAIrG,OAFAgd,EAAcpB,EAAOU,GAEd8D,IA6BRG,EAA2B,CAC1BrC,QAASD,EACTtJ,KAAMyJ,EACNM,KAAMJ,EACNU,WAAYH,EACZjb,IAhCsB,SAA8BuH,EAAQ0B,GAC5D,MACC+O,EAAQ5b,KAAKya,GACbzK,EAAS4L,EAAM5L,OACfwQ,EAASrV,EAAOlG,OAChBgJ,EAAO+B,EAAOxM,MAAM,GACrBqJ,EAASA,GAAU,EAEnBmD,EAAOpM,IAAIuH,EAAQ0B,GACnB,MAAMyP,EAAU,IAAIra,MAAMue,GAC1B,IAAK,IAAI7iB,EAAIkP,EAAQlP,EAAK6iB,EAAS3T,EAASlP,IAC3C2e,EAAQ3e,EAAIkP,GAAU,CAAEpI,KAtfjB,SAsf+BmW,KAAM,CAACjd,GAAIiB,MAAOoR,EAAOrS,GAAI+H,SAAUuI,EAAKtQ,GAAI0B,OAAQW,MAG/Fgd,EAAcpB,EAAOU,KAqBvB,MAAMmE,EACL,YAAYnS,EAAYoS,GACvB,MAAM,OAAE1Q,EAAM,OAAE0N,EAAM,OAAEC,GAAWrP,EAC/BoP,QAAqB/b,IAAXgc,GACb3d,KAAK0d,OAASA,EACd1d,KAAK2d,OAASA,IAEd3d,KAAK0d,OAAS,KACd1d,KAAK2d,OAAS,MAEf,MAAMgD,EAAcD,EAAgB1Q,EAAQhQ,MAC5CA,KAAKkb,UAAY,GACjBlb,KAAK4gB,UAAYC,MAAMD,UAAUD,EAAa3gB,MAC9CA,KAAK6d,MAAQ7d,KAAK4gB,UAAU/C,MAC5B7d,KAAKgQ,OAAS2Q,EACd3gB,KAAKqG,QAAUrG,KAAK8gB,eAAexS,EAAWjI,SAG/C,eAAeA,GACd,GAAIA,EAAS,CACZ,GAAuB,iBAAZA,EACV,MAAM,IAAI1B,MAAM,oEAAoE0B,MAErF,MAAMmV,EAAiBnd,OAAOyH,KAAKO,GAASkV,OAAOE,IAAWf,EAA0Blb,eAAeic,IACvG,GAAID,EAAevW,OAClB,MAAM,IAAIN,MAAM,IAAI6W,EAAerW,KAAK,iDAEzC,OAAO9G,OAAO0iB,OAAO,GAAI1a,GAEzB,MAAO,GAIT,SAEC,OADArG,KAAK0d,OAAS,KACP1d,KAAKgQ,OAGb,IAAIA,EAAQ9Q,EAAKN,GAChB,IAAI8G,EAAWsK,EAAO9Q,GAEtB,GAAIN,IAAU8G,EAAU,CACvB,MAAMsb,EAAW9E,EAActd,EAAOM,EAAKc,MAG3C,GAFAgQ,EAAO9Q,GAAO8hB,EAEVtb,GAAgC,iBAAbA,EAAuB,CAC7C,MAAMyY,EAAczY,EAAS+U,GACzB0D,IACHzY,EAAWyY,EAAYS,UAIzB,MAAMtC,OAAuB3a,IAAb+D,EACb,CAAC,CAAEjB,KApkBC,SAokBamW,KAAM,CAAC1b,GAAMN,MAAOoiB,EAAU3hB,OAAQW,KAAK6d,QAC5D,CAAC,CAAEpZ,KApkBC,SAokBamW,KAAM,CAAC1b,GAAMN,MAAOoiB,EAAUtb,SAAUA,EAAUrG,OAAQW,KAAK6d,QACnFb,EAAchd,KAAMsc,GAGrB,OAAO,EAGR,eAAetM,EAAQ9Q,GACtB,IAAIwG,EAAWsK,EAAO9Q,GAItB,UAFO8Q,EAAO9Q,GAEVwG,GAAgC,iBAAbA,EAAuB,CAC7C,MAAMyY,EAAczY,EAAS+U,GACzB0D,IACHzY,EAAWyY,EAAYS,UAIzB,MAAMtC,EAAU,CAAC,CAAE7X,KAtlBX,SAslByBmW,KAAM,CAAC1b,GAAMwG,SAAUA,EAAUrG,OAAQW,KAAK6d,QAG/E,OAFAb,EAAchd,KAAMsc,IAEb,GAIT,MAAM0B,UAAoByC,EACzB,YAAYnS,GACX2S,MAAM3S,EAAY2N,IAIpB,MAAM2B,UAAmB6C,EACxB,YAAYnS,GACX2S,MAAM3S,EAAY6N,GAGnB,IAAInM,EAAQ9Q,GACX,OAAIigB,EAAoB3f,eAAeN,GAC/BigB,EAAoBjgB,GAEpB8Q,EAAO9Q,IAKjB,MAAM4e,UAAwB2C,EAC7B,YAAYnS,GACX2S,MAAM3S,EAAY8N,GAGnB,IAAIpM,EAAQ9Q,GACX,OAAIqhB,EAAyB/gB,eAAeN,GACpCqhB,EAAyBrhB,GAEzB8Q,EAAO9Q,IAKjB,MAAMgiB,EACL,cACC,MAAM,IAAIvc,MAAM,4EAGjB,YAAYqL,EAAQ3J,GACnB,GAAK2J,GAA4B,iBAAXA,EAEf,IAAIA,EAAOyK,GACjB,OAAOzK,EACD,GAAI/N,MAAMC,QAAQ8N,GACxB,OAAO,IAAI4N,EAAW,CAAE5N,OAAQA,EAAQ2N,OAAQ,KAAMD,OAAQ,KAAMrX,QAASA,IAAWwX,MAClF,GAAInd,YAAYC,OAAOqP,GAC7B,OAAO,IAAI8N,EAAgB,CAAE9N,OAAQA,EAAQ2N,OAAQ,KAAMD,OAAQ,KAAMrX,QAASA,IAAWwX,MACvF,GAAI7N,aAAkB+N,MAAQ/N,aAAkBrL,MACtD,MAAM,IAAIA,MAASqL,EAAH,6CAEhB,OAAO,IAAIgO,EAAY,CAAEhO,OAAQA,EAAQ2N,OAAQ,KAAMD,OAAQ,KAAMrX,QAASA,IAAWwX,MAVzF,MAAM,IAAIlZ,MAAM,yDAclB,oBAAoByB,GACnB,SAAUA,IAASA,EAAMqU,KAI3Bpc,OAAO8iB,OAAOD,G,oBC3pBC,SAASE,EAAaC,GACjC,MAAMC,EAAID,GAAW,EAerB,MAAO,CACHE,iBAdqB,KACrB,MAAMC,EAAQzD,KAAK0D,MACnB,MAAO,CACHC,MAAOJ,EAAEI,MACTC,cAAeL,EAAEM,SAAWJ,EAAQ,KACpCC,IAAKD,IAUTK,gBAhBoB,CAACpd,EAAMqd,IAAkB,2BAA2Brd,KAAQqd,IAiBhFC,IARJ,YAAgBjS,GACRwR,EAAEjb,QAAQ2b,SACV5G,QAAQ2G,IAAI,iBAAkBjS,KCV3B,SAASmS,EAAYZ,GAChC,MAAMC,EAAID,GAAW,GACf,gBAAEQ,EAAe,iBAAEN,EAAgB,IAAEQ,GAAQX,EAAaE,GAChE,SAASY,IACLZ,EAAEI,MAAQ,GACVJ,EAAEa,aAAe,GACjBb,EAAEc,mBAEN,MA6KMC,EAAWjT,UACb,MAAMkT,EAAKvE,KAAK0D,MAChBH,EAAEM,QAAUnD,KAAK8D,MAAM,IAA4B,IAAhB9D,KAAK+D,UACxCT,EAAI,iBAAiBT,EAAEmB,qBACvB,MAAMC,EAAyE,YAAvDpB,EAAEqB,SAASC,YAAY7b,MAAM,KAAK,GAAGJ,cAA8B,UAAY,QACvG,IACI,MAAMkc,QAAY,IAAMhB,EAAgBa,EAAiBpB,EAAEQ,eAAgB,CACvExb,OAAQ,OACRzE,QAAS,CACL,cAAewY,EAAWyI,UAC1B,OAAU,mBACV,eAAgB,oBAEpBxgB,KAAMkD,KAAK0U,UAAU,CACjB6I,QAASzB,EAAEqB,SAASI,QACpBC,GAAI1B,EAAEqB,SAASK,GACfpB,QAASN,EAAEM,QACXa,SAAUnB,EAAEmB,aAGdQ,QAAgBJ,EAAItd,OAC1B,GAAI0d,EAAQvB,MAAO,CACfJ,EAAEI,MAAQuB,EAAQvB,MAClBJ,EAAE4B,SAAU,EACZ,MAAMC,QAAsBC,EAAU/I,EAAWgJ,aAC3CC,EAAUvF,KAAK0D,MAAQa,EAC7B,QAAIa,EAAcI,UACdxB,EAAI,4BAA8BuB,EAAU,OACrC,GAOX,OAAO,EAGf,MAAOtgB,GAEH,OADAoY,QAAQpY,MAAMA,IACP,IAGTogB,EAAYhU,MAAOoU,EAAUlhB,KAC1Bgf,EAAE4B,eACGb,IAEV,MAAMK,EAAyE,YAAvDpB,EAAEqB,SAASC,YAAY7b,MAAM,KAAK,GAAGJ,cAA8B,UAAY,QACjGkc,QAAY,IAAMhB,EAAgBa,EAAiBpB,EAAEQ,eAAgB,CACvExb,OAAQ,OACRzE,QAAS,CACL,cAAe2hB,EACf,OAAU,mBACV,eAAgB,oBAEpBlhB,KAAMkD,KAAK0U,UAAU,CACjBuJ,MAAOlC,OACJjf,MAGL2gB,QAAgBJ,EAAItd,OAC1B,GAAI,GAAG/F,eAAe1B,KAAKmlB,EAAS,cAAgB,GAAGzjB,eAAe1B,KAAKmlB,EAAS,QAAS,CACzF,GAA0B,iBAAtBA,EAAQS,UAA8B,CACtC,GAAwB,YAApBhB,EACA,IACI,MAAMiB,QAAgBP,EAAU/I,EAAWuJ,cAAe,CACtDzB,aAAcb,EAAEa,aAChBT,MAAOJ,EAAEI,QAEb,GAAIiC,EAAQJ,QAGR,OAFAjC,EAAEI,MAAQiC,EAAQE,KAAKnC,MACvBJ,EAAEc,mBACKgB,EAAUI,EAAUlhB,GAG3B,MAAM,IAAIqC,MAAMgf,EAAQE,MAAQ,SAGxC,MAAO7gB,GAEH,OADAkf,IACO,CACHqB,SAAS,EACTM,KAAM7gB,EAAM+E,SAAW/E,cAKzBqf,IAEV,OAAOe,EAAUI,EAAUlhB,GAE1B,CACD,MAAMwF,EAAM,IAAInD,MAAMse,EAAQ3gB,MAAQ2gB,EAAQS,WAAaT,EAAQa,MAAQ,SAE3E,MADAhc,EAAIic,UAAYd,EAAQS,WAAaT,EAAQa,KACvChc,GAIV,MAAO,CACHyb,QAASN,EAAQM,QACjBM,KAAMZ,EAAQ3gB,OAIpB0hB,EAAsB5U,MAAO/J,EAAU4e,KACpC3C,EAAE4B,eACGb,IAEV,MAAM6B,EAAkB3C,IAClB4C,EAAiB,CACnB,WAAYD,EAAgBxC,MAC5B,gBAAiBwC,EAAgBvC,WACjC,SAAUuC,EAAgBzC,KAExBiB,EAAyE,YAAvDpB,EAAEqB,SAASC,YAAY7b,MAAM,KAAK,GAAGJ,cAA8B,UAAY,QACjGkc,QAAY,IAAMhB,EAAgBa,EAAiBpB,EAAEQ,eAAgB,CACvExb,OAAQ,OACRzE,QAAS,CACL,cAAewY,EAAW+J,qBACvBH,KACAE,GAEP7hB,KAAM+C,IAEJ4d,QAAgBJ,EAAItd,OAC1B,GAAI,GAAG/F,eAAe1B,KAAKmlB,EAAS,cAAgB,GAAGzjB,eAAe1B,KAAKmlB,EAAS,QAAS,CACzF,GAA0B,iBAAtBA,EAAQS,UAA8B,CACtC,GAAwB,YAApBhB,EACA,IACI,MAAMiB,QAAgBP,EAAU/I,EAAWuJ,cAAe,CACtDzB,aAAcb,EAAEa,aAChBT,MAAOJ,EAAEI,QAEb,GAAIiC,EAAQJ,QAGR,OAFAjC,EAAEI,MAAQiC,EAAQE,KAAKnC,MACvBJ,EAAEc,mBACK4B,EAAoB3e,EAAU4e,GAGrC,MAAM,IAAItf,MAAMgf,EAAQE,MAAQ,SAGxC,MAAO7gB,GAEH,OADAkf,IACO,CACHqB,SAAS,EACTM,KAAM7gB,EAAM+E,SAAW/E,cAKzBqf,IAEV,OAAO2B,EAAoB3e,EAAU4e,GAEpC,CACD,MAAMnc,EAAM,IAAInD,MAAMse,EAAQ3gB,MAAQ2gB,EAAQS,WAAaT,EAAQa,MAAQ,SAE3E,MADAhc,EAAIic,UAAYd,EAAQS,WAAaT,EAAQa,KACvChc,GAIV,MAAO,CACHyb,QAASN,EAAQM,QACjBM,KAAMZ,EAAQ3gB,OAI1B,MAAO,CACH+f,WACAe,YACAY,sBACAK,OArRWjV,MAAOkV,EAAWC,EAAUC,KACvC,IACI,MAAMC,QAAkBrB,EAAU/I,EAAWqK,QAAS,CAClDJ,YACAC,WACAC,mBAEJ,MAAO,CACHjB,QAASkB,EAAUlB,QACnBxb,QAAS0c,EAAUZ,MAG3B,MAAO7gB,GACH,MAAO,CACHugB,SAAS,EACTxb,QAAS/E,EAAM+E,SAAW,QAC1Bgc,UAAW/gB,EAAM+gB,gBAAapiB,KAsQtCgjB,iBAhVqBvV,MAAOlQ,EAAKN,KACjC,IACI,MAAMgmB,QAAoBxB,EAAU/I,EAAWwK,cAAe,CAC1D3lB,MACAN,UAEJ,MAAO,CACH2kB,QAASqB,EAAYrB,QACrBxb,QAASvC,KAAK0U,UAAU0K,EAAYf,OAG5C,MAAO7gB,GACH,MAAO,CACHugB,SAAS,EACTxb,QAAS/E,EAAM+E,SAAW,QAC1Bgc,UAAW/gB,EAAM+gB,gBAAapiB,KAkUtCmjB,kBA3VsB1V,UACtB,IAEI,aADuBgU,EAAU/I,EAAW0K,kBAC5BlB,KAEpB,MAAO7gB,GAEH,OADA+e,EAAI/e,GACGA,IAqVXgiB,eApLmB,IAAM1D,EAAEI,MAAMzc,OAAS,EAqL1CggB,OArQW7V,MAAO8V,EAAQX,KAC1B,MAAMjC,EAAKvE,KAAK0D,MAChBH,EAAEM,QAAUnD,KAAK8D,MAAM,IAA4B,IAAhB9D,KAAK+D,UACxC,MAAME,EAAyE,YAAvDpB,EAAEqB,SAASC,YAAY7b,MAAM,KAAK,GAAGJ,cAA8B,UAAY,QACvG,IACI,MAAMkc,QAAY,IAAMhB,EAAgBa,EAAiBpB,EAAEQ,eAAgB,CACvExb,OAAQ,OACRzE,QAAS,CACL,cAAewY,EAAWyI,UAC1B,OAAU,mBACV,eAAgB,oBAEpBxgB,KAAMkD,KAAK0U,UAAU,CACjB6I,QAASzB,EAAEqB,SAASI,QACpBnB,QAASN,EAAEM,QACXa,SAAUnB,EAAEmB,SACZyC,SACAX,eAGFtB,QAAgBJ,EAAItd,OAC1B,GAAI0d,EAAQvB,MAAO,CACfJ,EAAEI,MAAQuB,EAAQvB,MAClBJ,EAAEa,aAAec,EAAQd,aACzBb,EAAEc,mBACFd,EAAE4B,SAAU,EACZ,MAAMC,QAAsBC,EAAU/I,EAAWgJ,aAC3CC,EAAUvF,KAAK0D,MAAQa,EAC7B,OAAIa,EAAcI,SACdxB,EAAI,4BAA8BuB,EAAU,MACrC,CACHC,SAAS,EACTxb,QAAS,gCAIN,CACHwb,SAAS,EACTxb,QAAS,0BAKjB,MAAO,CACHwb,SAAS,EACTxb,QAAS,yBACTgc,UAAWd,EAAQS,gBAAa/hB,GAI5C,MAAOqB,GACH,MAAO,CACHugB,SAAS,EACTxb,QAAS/E,EAAM+E,SAAW,yBAC1Bgc,UAAW/gB,EAAM+gB,gBAAapiB,KAgNtCwjB,QArLY,KACZ7D,EAAEI,MAAQ,GACVJ,EAAEc,oBAoLFgD,kBA7MsBhW,MAAOiW,IAC7B,GAA2B,iBAAhBA,GAA4BA,EAAYpgB,OAAS,IACxD,MAAO,CACHse,SAAS,EACTxb,QAAS,sCAGjB,IACI,MAAM6c,QAAoBxB,EAAU/I,EAAWiL,eAAgB,CAAED,gBACjE,MAAO,CACH9B,QAASqB,EAAYrB,QACrBxb,QAASvC,KAAK0U,UAAU0K,EAAYf,OAG5C,MAAO7gB,GACH,MAAO,CACHugB,SAAS,EACTxb,QAAS/E,EAAM+E,SAAW,QAC1Bgc,UAAW/gB,EAAM+gB,gBAAapiB,KA4LtC4jB,eAnUmBnW,MAAOoW,EAAUC,KACpC,IACI,MAAMb,QAAoBxB,EAAU/I,EAAWqL,qBAAsB,CACjEF,WACAC,kBAEJ,MAAO,CACHlC,QAASqB,EAAYrB,QACrBxb,QAAS6c,EAAYf,MAG7B,MAAO7gB,GACH,MAAO,CACHugB,SAAS,EACTxb,QAAS/E,EAAM+E,SAAW,QAC1Bgc,UAAW/gB,EAAM+gB,gBAAapiB,KAqTtCgkB,sBAjT0BvW,MAAO0U,EAAM0B,EAAUH,KACjD,IACI,MAAMT,QAAoBxB,EAAU/I,EAAWuL,wBAAyB,CACpEJ,WACA1B,OACAuB,gBAEJ,MAAO,CACH9B,QAASqB,EAAYrB,QACrBxb,QAAS6c,EAAYf,MAG7B,MAAO7gB,GACH,MAAO,CACHugB,SAAS,EACTxb,QAAS/E,EAAM+E,SAAW,QAC1Bgc,UAAW/gB,EAAM+gB,gBAAapiB,M,oBClE/B,SAASkkB,GAAiB,SAAElD,EAAQ,QAAEtc,IACjD,MAAMib,EJLC,IAAK9G,IIMN,UAAE4I,EAAS,oBAAEY,EAAmB,OAAEK,EAAM,iBAAEM,EAAgB,kBAAEG,EAAiB,eAAEE,EAAc,OAAEC,EAAM,QAAEE,EAAO,kBAAEC,EAAiB,eAAEG,EAAc,sBAAEI,GAA0B1D,EAAYX,IACzL,MAAEwE,EAAK,cAAEC,EAAa,WAAEC,GCVnB,SAAsB3E,GACjC,MAAMC,EAAID,GAAW,GACf,UAAE+B,GAAcnB,EAAYX,GAgClC,MAAO,CACHwE,MAhCU1W,MAAO/I,IACjB,MAGM4f,EAAc,CAFhBC,UAAW,MAE6B7f,GACtCwc,QAAYO,EAAU/I,EAAW8L,UAAWF,GAClD,OAAIpD,EAAIU,QACGV,EAAIgB,KAGJ,IAuBXkC,cApBJ3W,eAA6BE,GACzB,MAAMuT,QAAYO,EAAU/I,EAAW+L,WAAY9W,EAAY,CAAEA,aAAc,IAC/E,OAAIuT,EAAIU,QACGV,EAAIgB,KAGJ,GAeXmC,WAZJ5W,eAA0BE,GACtB,MAAMuT,QAAYO,EAAU/I,EAAWgM,aAAc/W,EAAY,CAAEA,aAAc,IACjF,OAAIuT,EAAIU,QACGV,EAAIgB,KAGJ,KDrB8ByC,CAAahF,IACpD,GAAEiF,EAAE,gBAAEC,EAAe,EAAEjmB,GEVlB,SAAmB8gB,GAC9B,MAAMC,EAAID,GAAW,GACf,UAAE+B,GAAcnB,EAAYX,GAClC,IAAImF,EAAiB,EACrB,MAAMC,EAAa,GACnB,SAASC,KAAiB7W,GACtB,IAAK,MAAM8W,KAAMvoB,OAAO2H,OAAO0gB,GAC3BE,KAAM9W,GAGd,MAOML,EAAcL,MAAOyX,EAAKvX,EAAWC,KACvCsX,EAAI3V,MAAQ,MACZ2V,EAAIvX,UAAYA,EACZC,IACAsX,EAAItX,0BAA4BA,GACpCoX,EAAcrM,EAAUwM,QAASD,EAAIpiB,KAAM8V,EAAcwM,IAAmB,YAAdzX,EAA0BA,EAAY,MACpG,IACI,MAAMuT,QAAYO,EAAU/I,EAAW2M,QAASH,GAChD,OAAIhE,EAAIU,SACJoD,EAAcrM,EAAU2M,QAASJ,EAAIpiB,KAAM8V,EAAcwM,IAAmB,YAAdzX,EAA0BA,EAAY,KAAMuT,EAAIgB,MACvGhB,EAAIgB,OAGX8C,EAAcrM,EAAU4M,MAAOL,EAAIpiB,KAAM8V,EAAcwM,IAAmB,YAAdzX,EAA0BA,EAAY,MAC3FuT,GAGf,MAAO7f,GAGH,OAFAoY,QAAQC,KAAKrY,GACb2jB,EAAcrM,EAAU4M,MAAOL,EAAIpiB,KAAM8V,EAAcwM,IAAmB,YAAdzX,EAA0BA,EAAY,MAC3F,KAGTD,EAAcD,MAAOyX,EAAKvX,EAAWC,KACvCsX,EAAI3V,MAAQ,MACZ2V,EAAIvX,UAAYA,EACZC,IACAsX,EAAItX,0BAA4BA,GACpCoX,EAAcrM,EAAUwM,QAASD,EAAIpiB,KAAM8V,EAAc4M,IAAmB,YAAd7X,EAA0BA,EAAY,MACpG,IACI,MAAMuT,QAAYO,EAAU/I,EAAW2M,QAASH,GAChD,OAAIhE,EAAIU,SACJoD,EAAcrM,EAAU2M,QAASJ,EAAIpiB,KAAM8V,EAAc4M,IAAmB,YAAd7X,EAA0BA,EAAY,KAAMuT,EAAIgB,MACvGhB,EAAIgB,OAGX8C,EAAcrM,EAAU4M,MAAOL,EAAIpiB,KAAM8V,EAAc4M,IAAmB,YAAd7X,EAA0BA,EAAY,MAC3FuT,GAGf,MAAO7f,GAGH,OAFAoY,QAAQC,KAAKrY,GACb2jB,EAAcrM,EAAU4M,MAAOL,EAAIpiB,KAAM8V,EAAc4M,IAAmB,YAAd7X,EAA0BA,EAAY,MAC3F,KAWf,MAAO,CACHiX,GATO,CAACjX,EAAWC,IACfD,GAAkC,iBAAdA,EACb,IAAO,CAAEG,cAAaJ,cAAaE,4BAA2BD,UAAWA,EAAU3I,eAAnF,CAAoG2I,EAAUrI,QAAQ,gBAAiB,KAAKN,eAG5I,IAAO,CAAE8I,cAAaJ,cAAaE,4BAA2BD,UAAW,WAAzE,CAAsF,WAKjGkX,gBA/DqB5gB,IACrB,MAAMwhB,EAAU,GAAKX,IAErB,OADAC,EAAWU,GAAWxhB,EACf,YACI8gB,EAAWU,KA4DtB7mB,EAAG,MAASA,GFhEmB8mB,CAAU/F,IACvC,IAAES,GAAQX,EAAaE,GAC7B,GAAwB,iBAAbqB,GAAP,MAAgCA,EAEhC,YADAvH,QAAQpY,MAAM,6GAGb,IAAK2f,EAASC,YAEf,YADAxH,QAAQpY,MAAM,wFAIe,oBAAbskB,YAA8BA,SAAuB,cAErElM,QAAQpY,MAAM,6FAElBse,EAAEjb,QAAU,IAAKA,GACjBib,EAAEQ,cAAgBa,EAASC,YAC3BtB,EAAEqB,SAAWA,EACTrB,EAAEqB,SAASK,IAA6D,YAAvD1B,EAAEqB,SAASC,YAAY7b,MAAM,KAAK,GAAGJ,cACtD2a,EAAE4B,SAAU,EAGZ5B,EAAE4B,SAAU,EAEhB5B,EAAEmB,SAAW,OACb,IAAI8E,GAAsB,EACtBC,EAAsB,CACtB3a,OAAQ,EACRD,MAAO,GAEX,MAAM6a,EAAuB,GAC7B,IAAIC,EAAe,IAAIC,QACnBC,EAAmB,CACnB5M,QAAU6M,MACVlM,UAAW,QAEXmM,EAAS,GACTC,GAAY,EAShB,MA0EMC,EAAO5Y,UAiDT,GAAI2Y,EACA,MAAO,CACHxE,SAAS,EACTxb,QAAS,qGAIjB,GADAggB,GAAY,EACRR,GACIE,EAAqBxiB,OAAS,EAAG,CACjC8c,EAAI,iBAAkB0F,UACJrE,EAAU/I,EAAW4N,WAAY,CAC/CjgB,MAAOyf,KACJD,KAECjE,UACJkE,EAAqBxiB,OAAS,GAI1C,IACI,MAAM4d,QAAYO,EAAU/I,EAAW6N,UAAWV,GAGlD,OAAoB,IAAhB3E,EAAIU,SACJnI,QAAQpY,MAAM6f,EAAIgB,MAClBkE,GAAY,EACL,CACHxE,SAAS,EACTxb,QAAS,GAAK8a,EAAIgB,QAItB0D,GAAsB,EAhFP,CAACY,IACpB,IAAIC,GAAmB,EACvB,GAAID,EAAQljB,SAAW6iB,EAAO7iB,OAC1BmjB,GAAmB,OAGnB,IAAK,IAAIzqB,EAAI,EAAGA,EAAIwqB,EAAQljB,OAAQtH,IAAK,CACrC,MAAM0qB,EAAc,IAAKF,EAAQxqB,IAEjC,UADO0qB,EAAYC,KACd,IAAUD,EAAaP,EAAOnqB,IAAK,CACpCyqB,GAAmB,EACnB,OAIZ,IAAKA,EAAkB,CACnB,MAAMG,EAAW,IAAIT,GACrBS,EAAStjB,OAASkjB,EAAQljB,OAC1ByiB,EAAe,IAAIC,QACnB,IAAK,IAAIhqB,EAAI,EAAGA,EAAIwqB,EAAQljB,OAAQtH,IAAK,CACrC,MAAM6qB,EAAaL,EAAQxqB,GAC3B+pB,EAAa9jB,IAAI4kB,EAAYA,EAAWF,YACjCE,EAAWF,IAClBC,EAAS5qB,GAAK6qB,EAElBV,EAASS,EACTX,EAAiBjM,YACjBiM,EAAmB1G,EAAWjV,KAAK6b,GACnCF,EAAiB5M,QAASyN,IACtBA,EAAW1mB,QAASya,IAChBiL,EAAqB1hB,KAAK,CACtBtB,KAAM+X,EAAO/X,KACbmW,KAAM4B,EAAO5B,KACbhc,MAAO4d,EAAO5d,MACd0pB,IAAKZ,EAAalpB,IAAIspB,EAAOxO,OAAOkD,EAAO5B,KAAK,QAGpDmH,EAAIvc,KAAK0U,UAAU,CACfzV,KAAM+X,EAAO/X,KACbmW,KAAM4B,EAAO5B,KACbhc,MAAO4d,EAAO5d,MACd0pB,IAAKZ,EAAalpB,IAAIspB,EAAOxO,OAAOkD,EAAO5B,KAAK,eAwC5D8N,CAAe7F,EAAIgB,MACnBkE,GAAY,EACL,CACHhgB,QAAS,+BACTwb,SAAS,IAIrB,MAAOvgB,GAGH,OAFAoY,QAAQpY,MAAM,8BAA+BA,GAC7C+kB,GAAY,EACL,CACHxE,SAAS,EACTxb,QAAS,8BAAgC/E,EACzC+gB,UAAW/gB,EAAM+gB,gBAAapiB,KAgBpCgnB,EAA0BvZ,MAAO/I,EAAS5B,KAC5C,MAAMmkB,EAAed,EAAOvK,KAAKsL,GAAO,IAAUA,EAAKxiB,EAAQyiB,SAC/D,QAAqBnnB,IAAjBinB,IA5LiBE,EA4L8BF,GA5LjBlB,EAAalpB,IAAIsqB,IA8L/C,OADA/G,EAAI,yHACG,CACHwB,SAAS,EACTxb,QAAS,yHAhMG,IAAC+gB,EAmMrB,MAAMC,EAAM1iB,EAAQ2iB,WAAW9qB,KAAK6I,MAAM,KAAKqY,MAAMje,cAErD,GADA4gB,EAAIgH,GACS,UAATtkB,IAAqB,EAAgBwkB,SAASF,GAC9C,MAAO,CACHxF,SAAS,EACTxb,QAAS,mEAGjB,GAAa,UAATtD,IAAqB,EAAgBwkB,SAASF,GAC9C,MAAO,CACHxF,SAAS,EACTxb,QAAS,mEAMjB,MAAM1C,EAAW,IAAIjB,SACHiC,EAAQ2iB,WAHbE,IAIT7jB,EAASrD,OAAO,OAAQqE,EAAQ2iB,YAChC3jB,EAASrD,OAAO,OAAQqE,EAAQ2iB,WAAW9qB,MAM/C,MAAM+lB,EAAgB,CAClB,iBAAkBxf,EAClB,iBAAkB4B,EAAQuK,WAC1B,eAAgB8W,EAAalpB,IAAIoqB,GACjC,gBAAiBviB,EAAQiJ,WAEvBuT,QAAYmB,EAAoB3e,EAAU4e,GAEhD,aADM+D,IACC,CACHjgB,QAAS8a,EAAIgB,KACbN,QAASV,EAAIU,UA+BrB,MA5BU,CAEN4F,eA3OoB9iB,IACpBmhB,EAAsB,IAAKA,QACL7lB,IAAlB0E,EAAQuG,QACR4a,EAAoB5a,MAAQvG,EAAQuG,YACjBjL,IAAnB0E,EAAQwG,QAAwBxG,EAAQwG,QAAU,IAClD2a,EAAoB3a,OAASxG,EAAQwG,aACflL,IAAtB0E,EAAQiJ,YACRkY,EAAoBlY,UAAYjJ,EAAQiJ,WAC5CiY,GAAsB,EACf,CACHxf,QAAS,6EACTwb,SAAS,IAiOb6F,UA5Lcha,MAAO/I,IACrB,MAKM4f,EAAc,IALE,CAClBoD,aAAa,EACbC,UAAW,GACXha,eAAW3N,MAE4B0E,GAC3C,IACI,MAAMwc,QAAYO,EAAU/I,EAAWkP,YAAatD,GACpD,MAAO,CACHle,QAAS8a,EAAIgB,KACbN,QAASV,EAAIU,SAGrB,MAAOvgB,GAEH,OADAoY,QAAQpY,MAAM,oCAAqCA,GAC5C,CACH+E,QAAS,oCAAsC/E,EAC/CugB,SAAS,EACTQ,UAAW/gB,EAAM+gB,gBAAapiB,KA0KtC6nB,aA9NiBpa,MAAO/I,IACxB,MAAMuiB,EAAed,EAAOvK,KAAKsL,GAAO,IAAUA,EAAKxiB,EAAQyiB,SAC/D,GAAIF,GAAgBlB,EAAalpB,IAAIoqB,GAAe,CAChD,MAAM/F,QAAYO,EAAU/I,EAAWoP,YAAa,CAChDnB,IAAKZ,EAAalpB,IAAIoqB,GACtBtZ,UAAWjJ,EAAQiJ,YAEvB,MAAO,CACHiU,QAASV,EAAIU,QACbxb,QAAS8a,EAAIgB,MAIjB,IACI,MAAMhB,QAAYO,EAAU/I,EAAWoP,YAAa,CAChDX,OAAQziB,EAAQyiB,OAChBxZ,UAAWjJ,EAAQiJ,YAEvB,MAAO,CACHiU,QAASV,EAAIU,QACbxb,QAAS8a,EAAIgB,MAGrB,MAAO7gB,GAEH,OADAoY,QAAQpY,MAAM,uCAAwCA,GAC/C,CACHugB,SAAS,EACTxb,QAAS,uCAAyC/E,EAClD+gB,UAAW/gB,EAAM+gB,gBAAapiB,KAmM1CqmB,OACA0B,MAxPJ,SAAepJ,GACX,MAAqB,iBAAVA,EACAsH,EAAiBtH,GAGjBsH,GAoPX+B,qBAlOyB,KAAM,IAAMnC,IAoOrCoC,kBArEsBxa,MAAO/I,SACXsiB,EAAwBtiB,EAAS,SAqEnDwjB,kBAlEsBza,MAAO/I,SACXsiB,EAAwBtiB,EAAS,SAkEnDyjB,iBA/DqB1a,MAAO/I,SACVsiB,EAAwBtiB,EAAS,QA+DnD0f,gBACAC,aACAF,QACAd,iBACAC,SACAE,UACAd,SACAe,oBACAT,mBACAG,oBACAyB,KACAC,kBACAjmB,IACAglB,iBACAI,yBG9TR,MAAM,EAAkB,CAAClhB,EAAMqd,IAAkB,2BAA2Brd,KAAQqd,IAC9EiI,EAAYC,GAAWA,SAA2CvL,KAAK8D,MAAMyH,KAAYA,EACzFC,EAAeC,GAAcA,SAAsE,iBAAdA,EACrFC,EAAsBD,GAAcA,SAAsE,iBAAdA,EAC5FE,EAAeC,GAAWA,SAA6D,iBAAXA,EAQ3E,SAAS7rB,EAAI6H,GAChB,MAAMikB,EAAiB,CACnBxI,cAAe,GACfjV,YAAQlL,EACRiL,WAAOjL,EACP4oB,oBAAgB5oB,EAChB6oB,iBAAa7oB,IAEX,cAAEmgB,EAAa,OAAEjV,EAAM,MAAED,EAAK,eAAE2d,EAAc,YAAEC,GAAgB,IAAKF,KAAmBjkB,GAC9F,GAAI8jB,EAAmBrI,GACnB,MAAM,IAAInd,MAAM,kDACpB,GAAIolB,EAASld,GACT,MAAM,IAAIlI,MAAM,6BACpB,GAAIolB,EAASnd,GACT,MAAM,IAAIjI,MAAM,4BACpB,GAAIslB,EAAYM,GACZ,MAAM,IAAI5lB,MAAM,2CACpB,GAAIylB,EAAYI,GACZ,MAAM,IAAI7lB,MAAM,yCACpB,OAAO,IAAInC,QAAQ,CAACI,EAASH,KACzB,IACI,IAAIgoB,EAAa,GACU,iBAAhBD,IACPC,EAAa,IAAKD,SACP7oB,IAAXkL,IACA4d,EAAW5d,OAASA,QACVlL,IAAViL,IACA6d,EAAW7d,MAAQA,QACAjL,IAAnB4oB,IACAE,EAAWF,eAAiBA,GAChC,IAAM,EAAgB,MAAOzI,GAAgB,CACzCxb,OAAQ,OACRhE,KAAMkD,KAAK0U,UAAUuQ,GACrB5oB,QAAS,CACL,OAAU,mBACV,eAAgB,sBAGnBgD,KAAKge,GAAOA,EAAItd,QAChBV,KAAKoe,KACF,GAAGzjB,eAAe1B,KAAKmlB,EAAS,aAKhCrgB,EAAQqgB,IAJR7H,QAAQpY,MAAMigB,EAAQlb,SACtBnF,EAAQ,CAACqgB,EAAQlb,aAM7B,MAAOD,GACHrF,EAAOqF,MAUZ,SAAS4iB,EAAKrkB,GACjB,MAAMskB,EAAgB,CAClB7I,cAAe,GACfwH,eAAW3nB,EACX4oB,oBAAgB5oB,EAChB0nB,iBAAa1nB,IAEX,cAAEmgB,EAAa,UAAEwH,EAAS,eAAEiB,EAAc,YAAElB,GAAgB,IAAKsB,KAAkBtkB,GACzF,GAAI8jB,EAAmBrI,GACnB,MAAM,IAAInd,MAAM,kDACpB,GAAIylB,EAAYd,GACZ,MAAM,IAAI3kB,MAAM,8CACpB,GAAIslB,EAAYM,GACZ,MAAM,IAAI5lB,MAAM,2CACpB,GAhF2BimB,OAAZA,EAgFDvB,IAhF6E,kBAAZuB,EAiF3E,MAAM,IAAIjmB,MAAM,yCAjFN,IAACimB,EAkFf,OAAO,IAAIpoB,QAAQ,CAACI,EAASH,KACzB,IACI,MAAMgoB,EAAa,IAAKnB,QACD3nB,IAAnB4oB,IACAE,EAAWF,eAAiBA,QACZ5oB,IAAhB0nB,IACAoB,EAAWpB,YAAcA,GAC7B,IAAM,EAAgB,OAAQvH,GAAgB,CAC1Cxb,OAAQ,OACRhE,KAAMkD,KAAK0U,UAAUuQ,GACrB5oB,QAAS,CACL,OAAU,mBACV,eAAgB,sBAGnBgD,KAAKge,GAAOA,EAAItd,QAChBV,KAAKoe,KACF,IAAGzjB,eAAe1B,KAAKmlB,EAAS,cAChC7H,QAAQpY,MAAMigB,EAAQlb,SAC1BnF,EAAQqgB,KAGhB,MAAOnb,GACHrF,EAAOqF,MASZ,SAASmF,EAAO5G,GACnB,MAAMskB,EAAgB,CAClB7I,cAAe,GACf+I,kBAAclpB,EACd4oB,oBAAgB5oB,EAChB6oB,iBAAa7oB,IAEX,cAAEmgB,EAAa,aAAE+I,EAAY,eAAEN,EAAc,YAAEC,GAAgB,IAAKG,KAAkBtkB,GAC5F,GAAI8jB,EAAmBrI,GACnB,MAAM,IAAInd,MAAM,kDACpB,GAAIylB,EAAYS,SAAkClpB,IAAjBkpB,EAC7B,MAAM,IAAIlmB,MAAM,iDACpB,GAAIslB,EAAYM,GACZ,MAAM,IAAI5lB,MAAM,2CACpB,GAAIylB,EAAYI,GACZ,MAAM,IAAI7lB,MAAM,yCACpB,OAAO,IAAInC,QAAQ,CAACI,EAASH,KACzB,IACI,MAAMgoB,EAAa,CAAEI,kBAAiBL,QACf7oB,IAAnB4oB,IACAE,EAAWF,eAAiBA,GAChC,IAAM,EAAgB,SAAUzI,GAAgB,CAC5Cxb,OAAQ,OACRhE,KAAMkD,KAAK0U,UAAUuQ,GACrB5oB,QAAS,CACL,OAAU,mBACV,eAAgB,sBAGnBgD,KAAKge,GAAOA,EAAItd,QAChBV,KAAKoe,KACF,IAAGzjB,eAAe1B,KAAKmlB,EAAS,cAChC7H,QAAQpY,MAAMigB,EAAQlb,SAC1BnF,EAAQqgB,EAAQlb,WAGxB,MAAOD,GACHrF,EAAOqF,MASZ,SAASgjB,EAAOzkB,GACnB,MAAMskB,EAAgB,CAClB7I,cAAe,GACfyI,oBAAgB5oB,EAChB6oB,iBAAa7oB,IAEX,cAAEmgB,EAAa,eAAEyI,EAAc,YAAEC,GAAgB,IAAKG,KAAkBtkB,GAC9E,GAAI8jB,EAAmBrI,GACnB,MAAM,IAAInd,MAAM,kDACpB,GAAIslB,EAAYM,GACZ,MAAM,IAAI5lB,MAAM,2CACpB,GAAIylB,EAAYI,GACZ,MAAM,IAAI7lB,MAAM,yCACpB,OAAO,IAAInC,QAAQ,CAACI,EAASH,KACzB,IACI,MAAMgoB,EAAa,IAAKD,QACD7oB,IAAnB4oB,IACAE,EAAWF,eAAiBA,GAChC,IAAM,EAAgB,SAAUzI,GAAgB,CAC5Cxb,OAAQ,OACRhE,KAAMkD,KAAK0U,UAAUuQ,GACrB5oB,QAAS,CACL,OAAU,mBACV,eAAgB,sBAGnBgD,KAAKge,GAAOA,EAAItd,QAChBV,KAAKoe,KACF,IAAGzjB,eAAe1B,KAAKmlB,EAAS,cAChC7H,QAAQpY,MAAMigB,EAAQlb,SAC1BnF,EAAQqgB,EAAQlb,WAGxB,MAAOD,GACHrF,EAAOqF,MAWZsH,eAAe2b,EAAaC,EAAOC,GACtC,MAAMpI,QAAY,IAAM,EAAgB,WAAYmI,EAAMjkB,MAAM,KAAKqY,OAAQ,CACzE9Y,OAAQ,OACRzE,QAAS,CACL,eAAgB,oBAEpBS,KAAMkD,KAAK0U,UAAU+Q,IAAa,KAGtC,aAD0BpI,EAAI/d","file":"bundle.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"EasyBase\"] = factory();\n\telse\n\t\troot[\"EasyBase\"] = factory();\n})(window, function() {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 45);\n","const buildUtils = require('./build_utils')\nconst changeCase = require('./change_case')\nconst taggedTemplate = require('./tagged_template')\n\nmodule.exports = {\n  ...buildUtils,\n  ...changeCase,\n  ...taggedTemplate\n}","var global = typeof self !== 'undefined' ? self : this;\nvar __self__ = (function () {\nfunction F() {\nthis.fetch = false;\nthis.DOMException = global.DOMException\n}\nF.prototype = global;\nreturn new F();\n})();\n(function(self) {\n\nvar irrelevant = (function (exports) {\n\n  var support = {\n    searchParams: 'URLSearchParams' in self,\n    iterable: 'Symbol' in self && 'iterator' in Symbol,\n    blob:\n      'FileReader' in self &&\n      'Blob' in self &&\n      (function() {\n        try {\n          new Blob();\n          return true\n        } catch (e) {\n          return false\n        }\n      })(),\n    formData: 'FormData' in self,\n    arrayBuffer: 'ArrayBuffer' in self\n  };\n\n  function isDataView(obj) {\n    return obj && DataView.prototype.isPrototypeOf(obj)\n  }\n\n  if (support.arrayBuffer) {\n    var viewClasses = [\n      '[object Int8Array]',\n      '[object Uint8Array]',\n      '[object Uint8ClampedArray]',\n      '[object Int16Array]',\n      '[object Uint16Array]',\n      '[object Int32Array]',\n      '[object Uint32Array]',\n      '[object Float32Array]',\n      '[object Float64Array]'\n    ];\n\n    var isArrayBufferView =\n      ArrayBuffer.isView ||\n      function(obj) {\n        return obj && viewClasses.indexOf(Object.prototype.toString.call(obj)) > -1\n      };\n  }\n\n  function normalizeName(name) {\n    if (typeof name !== 'string') {\n      name = String(name);\n    }\n    if (/[^a-z0-9\\-#$%&'*+.^_`|~]/i.test(name)) {\n      throw new TypeError('Invalid character in header field name')\n    }\n    return name.toLowerCase()\n  }\n\n  function normalizeValue(value) {\n    if (typeof value !== 'string') {\n      value = String(value);\n    }\n    return value\n  }\n\n  // Build a destructive iterator for the value list\n  function iteratorFor(items) {\n    var iterator = {\n      next: function() {\n        var value = items.shift();\n        return {done: value === undefined, value: value}\n      }\n    };\n\n    if (support.iterable) {\n      iterator[Symbol.iterator] = function() {\n        return iterator\n      };\n    }\n\n    return iterator\n  }\n\n  function Headers(headers) {\n    this.map = {};\n\n    if (headers instanceof Headers) {\n      headers.forEach(function(value, name) {\n        this.append(name, value);\n      }, this);\n    } else if (Array.isArray(headers)) {\n      headers.forEach(function(header) {\n        this.append(header[0], header[1]);\n      }, this);\n    } else if (headers) {\n      Object.getOwnPropertyNames(headers).forEach(function(name) {\n        this.append(name, headers[name]);\n      }, this);\n    }\n  }\n\n  Headers.prototype.append = function(name, value) {\n    name = normalizeName(name);\n    value = normalizeValue(value);\n    var oldValue = this.map[name];\n    this.map[name] = oldValue ? oldValue + ', ' + value : value;\n  };\n\n  Headers.prototype['delete'] = function(name) {\n    delete this.map[normalizeName(name)];\n  };\n\n  Headers.prototype.get = function(name) {\n    name = normalizeName(name);\n    return this.has(name) ? this.map[name] : null\n  };\n\n  Headers.prototype.has = function(name) {\n    return this.map.hasOwnProperty(normalizeName(name))\n  };\n\n  Headers.prototype.set = function(name, value) {\n    this.map[normalizeName(name)] = normalizeValue(value);\n  };\n\n  Headers.prototype.forEach = function(callback, thisArg) {\n    for (var name in this.map) {\n      if (this.map.hasOwnProperty(name)) {\n        callback.call(thisArg, this.map[name], name, this);\n      }\n    }\n  };\n\n  Headers.prototype.keys = function() {\n    var items = [];\n    this.forEach(function(value, name) {\n      items.push(name);\n    });\n    return iteratorFor(items)\n  };\n\n  Headers.prototype.values = function() {\n    var items = [];\n    this.forEach(function(value) {\n      items.push(value);\n    });\n    return iteratorFor(items)\n  };\n\n  Headers.prototype.entries = function() {\n    var items = [];\n    this.forEach(function(value, name) {\n      items.push([name, value]);\n    });\n    return iteratorFor(items)\n  };\n\n  if (support.iterable) {\n    Headers.prototype[Symbol.iterator] = Headers.prototype.entries;\n  }\n\n  function consumed(body) {\n    if (body.bodyUsed) {\n      return Promise.reject(new TypeError('Already read'))\n    }\n    body.bodyUsed = true;\n  }\n\n  function fileReaderReady(reader) {\n    return new Promise(function(resolve, reject) {\n      reader.onload = function() {\n        resolve(reader.result);\n      };\n      reader.onerror = function() {\n        reject(reader.error);\n      };\n    })\n  }\n\n  function readBlobAsArrayBuffer(blob) {\n    var reader = new FileReader();\n    var promise = fileReaderReady(reader);\n    reader.readAsArrayBuffer(blob);\n    return promise\n  }\n\n  function readBlobAsText(blob) {\n    var reader = new FileReader();\n    var promise = fileReaderReady(reader);\n    reader.readAsText(blob);\n    return promise\n  }\n\n  function readArrayBufferAsText(buf) {\n    var view = new Uint8Array(buf);\n    var chars = new Array(view.length);\n\n    for (var i = 0; i < view.length; i++) {\n      chars[i] = String.fromCharCode(view[i]);\n    }\n    return chars.join('')\n  }\n\n  function bufferClone(buf) {\n    if (buf.slice) {\n      return buf.slice(0)\n    } else {\n      var view = new Uint8Array(buf.byteLength);\n      view.set(new Uint8Array(buf));\n      return view.buffer\n    }\n  }\n\n  function Body() {\n    this.bodyUsed = false;\n\n    this._initBody = function(body) {\n      this._bodyInit = body;\n      if (!body) {\n        this._bodyText = '';\n      } else if (typeof body === 'string') {\n        this._bodyText = body;\n      } else if (support.blob && Blob.prototype.isPrototypeOf(body)) {\n        this._bodyBlob = body;\n      } else if (support.formData && FormData.prototype.isPrototypeOf(body)) {\n        this._bodyFormData = body;\n      } else if (support.searchParams && URLSearchParams.prototype.isPrototypeOf(body)) {\n        this._bodyText = body.toString();\n      } else if (support.arrayBuffer && support.blob && isDataView(body)) {\n        this._bodyArrayBuffer = bufferClone(body.buffer);\n        // IE 10-11 can't handle a DataView body.\n        this._bodyInit = new Blob([this._bodyArrayBuffer]);\n      } else if (support.arrayBuffer && (ArrayBuffer.prototype.isPrototypeOf(body) || isArrayBufferView(body))) {\n        this._bodyArrayBuffer = bufferClone(body);\n      } else {\n        this._bodyText = body = Object.prototype.toString.call(body);\n      }\n\n      if (!this.headers.get('content-type')) {\n        if (typeof body === 'string') {\n          this.headers.set('content-type', 'text/plain;charset=UTF-8');\n        } else if (this._bodyBlob && this._bodyBlob.type) {\n          this.headers.set('content-type', this._bodyBlob.type);\n        } else if (support.searchParams && URLSearchParams.prototype.isPrototypeOf(body)) {\n          this.headers.set('content-type', 'application/x-www-form-urlencoded;charset=UTF-8');\n        }\n      }\n    };\n\n    if (support.blob) {\n      this.blob = function() {\n        var rejected = consumed(this);\n        if (rejected) {\n          return rejected\n        }\n\n        if (this._bodyBlob) {\n          return Promise.resolve(this._bodyBlob)\n        } else if (this._bodyArrayBuffer) {\n          return Promise.resolve(new Blob([this._bodyArrayBuffer]))\n        } else if (this._bodyFormData) {\n          throw new Error('could not read FormData body as blob')\n        } else {\n          return Promise.resolve(new Blob([this._bodyText]))\n        }\n      };\n\n      this.arrayBuffer = function() {\n        if (this._bodyArrayBuffer) {\n          return consumed(this) || Promise.resolve(this._bodyArrayBuffer)\n        } else {\n          return this.blob().then(readBlobAsArrayBuffer)\n        }\n      };\n    }\n\n    this.text = function() {\n      var rejected = consumed(this);\n      if (rejected) {\n        return rejected\n      }\n\n      if (this._bodyBlob) {\n        return readBlobAsText(this._bodyBlob)\n      } else if (this._bodyArrayBuffer) {\n        return Promise.resolve(readArrayBufferAsText(this._bodyArrayBuffer))\n      } else if (this._bodyFormData) {\n        throw new Error('could not read FormData body as text')\n      } else {\n        return Promise.resolve(this._bodyText)\n      }\n    };\n\n    if (support.formData) {\n      this.formData = function() {\n        return this.text().then(decode)\n      };\n    }\n\n    this.json = function() {\n      return this.text().then(JSON.parse)\n    };\n\n    return this\n  }\n\n  // HTTP methods whose capitalization should be normalized\n  var methods = ['DELETE', 'GET', 'HEAD', 'OPTIONS', 'POST', 'PUT'];\n\n  function normalizeMethod(method) {\n    var upcased = method.toUpperCase();\n    return methods.indexOf(upcased) > -1 ? upcased : method\n  }\n\n  function Request(input, options) {\n    options = options || {};\n    var body = options.body;\n\n    if (input instanceof Request) {\n      if (input.bodyUsed) {\n        throw new TypeError('Already read')\n      }\n      this.url = input.url;\n      this.credentials = input.credentials;\n      if (!options.headers) {\n        this.headers = new Headers(input.headers);\n      }\n      this.method = input.method;\n      this.mode = input.mode;\n      this.signal = input.signal;\n      if (!body && input._bodyInit != null) {\n        body = input._bodyInit;\n        input.bodyUsed = true;\n      }\n    } else {\n      this.url = String(input);\n    }\n\n    this.credentials = options.credentials || this.credentials || 'same-origin';\n    if (options.headers || !this.headers) {\n      this.headers = new Headers(options.headers);\n    }\n    this.method = normalizeMethod(options.method || this.method || 'GET');\n    this.mode = options.mode || this.mode || null;\n    this.signal = options.signal || this.signal;\n    this.referrer = null;\n\n    if ((this.method === 'GET' || this.method === 'HEAD') && body) {\n      throw new TypeError('Body not allowed for GET or HEAD requests')\n    }\n    this._initBody(body);\n  }\n\n  Request.prototype.clone = function() {\n    return new Request(this, {body: this._bodyInit})\n  };\n\n  function decode(body) {\n    var form = new FormData();\n    body\n      .trim()\n      .split('&')\n      .forEach(function(bytes) {\n        if (bytes) {\n          var split = bytes.split('=');\n          var name = split.shift().replace(/\\+/g, ' ');\n          var value = split.join('=').replace(/\\+/g, ' ');\n          form.append(decodeURIComponent(name), decodeURIComponent(value));\n        }\n      });\n    return form\n  }\n\n  function parseHeaders(rawHeaders) {\n    var headers = new Headers();\n    // Replace instances of \\r\\n and \\n followed by at least one space or horizontal tab with a space\n    // https://tools.ietf.org/html/rfc7230#section-3.2\n    var preProcessedHeaders = rawHeaders.replace(/\\r?\\n[\\t ]+/g, ' ');\n    preProcessedHeaders.split(/\\r?\\n/).forEach(function(line) {\n      var parts = line.split(':');\n      var key = parts.shift().trim();\n      if (key) {\n        var value = parts.join(':').trim();\n        headers.append(key, value);\n      }\n    });\n    return headers\n  }\n\n  Body.call(Request.prototype);\n\n  function Response(bodyInit, options) {\n    if (!options) {\n      options = {};\n    }\n\n    this.type = 'default';\n    this.status = options.status === undefined ? 200 : options.status;\n    this.ok = this.status >= 200 && this.status < 300;\n    this.statusText = 'statusText' in options ? options.statusText : 'OK';\n    this.headers = new Headers(options.headers);\n    this.url = options.url || '';\n    this._initBody(bodyInit);\n  }\n\n  Body.call(Response.prototype);\n\n  Response.prototype.clone = function() {\n    return new Response(this._bodyInit, {\n      status: this.status,\n      statusText: this.statusText,\n      headers: new Headers(this.headers),\n      url: this.url\n    })\n  };\n\n  Response.error = function() {\n    var response = new Response(null, {status: 0, statusText: ''});\n    response.type = 'error';\n    return response\n  };\n\n  var redirectStatuses = [301, 302, 303, 307, 308];\n\n  Response.redirect = function(url, status) {\n    if (redirectStatuses.indexOf(status) === -1) {\n      throw new RangeError('Invalid status code')\n    }\n\n    return new Response(null, {status: status, headers: {location: url}})\n  };\n\n  exports.DOMException = self.DOMException;\n  try {\n    new exports.DOMException();\n  } catch (err) {\n    exports.DOMException = function(message, name) {\n      this.message = message;\n      this.name = name;\n      var error = Error(message);\n      this.stack = error.stack;\n    };\n    exports.DOMException.prototype = Object.create(Error.prototype);\n    exports.DOMException.prototype.constructor = exports.DOMException;\n  }\n\n  function fetch(input, init) {\n    return new Promise(function(resolve, reject) {\n      var request = new Request(input, init);\n\n      if (request.signal && request.signal.aborted) {\n        return reject(new exports.DOMException('Aborted', 'AbortError'))\n      }\n\n      var xhr = new XMLHttpRequest();\n\n      function abortXhr() {\n        xhr.abort();\n      }\n\n      xhr.onload = function() {\n        var options = {\n          status: xhr.status,\n          statusText: xhr.statusText,\n          headers: parseHeaders(xhr.getAllResponseHeaders() || '')\n        };\n        options.url = 'responseURL' in xhr ? xhr.responseURL : options.headers.get('X-Request-URL');\n        var body = 'response' in xhr ? xhr.response : xhr.responseText;\n        resolve(new Response(body, options));\n      };\n\n      xhr.onerror = function() {\n        reject(new TypeError('Network request failed'));\n      };\n\n      xhr.ontimeout = function() {\n        reject(new TypeError('Network request failed'));\n      };\n\n      xhr.onabort = function() {\n        reject(new exports.DOMException('Aborted', 'AbortError'));\n      };\n\n      xhr.open(request.method, request.url, true);\n\n      if (request.credentials === 'include') {\n        xhr.withCredentials = true;\n      } else if (request.credentials === 'omit') {\n        xhr.withCredentials = false;\n      }\n\n      if ('responseType' in xhr && support.blob) {\n        xhr.responseType = 'blob';\n      }\n\n      request.headers.forEach(function(value, name) {\n        xhr.setRequestHeader(name, value);\n      });\n\n      if (request.signal) {\n        request.signal.addEventListener('abort', abortXhr);\n\n        xhr.onreadystatechange = function() {\n          // DONE (success or failure)\n          if (xhr.readyState === 4) {\n            request.signal.removeEventListener('abort', abortXhr);\n          }\n        };\n      }\n\n      xhr.send(typeof request._bodyInit === 'undefined' ? null : request._bodyInit);\n    })\n  }\n\n  fetch.polyfill = true;\n\n  if (!self.fetch) {\n    self.fetch = fetch;\n    self.Headers = Headers;\n    self.Request = Request;\n    self.Response = Response;\n  }\n\n  exports.Headers = Headers;\n  exports.Request = Request;\n  exports.Response = Response;\n  exports.fetch = fetch;\n\n  Object.defineProperty(exports, '__esModule', { value: true });\n\n  return exports;\n\n}({}));\n})(__self__);\n__self__.fetch.ponyfill = true;\n// Remove \"polyfill\" property added by whatwg-fetch\ndelete __self__.fetch.polyfill;\n// Choose between native implementation (global) or custom implementation (__self__)\n// var ctx = global.fetch ? global : __self__;\nvar ctx = __self__; // this line disable service worker support temporarily\nexports = ctx.fetch // To enable: import fetch from 'cross-fetch'\nexports.default = ctx.fetch // For TypeScript consumers without esModuleInterop.\nexports.fetch = ctx.fetch // To enable: import {fetch} from 'cross-fetch'\nexports.Headers = ctx.Headers\nexports.Request = ctx.Request\nexports.Response = ctx.Response\nmodule.exports = exports\n","const {\n  isObject,\n  buildCall,\n  mapJoin,\n  objectMapJoin\n} = require('../../lib-util')\nconst conditions = require('./conditions')\nconst valuesArray = require('./values_array')\n\nmodule.exports = (ctx, items, start = 0, end = items.length) => {\n  if (end > items.length) end = items.length\n  let txt = ''\n  for (let i = start; i < end; ++i) {\n    const item = items[i]\n    if (i !== start) txt += item.join\n    txt += fromItem(ctx, item.args)\n    if (item.on) txt += ` on ${conditions(ctx, item.on)}`\n    else if (item.using) txt += ` using (${using(ctx, item.using)})`\n  }\n  return txt\n}\n\nconst usingArg = (ctx, arg) => {\n  if (typeof arg === 'string') return arg\n  if (typeof arg === 'function') return ctx.build(arg)\n  throw Error('Error: Invalid .using arg')\n}\nconst using = mapJoin(buildCall(mapJoin(usingArg)))\n\nconst fromArg = (ctx, arg) => {\n  if (typeof arg === 'string') return arg\n  if (typeof arg === 'function') return ctx.build(arg)\n  if (isObject(arg)) return buildObject(ctx, arg)\n  throw Error('Error: Invalid .from argument:', arg)\n}\n\nconst buildProperty = (ctx, key, value) => {\n  if (typeof value === 'string') return `${value} ${ctx.mapKey(key)}`\n  if (typeof value === 'function')\n    return `${ctx.build(value)} ${ctx.mapKey(key)}`\n  if (Array.isArray(value)) {\n    const { columns, values } = valuesArray(ctx, value)\n    return `(${values}) ${ctx.mapKey(key)}(${columns})`\n  }\n  throw Error('Error: Invalid .from argument')\n}\n\nconst buildObject = objectMapJoin(buildProperty)\nconst fromItem = buildCall(mapJoin(fromArg))\n","const { mapJoin } = require('../../lib-util')\n\nmodule.exports = (ctx, array) => {\n  const keys = uniqueKeys(array)\n  return {\n    columns: columns(ctx, keys),\n    values: values(ctx, array, keys)\n  }\n}\n\n// gets unique keys in object array\nconst uniqueKeys = array => {\n  const keys = {}\n  for (const object of array) {\n    for (const key in object) {\n      keys[key] = true\n    }\n  }\n  return Object.keys(keys)\n}\n\n// gets column string from unique keys of object array\nconst columns = mapJoin((ctx, arg) => ctx.mapKey(arg))\n\n// gets values string of object array\nconst values = (ctx, source, keys) => {\n  let txt = 'values '\n  for (let i = 0; i < source.length; ++i) {\n    if (i !== 0) txt += ', '\n    txt += '('\n    const object = source[i]\n    for (let j = 0; j < keys.length; ++j) {\n      if (j !== 0) txt += ', '\n      txt += value(ctx, object[keys[j]])\n    }\n    txt += ')'\n  }\n  return txt\n}\n\nconst value = (ctx, arg) => {\n  if (arg === undefined) return 'default'\n  return ctx.build(arg)\n}\n","const {\n  isTaggedTemplate,\n  buildTaggedTemplate,\n  isObject,\n  mapJoin,\n  objectMapJoin\n} = require('../../lib-util')\n\nconst buildCall = callbackfn => (ctx, args) =>\n  isTaggedTemplate(args)\n    ? `(${buildTaggedTemplate(ctx, args)})`\n    : callbackfn(ctx, args)\n\nconst buildArg = (ctx, arg) =>\n  isObject(arg) ? buildObject(ctx, arg) : ctx.build(arg)\n\nconst valuesList = mapJoin((ctx, arg) => ctx.build(arg))\n\nconst buildProperty = (ctx, key, value) => {\n  const name = ctx.mapKey(key)\n  if (value === null) return `(${name} is null)`\n  if (Array.isArray(value)) return `(${name} in (${valuesList(ctx, value)}))`\n  return `(${name} = ${ctx.build(value)})`\n}\n\nconst buildObject = objectMapJoin(buildProperty, ' and ')\nmodule.exports = mapJoin(buildCall(mapJoin(buildArg, ' and ')), ' and ')\n","'use strict';\n\n// do not edit .js files directly - edit src/index.jst\n\n\n\nmodule.exports = function equal(a, b) {\n  if (a === b) return true;\n\n  if (a && b && typeof a == 'object' && typeof b == 'object') {\n    if (a.constructor !== b.constructor) return false;\n\n    var length, i, keys;\n    if (Array.isArray(a)) {\n      length = a.length;\n      if (length != b.length) return false;\n      for (i = length; i-- !== 0;)\n        if (!equal(a[i], b[i])) return false;\n      return true;\n    }\n\n\n\n    if (a.constructor === RegExp) return a.source === b.source && a.flags === b.flags;\n    if (a.valueOf !== Object.prototype.valueOf) return a.valueOf() === b.valueOf();\n    if (a.toString !== Object.prototype.toString) return a.toString() === b.toString();\n\n    keys = Object.keys(a);\n    length = keys.length;\n    if (length !== Object.keys(b).length) return false;\n\n    for (i = length; i-- !== 0;)\n      if (!Object.prototype.hasOwnProperty.call(b, keys[i])) return false;\n\n    for (i = length; i-- !== 0;) {\n      var key = keys[i];\n\n      if (!equal(a[key], b[key])) return false;\n    }\n\n    return true;\n  }\n\n  // true if both NaN, false otherwise\n  return a!==a && b!==b;\n};\n","const core = require('./lib-core')\nconst dialect = require('./dialect-postgres')\n\nconst a = core({ dialect });\na.from = undefined;\nmodule.exports = a;\n","const {\n  isObject,\n  buildCall,\n  mapJoin,\n  objectMapJoin\n} = require('../../lib-util')\n\nconst buildArg = (ctx, arg) => {\n  if (typeof arg === 'string') return arg\n  if (isObject(arg)) return buildObject(ctx, arg)\n  return ctx.build(arg)\n}\n\nconst buildProperty = (ctx, key, value) => {\n  const expression = typeof value === 'string' ? value : ctx.build(value)\n  return `${expression} ${ctx.mapKey(key)}`\n}\n\nconst buildObject = objectMapJoin(buildProperty)\nmodule.exports = mapJoin(buildCall(mapJoin(buildArg)))\n","const { isTaggedTemplate, buildTaggedTemplate } = require('../../lib-util')\n\nmodule.exports = (ctx, args) => {\n  if (isTaggedTemplate(args)) return buildTaggedTemplate(ctx, args)\n  const arg = args[0]\n  if (typeof arg === 'number') return ctx.parameterize(arg)\n  if (typeof arg === 'function') return ctx.build(arg)\n  throw Error('Error: Invalid limit/offset argument')\n}\n","const isTaggedTemplate = ([strings]) => Array.isArray(strings) && strings.raw\n\nconst buildTaggedTemplate = (ctx, [strings, ...args]) => {\n  let txt = strings[0]\n  for (let i = 0; i < args.length; ++i) {\n    txt += ctx.build(args[i]) + strings[i + 1]\n  }\n  return txt\n}\n\nmodule.exports = {\n  isTaggedTemplate,\n  buildTaggedTemplate\n}","module.exports = {\n  wth: require('./with'),\n  select: require('./select'),\n  from: require('./from'),\n  where: require('./where'),\n  group: require('./group'),\n  having: require('./having'),\n  setop: require('./setop'),\n  order: require('./order'),\n  limit: require('./limit'),\n  offset: require('./offset'),\n  del: require('./delete'),\n  returning: require('./returning'),\n  insert: require('./insert'),\n  update: require('./update'),\n  set: require('./set')\n}\n","const createQueryBuilder = require('../builder-sq')\nconst createExpressionBuilder = require('../builder-expression')\nconst { memoize, normalKey } = require('../lib-util')\n\n\n/**\n * Creates a version of EasyQB for the given SQL dialect and database adapter.\n *\n * A dialect is variant of the SQL language,\n * while an adapter is the driver that communicates with the database.\n *\n * This design makes it easy to swap drivers, e.g. mysql vs mysql2 or\n * add new databases just by connecting a new adapter to an existing dialect.\n *\n */\n\nconst createSqorn = ({ dialect }) => (config = {}) => {\n  const { query, expression, parameterize, escape } = dialect\n\n  // 1. Create default context properties passed through build tree\n  const mapKey = memoize(normalKey)\n  const defaultContext = { parameterize, escape, mapKey, build }\n\n  // 2. Create Expression Builder\n  const e = createExpressionBuilder({ defaultContext, expression })\n\n  // 3. Create Query Builder\n  const sq = createQueryBuilder({ defaultContext, query, e, config })\n\n  // 4. TODO: Build Executor, Attach e and execute functions\n\n  // 5. TODO: Return { sq, e, transaction, db }\n  return sq\n}\n\nfunction build(arg) {\n  if (arg === undefined) throw Error('Error: undefined argument')\n  if (typeof arg === 'function') {\n    if (arg._build) {\n      const { type, text } = arg._build(this)\n      if (type === 'expression') return text\n      if (type === 'fragment') return text\n      return `(${text})`\n    }\n    return arg(this)\n  }\n  return this.unparameterized ? this.escape(arg) : this.parameterize(arg)\n}\n\nmodule.exports = createSqorn","const createNewContext = require('./context')\nconst createQueryBuilder = ({ defaultContext, query, e, config }) => {\n    const { queries, methods, properties } = query\n    const newContext = createNewContext(defaultContext)\n    const reducers = createReducers(methods)\n    const updateContext = applyReducers(reducers)\n    reducers.extend = (ctx, args) => {\n        const arr = Array.isArray(args[0]) ? args[0] : args\n        for (let i = 0; i < arr.length; ++i) {\n            updateContext(arr[i].method, ctx)\n        }\n    }\n    const builder = () => { } // must not be object literal\n    const chain = createChain(builder)\n\n    const executeProperties = {\n        one: {\n            value: async function () {\n                const ret = await config.oneCallback(this.query, config.tableName, config.userAssociatedRecordsOnly)\n                return ret;\n            }\n        },\n        all: {\n            value: async function () {\n                const ret = await config.allCallback(this.query, config.tableName, config.userAssociatedRecordsOnly)\n                return ret;\n            }\n        },\n        _tableName: {\n            get: function () {\n                return config.tableName\n            }\n        }\n    }\n\n    // EasyQB no access to from\n    const _methodProperties = methodProperties({ methods, chain });\n    delete _methodProperties.from;\n\n    Object.defineProperties(builder, {\n        ...builderProperties({ chain, newContext, updateContext, queries }),\n        ..._methodProperties,\n        ...executeProperties,\n        ...properties,\n        e: {\n            value: e\n        }\n    })\n    return chain()\n}\n\n/** Creates a new builder instance */\nconst createChain = prototype => {\n    const chain = method => {\n        const fn = (...args) => chain({ name: 'express', args, prev: method })\n        fn.method = method\n        Object.setPrototypeOf(fn, prototype)\n        return fn\n    }\n    return chain\n}\n\n/** Creates an object containing all method reducers */\nconst createReducers = methods => {\n    const reducers = {}\n    for (const name in methods) {\n        const { updateContext, properties = {} } = methods[name]\n        reducers[name] = updateContext\n        // some methods have subproperties, e.g. .unionAll\n        for (const key in properties) {\n            reducers[`${name}.${key}`] = properties[key]\n        }\n    }\n    return reducers\n}\n\n/** Follows a method chain, applying each method's reducer, to ctx */\nconst applyReducers = reducers => (method, ctx) => {\n    // follow method links to construct methods array (in reverse)\n    const methods = []\n    for (; method !== undefined; method = method.prev) {\n        methods.push(method)\n    }\n    // build methods object by processing methods in call order\n    const express = { id: 0 }\n    for (let i = methods.length - 1; i >= 0; --i) {\n        const method = methods[i]\n        reducers[method.name](ctx, method.args, express)\n    }\n    return ctx\n}\n\n/** Default properties of all SQL Query Builders */\nconst builderProperties = ({ newContext, updateContext, queries }) => ({\n    _build: {\n        value: function (inheritedContext) {\n            const ctx = updateContext(this.method, newContext(inheritedContext))\n            return queries[ctx.type](ctx)\n        }\n    },\n    query: {\n        get: function () {\n            return this._build()\n        }\n    },\n    unparameterized: {\n        get: function () {\n            return this._build({ unparameterized: true }).text\n        }\n    }\n})\n\n/** Builds object containing a property for every query building method */\nconst methodProperties = ({ methods, chain }) => {\n    const properties = {}\n    for (const name in methods) {\n        const { getter } = methods[name]\n        if (getter) {\n            // add getter methods\n            properties[name] = {\n                get: function () {\n                    return chain({ name, prev: this.method })\n                }\n            }\n        } else {\n            // add function call methods\n            properties[name] = {\n                value: function (...args) {\n                    return chain({ name, args, prev: this.method })\n                }\n            }\n        }\n    }\n    return properties\n}\n\nmodule.exports = createQueryBuilder","/** Returns a function the creates a new context */\nconst createNewContext = defaultContext => {\n    const { parameterize, escape, mapKey, build } = defaultContext\n\n    return (inherit = {}) => {\n        const { params = [], unparameterized = false } = inherit\n\n        const whr = []\n        return {\n            // properties set by the EasyQB instance\n            parameterize,\n            escape,\n            mapKey,\n            build,\n\n            // properties inherited from the parent query\n            params,\n            unparameterized,\n\n            // properties of the current query\n            type: 'select',\n            // | sql' | 'select' | 'delete' | 'insert' | 'update'\n            target: whr,\n            join: undefined,\n            separator: ' ',\n            sql: [],\n            ret: [],\n            frm: [],\n            whr,\n            grp: [],\n            hav: [],\n            setop: [],\n            ord: [],\n            with: [],\n            set: []\n\n            // properties that may be added dynamically:\n            // userType\n            // distinct\n        }\n    }\n}\n\nmodule.exports = createNewContext\n","const createExpressionCompiler = require('./compile')\nconst { normalKey } = require('../lib-util');\n\nconst aggregator = (op) => (columnName) => `${op}(${normalKey(columnName)})`;\n\nmodule.exports = ({ defaultContext, expression }) => {\n  const { expressions } = expression\n  const newContext = createNewContext(defaultContext)\n  const compile = createExpressionCompiler(expressions)\n  const builder = () => {} // must not be object literal\n  const chain = createChain(builder)\n  Object.defineProperties(builder, {\n    ...builderProperties({ compile, newContext }),\n    ...methodProperties({ expressions, chain }),\n  })\n  const ret = chain();\n  ret.max = aggregator('max');\n  ret.min = aggregator('min');\n  ret.avg = aggregator('avg');\n  ret.count = aggregator('count');\n  ret.sum = aggregator('sum');\n  return ret;\n}\n\nconst builderProperties = ({ compile, newContext }) => ({\n  _build: {\n    value: function(inherit) {\n      return compile(newContext(inherit), this.current)\n    }\n  },\n  query: {\n    get: function() {\n      return this._build()\n    }\n  },\n  unparameterized: {\n    get: function() {\n      return this._build({ unparameterized: true }).text\n    }\n  }\n})\n\nconst createNewContext = defaultContext => {\n  const { build, parameterize, escape, mapKey } = defaultContext\n  return inherit => {\n    const { params = [], unparameterized = false } = inherit || {}\n    return {\n      // EasyQB instance properties\n      build,\n      parameterize,\n      escape,\n      mapKey,\n\n      // inherited properties\n      params,\n      unparameterized\n    }\n  }\n}\n\nconst createChain = prototype => {\n  const chain = current => {\n    const fn = (...args) => chain({ prev: current, args })\n    fn.current = current\n    Object.setPrototypeOf(fn, prototype)\n    return fn\n  }\n  return chain\n}\n\nconst methodProperties = ({ expressions, chain }) => {\n  const properties = {}\n  for (const name in expressions) {\n    properties[name] = {\n      get: function() {\n        return chain({ prev: this.current, name })\n      }\n    }\n  }\n  return properties\n}\n","const { isTaggedTemplate } = require('../lib-util')\n\nconst createExpressionCompiler = expressionTable => {\n  const callsCompiler = createCallsCompiler(expressionTable)\n  return (ctx, current) => {\n    const calls = buildCalls(current)\n    const text = callsCompiler(ctx, calls)\n    return {\n      text,\n      args: ctx.params,\n      type: 'expression'\n    }\n  }\n}\n\n// TODO: Performance optimization:\n// inline expression building with this method so at most only one array\n// is allocated in total, no array of object containing arrays nonsense\nconst buildCalls = current => {\n  // get call nodes\n  const calls = []\n  for (; current; current = current.prev) calls.push(current)\n  if (calls.length === 0) throw Error('Error: Empty expression')\n\n  // build expression list\n  let expression = { name: 'arg', args: [] }\n  const expressions = [expression]\n  const last = calls.length - 1\n  for (let i = last; i >= 0; --i) {\n    const { name, args } = calls[i]\n    if (i === last) {\n      if (name) expression.name = name\n      else pushCall(expression.args, args)\n    } else {\n      if (name) expressions.push((expression = { name, args: [undefined] }))\n      else pushCall(expression.args, args)\n    }\n  }\n  return expressions\n}\n\nconst pushCall = (array, args) => {\n  if (isTaggedTemplate(args)) {\n    array.push({ tag: args })\n  } else {\n    if (args.length === 0)\n      throw Error('Error: Expression call requires at least one argument')\n    for (let i = 0; i < args.length; ++i) {\n      array.push({ arg: args[i] })\n    }\n  }\n}\n\nconst createCallsCompiler = expressionTable => (ctx, calls) => {\n  let exp\n  for (let i = 0; i < calls.length; ++i) {\n    const { name, args } = calls[i]\n    const { build, minArgs, maxArgs } = expressionTable[name]\n    if (i !== 0) args[0] = { exp }\n    const numArgs = args.length\n    if (numArgs < minArgs)\n      throw Error(`Error: ${name} requires at least ${minArgs} arguments`)\n    if (numArgs > maxArgs)\n      throw Error(`Error: ${name} accepts at most ${maxArgs} arguments`)\n    exp = build(ctx, args)\n  }\n  return exp\n}\n\nmodule.exports = createExpressionCompiler\n","const { isTaggedTemplate, buildTaggedTemplate } = require('./tagged_template')\n\nconst isObject = arg => arg && arg.constructor.prototype === Object.prototype\n\nconst buildCall = callbackfn => (ctx, args) =>\n  isTaggedTemplate(args)\n    ? buildTaggedTemplate(ctx, args)\n    : callbackfn(ctx, args)\n\nconst mapJoin = (callbackfn, separator = ', ') => (ctx, args) => {\n  let txt = ''\n  for (let i = 0; i < args.length; ++i) {\n    if (i !== 0) txt += separator\n    txt += callbackfn(ctx, args[i])\n  }\n  return txt\n}\n\nconst mapJoinWrap = (callbackfn, separator = ', ', open = '(', close = ')') => (\n  ctx,\n  args\n) => {\n  let txt = open\n  for (let i = 0; i < args.length; ++i) {\n    if (i !== 0) txt += separator\n    txt += callbackfn(ctx, args[i])\n  }\n  return txt + close\n}\n\nconst objectMapJoin = (callbackfn, separator = ', ') => (ctx, object) => {\n  let txt = ''\n  const keys = Object.keys(object)\n  for (let i = 0; i < keys.length; ++i) {\n    if (i !== 0) txt += separator\n    const key = keys[i]\n    txt += callbackfn(ctx, key, object[key])\n  }\n  return txt\n}\n\nmodule.exports = {\n  isObject,\n  buildCall,\n  mapJoin,\n  mapJoinWrap,\n  objectMapJoin\n}","// included to mitigate cost of case conversion\nconst memoize = fn => {\n  const cache = {}\n  return key => cache[key] || (cache[key] = fn(key))\n}\n\nconst normalKey = given_key => given_key.indexOf('(') === -1 ? given_key.toLowerCase().trim().replace(/ /g, '_') : given_key;\n\nmodule.exports = {\n  memoize,\n  normalKey\n}","const query = require('./query')\nconst expression = require('./expression')\nconst { parameterize, escape } = require('./parameterize')\n\nmodule.exports = {\n  query,\n  expression,\n  parameterize,\n  escape\n}","const { methods, queries, query, clauses, common } = require('../lib-sq')\n\nconst { fromItems, expressions } = common\nconst {\n  wth,\n  from,\n  where,\n  group,\n  having,\n  setop,\n  order,\n  limit,\n  offset,\n  returning,\n  set\n} = clauses\n\nconst postgresMethods = {\n  distinctOn: {\n    updateContext: (ctx, args) => {\n      if (ctx.distinct) {\n        ctx.distinct.push(args)\n      } else {\n        ctx.distinct = [args]\n      }\n    }\n  }\n}\n\n// SELECT supports .distinctOn(...expressions)\nconst select = ctx => {\n  let txt = 'select '\n  if (ctx.distinct) {\n    txt += 'distinct '\n    if (ctx.distinct.length) {\n      txt += `on (${expressions(ctx, ctx.distinct)}) `\n    }\n  }\n  txt += expressions(ctx, ctx.ret) || '*'\n  return txt\n}\n// DELETE: first .from call is used in the DELETE clause\n// subsequent .from calls are used in the USING clause\nconst del = ctx => {\n  const txt = fromItems(ctx, ctx.frm, 0, 1)\n  return txt && `delete from ${txt}`\n}\nconst using = ctx => {\n  const txt = fromItems(ctx, ctx.frm, 1)\n  return txt && `using ${txt}`\n}\n// UPDATE: first .from call is used in the UPDATE clause\n// subsequent .from calls are used in the FROM clause\nconst update = ctx => {\n  const txt = fromItems(ctx, ctx.frm, 0, 1)\n  return txt && `update ${txt}`\n}\nconst updateFrom = ctx => {\n  const txt = fromItems(ctx, ctx.frm, 1)\n  return txt && `from ${txt}`\n}\n\nmodule.exports = {\n  methods: { ...methods, ...postgresMethods },\n  queries: {\n    ...queries,\n    select: query(\n      wth,\n      select,\n      from,\n      where,\n      group,\n      having,\n      setop,\n      order,\n      limit,\n      offset\n    ),\n    delete: query(wth, del, using, where, returning),\n    update: query(wth, update, set, updateFrom, where, returning)\n  },\n  properties: {\n    rollup: {\n      value: (...args) => {\n        return {\n          type: 'rollup',\n          args\n        }\n      }\n    },\n    cube: {\n      value: (...args) => {\n        return {\n          type: 'cube',\n          args\n        }\n      }\n    },\n    groupingSets: {\n      value: (...args) => {\n        return {\n          type: 'grouping sets',\n          args\n        }\n      }\n    }\n  }\n}","const methods = require('./methods')\nconst { query, queries } = require('./query')\nconst clauses = require('./clauses')\nconst common = require('./common')\n\nmodule.exports = {\n  methods,\n  query,\n  queries,\n  clauses,\n  common\n}","const { normalKey } = require('../lib-util')\n\n/** Query building methods */\nconst methods = {\n    with: {\n        updateContext: (ctx, args) => {\n            ctx.with.push(args)\n        }\n    },\n    withRecursive: {\n        updateContext: (ctx, args) => {\n            ctx.recursive = true\n            ctx.with.push(args)\n        }\n    },\n    from: {\n        updateContext: (ctx, args) => {\n            ctx.frm.push({ args, join: ', ' })\n        }\n    },\n    where: {\n        updateContext: (ctx, args) => {\n            ctx.whr.push(args)\n            ctx.target = ctx.whr\n        }\n    },\n    return: {\n        updateContext: (ctx, args) => {\n            ctx.ret.push(Array.isArray(args) ? args.map(normalKey) : args)\n        }\n    },\n    distinct: {\n        getter: true,\n        updateContext: ctx => {\n            ctx.distinct = []\n        }\n    },\n    groupBy: {\n        updateContext: (ctx, args) => {\n            ctx.grp.push(args)\n        }\n    },\n    having: {\n        updateContext: (ctx, args) => {\n            ctx.hav.push(args)\n            ctx.target = ctx.hav\n        }\n    },\n    union: {\n        updateContext: (ctx, args) => {\n            ctx.setop.push({ type: 'union', args })\n        }\n    },\n    unionAll: {\n        updateContext: (ctx, args) => {\n            ctx.setop.push({ type: 'union all', args })\n        }\n    },\n    intersect: {\n        updateContext: (ctx, args) => {\n            ctx.setop.push({ type: 'intersect', args })\n        }\n    },\n    intersectAll: {\n        updateContext: (ctx, args) => {\n            ctx.setop.push({ type: 'intersect all', args })\n        }\n    },\n    except: {\n        updateContext: (ctx, args) => {\n            ctx.setop.push({ type: 'except', args })\n        }\n    },\n    exceptAll: {\n        updateContext: (ctx, args) => {\n            ctx.setop.push({ type: 'except all', args })\n        }\n    },\n    orderBy: {\n        updateContext: (ctx, args) => {\n            ctx.ord.push(args)\n        }\n    },\n    limit: {\n        updateContext: (ctx, args) => {\n            ctx.limit = args\n        }\n    },\n    offset: {\n        updateContext: (ctx, args) => {\n            ctx.offset = args\n        }\n    },\n    join: {\n        updateContext: (ctx, args) => {\n            ctx.frm.push((ctx.join = { args, join: ' join ' }))\n        }\n    },\n    leftJoin: {\n        updateContext: (ctx, args) => {\n            ctx.frm.push((ctx.join = { args, join: ' left join ' }))\n        }\n    },\n    rightJoin: {\n        updateContext: (ctx, args) => {\n            ctx.frm.push((ctx.join = { args, join: ' right join ' }))\n        }\n    },\n    fullJoin: {\n        updateContext: (ctx, args) => {\n            ctx.frm.push((ctx.join = { args, join: ' full join ' }))\n        }\n    },\n    crossJoin: {\n        updateContext: (ctx, args) => {\n            ctx.frm.push((ctx.join = { args, join: ' cross join ' }))\n        }\n    },\n    naturalJoin: {\n        updateContext: (ctx, args) => {\n            ctx.frm.push((ctx.join = { args, join: ' natural join ' }))\n        }\n    },\n    naturalLeftJoin: {\n        updateContext: (ctx, args) => {\n            ctx.frm.push((ctx.join = { args, join: ' natural left join ' }))\n        }\n    },\n    naturalRightJoin: {\n        updateContext: (ctx, args) => {\n            ctx.frm.push((ctx.join = { args, join: ' natural right join ' }))\n        }\n    },\n    naturalFullJoin: {\n        updateContext: (ctx, args) => {\n            ctx.frm.push((ctx.join = { args, join: ' natural full join ' }))\n        }\n    },\n    on: {\n        updateContext: (ctx, args) => {\n            const { join } = ctx\n            if (join.on) {\n                join.on.push(args)\n            } else {\n                ctx.target = join.on = [args]\n            }\n        }\n    },\n    using: {\n        updateContext: (ctx, args) => {\n            const { join } = ctx\n            if (join.using) {\n                join.using.push(args)\n            } else {\n                join.using = [args]\n            }\n        }\n    },\n    delete: {\n        // getter: true,\n        updateContext: ctx => {\n            ctx.type = 'delete'\n        }\n    },\n    insert: {\n        updateContext: (ctx, args) => {\n            ctx.type = 'insert'\n            ctx.insert = args\n        }\n    },\n    set: {\n        updateContext: (ctx, args) => {\n            ctx.type = 'update'\n            ctx.set.push(args)\n        }\n    },\n    express: {\n        updateContext: (ctx, args, count) => {\n            if (count.id === 0) {\n                count.id++\n                ctx.frm.push((ctx.join = { type: 'from', args, join: ', ' }))\n            } else if (count.id === 1) {\n                count.id++\n                ctx.whr.push(args)\n            } else if (count.id === 2) {\n                count.id++\n                ctx.ret.push(args)\n            } else throw Error('Invalid express call')\n        }\n    }\n}\n\nmodule.exports = methods;","const {\n    wth,\n    select,\n    from,\n    where,\n    group,\n    having,\n    setop,\n    order,\n    limit,\n    offset,\n    del,\n    returning,\n    insert,\n    update,\n    set,\n} = require('./clauses')\n\nconst query = (...clauses) => ctx => {\n    let text = ''\n    for (const clause of clauses) {\n        const str = clause && clause(ctx)\n        if (str) {\n            if (text) text += ctx.separator\n            text += str\n        }\n    }\n    return { text, args: ctx.params, type: ctx.userType || ctx.type }\n}\n\nconst queries = {\n    select: query(\n        wth,\n        select,\n        from,\n        where,\n        group,\n        having,\n        setop,\n        order,\n        limit,\n        offset\n    ),\n    update: query(wth, update, set, where, returning),\n    delete: query(wth, del, where, returning),\n    insert: query(wth, insert, returning)\n}\n\nmodule.exports = { query, queries }","const {\n  isObject,\n  buildCall,\n  mapJoin,\n  objectMapJoin\n} = require('../../lib-util')\nconst valuesArray = require('../common/values_array')\n\nmodule.exports = ctx => {\n  if (ctx.with.length === 0) return\n  const txt = calls(ctx, ctx.with)\n  return txt && `with ${ctx.recursive ? 'recursive ' : ''}${txt}`\n}\n\nconst buildArg = (ctx, arg) => {\n  if (isObject(arg)) return buildObject(ctx, arg)\n  throw Error('Invalid with argument:', arg)\n}\n\nconst buildProperty = (ctx, key, value) => {\n  if (typeof value === 'function') {\n    return `${ctx.mapKey(key)} ${ctx.build(value)}`\n  }\n  if (Array.isArray(value)) {\n    const { columns, values } = valuesArray(ctx, value)\n    return `${ctx.mapKey(key)}(${columns}) (${values})`\n  }\n  throw Error(`Error: Invalid .with argument`)\n}\n\nconst buildObject = objectMapJoin(buildProperty)\nconst calls = mapJoin(buildCall(mapJoin(buildArg)))\n","const expressions = require('../common/expressions')\n\nmodule.exports = ctx =>\n  `select ${buildDistinct(ctx)}${expressions(ctx, ctx.ret) || '*'}`\n\nconst buildDistinct = ctx =>\n  ctx.distinct\n    ? ctx.distinct.length\n      ? // TODO: expressions shouldn't be aliasable here\n        `distinct on (${expressions(ctx, ctx.distinct)})`\n      : 'distinct'\n    : ''\n","const fromItems = require('../common/from_items')\n\nmodule.exports = ctx => {\n  const txt = fromItems(ctx, ctx.frm)\n  return txt && `from ${txt}`\n}\n","const conditions = require('../common/conditions')\n\nmodule.exports = ctx => {\n  if (ctx.whr.length === 0) return\n  const txt = conditions(ctx, ctx.whr)\n  return txt && 'where ' + txt\n}\n","const { isObject, buildCall, mapJoin, mapJoinWrap } = require('../../lib-util')\n\nmodule.exports = ctx => {\n  if (ctx.grp.length === 0) return\n  const txt = calls(ctx, ctx.grp)\n  return txt && `group by ${txt}`\n}\n\nconst buildArg = (ctx, arg) => {\n  if (typeof arg === 'string') return arg\n  if (typeof arg === 'function') return ctx.build(arg)\n  if (Array.isArray(arg)) return buildArrayArg(ctx, arg)\n  if (isObject(arg)) return buildObject(ctx, arg)\n  throw Error('Invalid order by argument:', arg)\n}\n\nconst buildArrayArg = mapJoinWrap(buildArg)\n\n// postgres only\n// clone of buildArg() without support for object args\nconst buildCubeOrRollupArg = (ctx, arg) => {\n  if (typeof arg === 'string') return arg\n  if (typeof arg === 'function') return ctx.build(arg)\n  if (Array.isArray(arg)) return buildCubeOrRollupArrayArg(ctx, arg)\n  throw Error('Invalid cube/rollup argument')\n}\n\n// postgres only\n// clone of buildArrayArg() without support for object args\nconst buildCubeOrRollupArrayArg = mapJoinWrap(buildCubeOrRollupArg)\n\n// postgres only\nconst buildObject = (ctx, obj) => {\n  const { type, args } = obj\n  if (type === 'rollup') {\n    return `rollup ${buildCubeOrRollupArg(ctx, args)}`\n  }\n  if (type === 'cube') {\n    return `cube ${buildCubeOrRollupArg(ctx, args)}`\n  }\n  if (type === 'grouping sets') {\n    return `grouping sets ${buildArg(ctx, args)}`\n  }\n  throw Error('Invalid group by argument')\n}\n\nconst calls = mapJoin(buildCall(mapJoin(buildArg)))\n","const conditions = require('../common/conditions')\n\nmodule.exports = ctx => {\n  if (ctx.hav.length === 0) return\n  const txt = conditions(ctx, ctx.hav)\n  return txt && 'having ' + txt\n}\n","module.exports = ctx => {\n  if (ctx.setop.length === 0) return\n  let txt = ''\n  let first = true\n  const { setop } = ctx\n  for (let i = 0; i < setop.length; ++i) {\n    const { type, args } = ctx.setop[i]\n    for (let j = 0; j < args.length; ++j) {\n      if (!first) {\n        txt += ' '\n      } else {\n        first = false\n      }\n      txt += `${type} ${ctx.build(args[j])}`\n    }\n  }\n  return txt\n}\n","const { isObject, buildCall, mapJoin } = require('../../lib-util')\n\nmodule.exports = ctx => {\n  if (ctx.ord.length === 0) return\n  const txt = calls(ctx, ctx.ord)\n  return txt && `order by ${txt}`\n}\n\nconst buildArg = (ctx, arg) => {\n  if (typeof arg === 'string') return arg\n  if (typeof arg === 'function') return ctx.build(arg)\n  if (isObject(arg)) return buildObject(ctx, arg)\n  throw Error('Invalid order by argument:', arg)\n}\n\nconst buildObject = (ctx, obj) => {\n  let txt = ''\n  const { by, sort, using, nulls } = obj\n  // by\n  if (typeof by === 'string') txt += by\n  else if (typeof by === 'function') txt += ctx.build(by)\n  else throw Error('Invalid order by property \"by\"')\n  // sort\n  if (sort) {\n    if (sort === 'desc') txt += ' desc'\n    else if (sort === 'asc') txt += ' asc'\n    else if (typeof sort === 'string') txt += ` using ${sort}`\n    else throw Error('Invalid order by property \"sort\"')\n  } else if (using) {\n    if (typeof using === 'string') txt += ` using ${using}`\n    else throw Error('Invalid order by property \"using\"')\n  }\n  // nulls\n  if (nulls === undefined);\n  else if (nulls === 'last') txt += ' nulls last'\n  else if (nulls === 'first') txt += ' nulls first'\n  else throw Error('Invalid order by property \"nulls\"')\n  // return\n  return txt\n}\n\nconst calls = mapJoin(buildCall(mapJoin(buildArg)))\n","const limitOffset = require('../common/limit_offset')\n\nmodule.exports = ctx => ctx.limit && `limit ${limitOffset(ctx, ctx.limit)}`\n","const limitOffset = require('../common/limit_offset')\n\nmodule.exports = ctx => ctx.offset && `offset ${limitOffset(ctx, ctx.offset)}`\n","const fromItems = require('../common/from_items')\n\nmodule.exports = ctx => {\n  const txt = fromItems(ctx, ctx.frm)\n  return txt && `delete from ${txt}`\n}\n","const expressions = require('../common/expressions')\n\nmodule.exports = ctx => {\n  if (!ctx.ret) return\n  const txt = expressions(ctx, ctx.ret)\n  return txt && `returning ${txt}`\n}\n","const { isTaggedTemplate, buildTaggedTemplate } = require('../../lib-util')\nconst fromItems = require('../common/from_items')\nconst valuesArray = require('../common/values_array')\n\nmodule.exports = ctx => {\n  const table = fromItems(ctx, ctx.frm)\n  const values = buildCall(ctx, ctx.insert)\n  return `insert into ${table}${values}`\n}\n\nconst buildCall = (ctx, args) => {\n  if (isTaggedTemplate(args)) return ' ' + buildTaggedTemplate(ctx, args)\n  if (args.length === 1 && args[0] === undefined) return ' default values'\n  if (Array.isArray(args[0])) return buildValuesArray(ctx, args[0])\n  if (typeof args[0] === 'function') return ' ' + ctx.build(args[0])\n  return buildValuesArray(ctx, args)\n}\n\nconst buildValuesArray = (ctx, array) => {\n  const { values, columns } = valuesArray(ctx, array)\n  return `(${columns}) ${values}`\n}\n","const fromItems = require('../common/from_items')\n\nmodule.exports = ctx => {\n  const txt = fromItems(ctx, ctx.frm)\n  return txt && `update ${txt}`\n}\n","const { buildCall, mapJoin, objectMapJoin } = require('../../lib-util')\n\nmodule.exports = ctx => {\n  if (!ctx.set) return\n  const txt = calls(ctx, ctx.set)\n  return txt && 'set ' + txt\n}\n\nconst buildProperty = (ctx, key, value) =>\n  `${ctx.mapKey(key)} = ${ctx.build(value)}`\n\nconst calls = mapJoin(buildCall(mapJoin(objectMapJoin(buildProperty))))\n","const conditions = require('./conditions')\nconst expressions = require('./expressions')\nconst fromItems = require('./from_items')\nconst limitOffset = require('./limit_offset')\nconst valuesArray = require('./values_array')\n\nmodule.exports = {\n  conditions,\n  expressions,\n  fromItems,\n  limitOffset,\n  valuesArray\n}\n","const expressions = require('../lib-expression')\n\nmodule.exports = { expressions }","const {\n    unaryPre,\n    unaryPost,\n    unaryFunction,\n    binary,\n    ternary,\n    nary,\n    naryFunction,\n    oneValue,\n    compositeValue,\n    membership,\n    quantifiedComparison,\n    dateBinary\n} = require('./util')\n\n// value\nconst value = {\n    arg: compositeValue,\n    row: compositeValue,\n    unknown: oneValue,\n    boolean: oneValue,\n    number: oneValue,\n    string: oneValue,\n    array: oneValue,\n    json: oneValue,\n    table: oneValue\n}\n\n// boolean\nconst boolean = {\n    // logical\n    and: nary('and'),\n    or: nary('or'),\n    not: unaryFunction('not'),\n    // comparison\n    isTrue: unaryPost('is true'),\n    isNotTrue: unaryPost('is not true'),\n    isFalse: unaryPost('is false'),\n    isNotFalse: unaryPost('is not false'),\n    isUnknown: unaryPost('is unknown'),\n    isNotUnknown: unaryPost('is not unknown')\n}\n\n// comparison\nconst comparison = {\n    // binary comparison\n    eq: binary('='),\n    neq: binary('<>'),\n    lt: binary('<'),\n    gt: binary('>'),\n    lte: binary('<='),\n    gte: binary('>='),\n    // misc\n    between: ternary('between', 'and'),\n    isDistinctFrom: binary('is distinct from'),\n    isNotDistinctFrom: binary('is not distinct from'),\n    isNull: unaryPost('is null'),\n    isNotNull: unaryPost('is not null'),\n    in: membership('in'),\n    notIn: membership('not in'),\n    // quantified any\n    eqAny: quantifiedComparison('= any'),\n    neqAny: quantifiedComparison('<> any'),\n    ltAny: quantifiedComparison('< any'),\n    gtAny: quantifiedComparison('> any'),\n    lteAny: quantifiedComparison('<= any'),\n    gteAny: quantifiedComparison('>= any'),\n    // quantified all\n    eqAll: quantifiedComparison('= all'),\n    neqAll: quantifiedComparison('<> all'),\n    ltAll: quantifiedComparison('< all'),\n    gtAll: quantifiedComparison('> all'),\n    lteAll: quantifiedComparison('<= all'),\n    gteAll: quantifiedComparison('>= all')\n}\n\n// dates\nconst dateComparison = {\n    // dateEq: dateBinary('='),\n    // dateNeq: dateBinary('<>'),\n    dateLt: dateBinary('<'),\n    dateGt: dateBinary('>'),\n    dateLte: dateBinary('<='),\n    dateGte: dateBinary('>=')\n}\n\n// math\nconst math = {\n    add: binary('+'),\n    sub: binary('-'),\n    mul: binary('*'),\n    div: binary('/'),\n    mod: binary('%'),\n    exp: binary('%'),\n    sqrt: unaryPre('|/'),\n    cbrt: unaryPre('||/'),\n    fact: unaryPre('!!'),\n    abs: unaryFunction('abs')\n}\n\n// string\nconst string = {\n    like: binary('like'),\n    notLike: binary('not like')\n}\n\nconst array = {\n    unnest: naryFunction('unnest')\n}\n\nmodule.exports = {\n    ...value,\n    ...boolean,\n    ...comparison,\n    ...math,\n    ...array,\n    ...dateComparison,\n    ...string\n}\n","const { buildTaggedTemplate } = require('../lib-util')\n\nconst dateToYYYYMMDD = d => [\n    d.getFullYear(),\n    ('0' + (d.getMonth() + 1)).slice(-2),\n    ('0' + d.getDate()).slice(-2)\n].join('-');\n\nconst build = (ctx, arg) => {\n    // compiled expression string\n    if (arg.exp) return arg.exp\n    // tagged template argument\n    if (arg.tag) return buildTaggedTemplate(ctx, arg.tag)\n    // expression, subquery or fragment argument\n    return ctx.build(arg.arg)\n}\n\nconst unaryPre = op => ({\n    minArgs: 1,\n    maxArgs: 1,\n    build: (ctx, args) => `(${op} ${build(ctx, args[0])})`\n})\n\nconst unaryPost = op => ({\n    minArgs: 1,\n    maxArgs: 1,\n    build: (ctx, args) => `(${build(ctx, args[0])} ${op})`\n})\n\nconst unaryFunction = op => ({\n    minArgs: 1,\n    maxArgs: 1,\n    build: (ctx, args) => `${op}(${build(ctx, args[0])})`\n})\n\nconst binary = op => ({\n    minArgs: 2,\n    maxArgs: 2,\n    build: (ctx, args) => `(${build(ctx, args[0])} ${op} ${build(ctx, args[1])})`\n})\n\nconst dateBinary = op => ({\n    minArgs: 2,\n    maxArgs: 2,\n    build: (ctx, args) => {\n        const inDate = args[1].arg;\n        if (typeof inDate.getMonth === 'function') {\n            args[1].arg = dateToYYYYMMDD(inDate);\n        }\n        return `date(${build(ctx, args[0])}, 'YYYY-MM-DD') ${op} ${build(ctx, args[1])}`\n    }\n})\n\n\nconst ternary = (op1, op2) => ({\n    minArgs: 3,\n    maxArgs: 3,\n    build: (ctx, args) =>\n        `(${build(ctx, args[0])} ${op1} ${build(ctx, args[1])} ${op2} ${build(\n            ctx,\n            args[2]\n        )})`\n})\n\nconst nary = op => ({\n    minArgs: 1,\n    maxArgs: Number.MAX_SAFE_INTEGER,\n    build: (ctx, args) => {\n        if (args.length === 1) return build(ctx, args[0])\n        let txt = '('\n        for (let i = 0; i < args.length; ++i) {\n            if (i !== 0) txt += ` ${op} `\n            txt += build(ctx, args[i])\n        }\n        return txt + ')'\n    }\n})\n\nconst naryFunction = fn => ({\n    minArgs: 1,\n    maxArgs: Number.MAX_SAFE_INTEGER,\n    build: (ctx, args) => {\n        let txt = `${fn}(`\n        for (let i = 0; i < args.length; ++i) {\n            if (i !== 0) txt += `, `\n            txt += build(ctx, args[i])\n        }\n        return txt + ')'\n    }\n})\n\nconst oneValue = {\n    minArgs: 1,\n    maxArgs: 1,\n    build: (ctx, args) => build(ctx, args[0])\n}\n\nconst compositeValue = {\n    minArgs: 1,\n    maxArgs: Number.MAX_SAFE_INTEGER,\n    build: (ctx, args) => {\n        if (args.length === 1) return build(ctx, args[0])\n        let txt = ''\n        for (let i = 0; i < args.length; ++i) {\n            if (i !== 0) txt += ', '\n            txt += build(ctx, args[i])\n        }\n        return args.length > 1 ? `(${txt})` : txt\n    }\n}\n\nconst buildValuesList = (ctx, values) => {\n    if (values.length === 0) throw Error('Error: .in operation values list empty')\n    let txt = '('\n    for (let i = 0; i < values.length; ++i) {\n        if (i !== 0) txt += ', '\n        txt += ctx.build(values[i])\n    }\n    return txt + ')'\n}\n\nconst membership = op => ({\n    minArgs: 2,\n    maxArgs: 2,\n    build: (ctx, [arg1, arg2]) =>\n        `(${build(ctx, arg1)} ${op} ${Array.isArray(arg2.arg)\n            ? buildValuesList(ctx, arg2.arg)\n            : build(ctx, arg2)\n        })`\n})\n\nconst quantifiedComparison = op => ({\n    minArgs: 2,\n    maxArgs: 2,\n    build: (ctx, args) => `(${build(ctx, args[0])} ${op}(${build(ctx, args[1])}))`\n})\n\nmodule.exports = {\n    build,\n    unaryFunction,\n    unaryPre,\n    unaryPost,\n    binary,\n    ternary,\n    nary,\n    naryFunction,\n    oneValue,\n    compositeValue,\n    membership,\n    quantifiedComparison,\n    dateBinary\n}\n","// parameterizes given argument, function should be attached to ctx\nfunction parameterize(arg) {\n    if (arg === undefined) throw Error('Error: parameter is undefined')\n    return `$${this.params.push(arg)}`\n}\n\n/** Escapes an argument for use in UNPARAMETERIZED queries. NOT SAFE AT ALL. */\nconst escape = arg => {\n    if (arg === undefined) throw Error('Error: parameter is undefined')\n    if (arg === null) return 'null'\n    if (typeof arg === 'string') return escapeLiteral(arg)\n    if (typeof arg === 'number') return '' + arg\n    if (typeof arg === 'boolean') return '' + arg\n    if (typeof arg === 'object') {\n        if (Array.isArray(arg)) {\n            return `array[${arg.map(e => escape(e)).join(', ')}]`\n        } else {\n            return escapeLiteral(JSON.stringify(arg))\n        }\n    }\n    throw Error(`Invalid argument SQL argument of type '${typeof arg}'`, arg)\n}\n\n// from https://github.com/brianc/node-postgres/blob/eb076db5d47a29c19d3212feac26cd7b6d257a95/lib/client.js#L351\nconst escapeLiteral = str => {\n    let hasBackslash = false\n    let escaped = \"'\"\n    for (let i = 0; i < str.length; i++) {\n        const c = str[i]\n        if (c === \"'\") {\n            escaped += c + c\n        } else if (c === '\\\\') {\n            escaped += c + c\n            hasBackslash = true\n        } else {\n            escaped += c\n        }\n    }\n    escaped += \"'\"\n    if (hasBackslash === true) {\n        escaped = ' E' + escaped\n    }\n    return escaped\n}\n\nmodule.exports = {\n    parameterize,\n    escape\n}\n","export var POST_TYPES;\n(function (POST_TYPES) {\n    POST_TYPES[\"UPLOAD_ATTACHMENT\"] = \"upload_attachment\";\n    POST_TYPES[\"HANDSHAKE\"] = \"handshake\";\n    POST_TYPES[\"VALID_TOKEN\"] = \"valid_token\";\n    POST_TYPES[\"GET_FRAME\"] = \"get_frame\";\n    POST_TYPES[\"TABLE_SIZE\"] = \"table_size\";\n    POST_TYPES[\"COLUMN_TYPES\"] = \"column_types\";\n    POST_TYPES[\"SYNC_STACK\"] = \"sync_stack\";\n    POST_TYPES[\"SYNC_DELETE\"] = \"sync_delete\";\n    POST_TYPES[\"SYNC_INSERT\"] = \"sync_insert\";\n    POST_TYPES[\"GET_QUERY\"] = \"get_query\";\n    POST_TYPES[\"USER_ATTRIBUTES\"] = \"user_attributes\";\n    POST_TYPES[\"SET_ATTRIBUTE\"] = \"set_attribute\";\n    POST_TYPES[\"SIGN_UP\"] = \"sign_up\";\n    POST_TYPES[\"REQUEST_TOKEN\"] = \"request_token\";\n    POST_TYPES[\"EASY_QB\"] = \"easyqb\";\n    POST_TYPES[\"RESET_PASSWORD\"] = \"reset_password\";\n    POST_TYPES[\"FORGOT_PASSWORD_SEND\"] = \"forgot_password_send\";\n    POST_TYPES[\"FORGOT_PASSWORD_CONFIRM\"] = \"forgot_password_confirm\";\n})(POST_TYPES || (POST_TYPES = {}));\nexport var DB_STATUS;\n(function (DB_STATUS) {\n    DB_STATUS[\"ERROR\"] = \"error\";\n    DB_STATUS[\"PENDING\"] = \"pending\";\n    DB_STATUS[\"SUCCESS\"] = \"success\";\n})(DB_STATUS || (DB_STATUS = {}));\nexport var EXECUTE_COUNT;\n(function (EXECUTE_COUNT) {\n    EXECUTE_COUNT[\"ALL\"] = \"all\";\n    EXECUTE_COUNT[\"ONE\"] = \"one\";\n})(EXECUTE_COUNT || (EXECUTE_COUNT = {}));\n","var GlobalNamespace;\n(function (GlobalNamespace) {\n})(GlobalNamespace || (GlobalNamespace = {}));\nconst _g = { ...GlobalNamespace };\nexport default _g;\nexport function gFactory() {\n    return { ...GlobalNamespace };\n}\n","const\n\tINSERT = 'insert',\n\tUPDATE = 'update',\n\tDELETE = 'delete',\n\tREVERSE = 'reverse',\n\tSHUFFLE = 'shuffle',\n\toMetaKey = Symbol('observable-meta-key'),\n\tvalidObservableOptionKeys = { async: 1 },\n\tvalidObserverOptionKeys = { path: 1, pathsOf: 1, pathsFrom: 1 },\n\tprocessObserveOptions = function processObserveOptions(options) {\n\t\tconst result = {};\n\t\tif (options.path !== undefined) {\n\t\t\tif (typeof options.path !== 'string' || options.path === '') {\n\t\t\t\tthrow new Error('\"path\" option, if/when provided, MUST be a non-empty string');\n\t\t\t}\n\t\t\tresult.path = options.path;\n\t\t}\n\t\tif (options.pathsOf !== undefined) {\n\t\t\tif (options.path) {\n\t\t\t\tthrow new Error('\"pathsOf\" option MAY NOT be specified together with \"path\" option');\n\t\t\t}\n\t\t\tif (typeof options.pathsOf !== 'string') {\n\t\t\t\tthrow new Error('\"pathsOf\" option, if/when provided, MUST be a string (MAY be empty)');\n\t\t\t}\n\t\t\tresult.pathsOf = options.pathsOf.split('.').filter(n => n);\n\t\t}\n\t\tif (options.pathsFrom !== undefined) {\n\t\t\tif (options.path || options.pathsOf) {\n\t\t\t\tthrow new Error('\"pathsFrom\" option MAY NOT be specified together with \"path\"/\"pathsOf\"  option/s');\n\t\t\t}\n\t\t\tif (typeof options.pathsFrom !== 'string' || options.pathsFrom === '') {\n\t\t\t\tthrow new Error('\"pathsFrom\" option, if/when provided, MUST be a non-empty string');\n\t\t\t}\n\t\t\tresult.pathsFrom = options.pathsFrom;\n\t\t}\n\t\tconst invalidOptions = Object.keys(options).filter(option => !validObserverOptionKeys.hasOwnProperty(option));\n\t\tif (invalidOptions.length) {\n\t\t\tthrow new Error(`'${invalidOptions.join(', ')}' is/are not a valid observer option/s`);\n\t\t}\n\t\treturn result;\n\t},\n\tobserve = function observe(observer, options) {\n\t\tif (typeof observer !== 'function') {\n\t\t\tthrow new Error(`observer MUST be a function, got '${observer}'`);\n\t\t}\n\n\t\tconst\n\t\t\toMeta = this[oMetaKey],\n\t\t\tobservers = oMeta.observers;\n\t\tif (!observers.some(o => o[0] === observer)) {\n\t\t\tlet opts;\n\t\t\tif (options) {\n\t\t\t\topts = processObserveOptions(options);\n\t\t\t} else {\n\t\t\t\topts = {};\n\t\t\t}\n\t\t\tobservers.push([observer, opts]);\n\t\t} else {\n\t\t\tconsole.warn('observer may be bound to an observable only once; will NOT rebind');\n\t\t}\n\t},\n\tunobserve = function unobserve() {\n\t\tconst oMeta = this[oMetaKey];\n\t\tconst observers = oMeta.observers;\n\t\tlet ol = observers.length;\n\t\tif (ol) {\n\t\t\tlet al = arguments.length;\n\t\t\tif (al) {\n\t\t\t\twhile (al--) {\n\t\t\t\t\tlet i = ol;\n\t\t\t\t\twhile (i--) {\n\t\t\t\t\t\tif (observers[i][0] === arguments[al]) {\n\t\t\t\t\t\t\tobservers.splice(i, 1);\n\t\t\t\t\t\t\tol--;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tobservers.splice(0);\n\t\t\t}\n\t\t}\n\t},\n\tpropertiesBluePrint = { [oMetaKey]: { value: null }, observe: { value: observe }, unobserve: { value: unobserve } },\n\tprepareObject = function prepareObject(source, oMeta) {\n\t\tpropertiesBluePrint[oMetaKey].value = oMeta;\n\t\tconst target = Object.defineProperties({}, propertiesBluePrint);\n\t\tfor (const key of Object.keys(source)) {\n\t\t\ttarget[key] = getObservedOf(source[key], key, oMeta);\n\t\t}\n\t\treturn target;\n\t},\n\tprepareArray = function prepareArray(source, oMeta) {\n\t\tlet i = 0, l = source.length;\n\t\tpropertiesBluePrint[oMetaKey].value = oMeta;\n\t\tconst target = Object.defineProperties(new Array(l), propertiesBluePrint);\n\t\tfor (; i < l; i++) {\n\t\t\ttarget[i] = getObservedOf(source[i], i, oMeta);\n\t\t}\n\t\treturn target;\n\t},\n\tprepareTypedArray = function prepareTypedArray(source, oMeta) {\n\t\tpropertiesBluePrint[oMetaKey].value = oMeta;\n\t\tObject.defineProperties(source, propertiesBluePrint);\n\t\treturn source;\n\t},\n\tfilterChanges = function filterChanges(options, changes) {\n\t\tlet result = changes;\n\t\tif (options.path) {\n\t\t\tconst oPath = options.path;\n\t\t\tresult = changes.filter(change =>\n\t\t\t\tchange.path.join('.') === oPath\n\t\t\t);\n\t\t} else if (options.pathsOf) {\n\t\t\tconst oPathsOf = options.pathsOf;\n\t\t\tresult = changes.filter(change =>\n\t\t\t\tchange.path.length === oPathsOf.length + 1 ||\n\t\t\t\t(change.path.length === oPathsOf.length && (change.type === REVERSE || change.type === SHUFFLE))\n\t\t\t);\n\t\t} else if (options.pathsFrom) {\n\t\t\tconst oPathsFrom = options.pathsFrom;\n\t\t\tresult = changes.filter(change =>\n\t\t\t\tchange.path.join('.').startsWith(oPathsFrom)\n\t\t\t);\n\t\t}\n\t\treturn result;\n\t},\n\tcallObserverSafe = function callObserverSafe(listener, changes) {\n\t\ttry {\n\t\t\tlistener(changes);\n\t\t} catch (e) {\n\t\t\tconsole.error(`failed to notify listener ${listener} with ${changes}`, e);\n\t\t}\n\t},\n\tcallObserversFromMT = function callObserversFromMT() {\n\t\tconst batches = this.batches;\n\t\tthis.batches = null;\n\t\tfor (const [listener, options] of batches) {\n\t\t\tcallObserverSafe(listener, options);\n\t\t}\n\t},\n\tcallObservers = function callObservers(oMeta, changes) {\n\t\tlet currentObservable = oMeta;\n\t\tlet observers, target, options, relevantChanges, i, newPath, tmp;\n\t\tconst l = changes.length;\n\t\tdo {\n\t\t\tobservers = currentObservable.observers;\n\t\t\ti = observers.length;\n\t\t\twhile (i--) {\n\t\t\t\t[target, options] = observers[i];\n\t\t\t\trelevantChanges = filterChanges(options, changes);\n\n\t\t\t\tif (relevantChanges.length) {\n\t\t\t\t\tif (currentObservable.options.async) {\n\t\t\t\t\t\t//\tthis is the async dispatch handling\n\t\t\t\t\t\tif (!currentObservable.batches) {\n\t\t\t\t\t\t\tcurrentObservable.batches = [];\n\t\t\t\t\t\t\tqueueMicrotask(callObserversFromMT.bind(currentObservable));\n\t\t\t\t\t\t}\n\t\t\t\t\t\tlet rb = currentObservable.batches.find(b => b[0] === target);\n\t\t\t\t\t\tif (!rb) {\n\t\t\t\t\t\t\trb = [target, []];\n\t\t\t\t\t\t\tcurrentObservable.batches.push(rb);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tArray.prototype.push.apply(rb[1], relevantChanges);\n\t\t\t\t\t} else {\n\t\t\t\t\t\t//\tthis is the naive straight forward synchronous dispatch\n\t\t\t\t\t\tcallObserverSafe(target, relevantChanges);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tlet tmpa;\n\t\t\tif (currentObservable.parent) {\n\t\t\t\ttmpa = new Array(l);\n\t\t\t\tfor (let i = 0; i < l; i++) {\n\t\t\t\t\ttmp = changes[i];\n\t\t\t\t\tnewPath = [currentObservable.ownKey, ...tmp.path];\n\t\t\t\t\ttmpa[i] = {\n\t\t\t\t\t\ttype: tmp.type,\n\t\t\t\t\t\tpath: newPath,\n\t\t\t\t\t\tvalue: tmp.value,\n\t\t\t\t\t\toldValue: tmp.oldValue,\n\t\t\t\t\t\tobject: tmp.object\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t\tchanges = tmpa;\n\t\t\t\tcurrentObservable = currentObservable.parent;\n\t\t\t} else {\n\t\t\t\tcurrentObservable = null;\n\t\t\t}\n\t\t} while (currentObservable);\n\t},\n\tgetObservedOf = function getObservedOf(item, key, parent) {\n\t\tif (!item || typeof item !== 'object') {\n\t\t\treturn item;\n\t\t} else if (Array.isArray(item)) {\n\t\t\treturn new ArrayOMeta({ target: item, ownKey: key, parent: parent }).proxy;\n\t\t} else if (ArrayBuffer.isView(item)) {\n\t\t\treturn new TypedArrayOMeta({ target: item, ownKey: key, parent: parent }).proxy;\n\t\t} else if (item instanceof Date || item instanceof Error) {\n\t\t\treturn item;\n\t\t} else {\n\t\t\treturn new ObjectOMeta({ target: item, ownKey: key, parent: parent }).proxy;\n\t\t}\n\t},\n\tproxiedPop = function proxiedPop() {\n\t\tconst oMeta = this[oMetaKey],\n\t\t\ttarget = oMeta.target,\n\t\t\tpoppedIndex = target.length - 1;\n\n\t\tlet popResult = target.pop();\n\t\tif (popResult && typeof popResult === 'object') {\n\t\t\tconst tmpObserved = popResult[oMetaKey];\n\t\t\tif (tmpObserved) {\n\t\t\t\tpopResult = tmpObserved.detach();\n\t\t\t}\n\t\t}\n\n\t\tconst changes = [{ type: DELETE, path: [poppedIndex], oldValue: popResult, object: this }];\n\t\tcallObservers(oMeta, changes);\n\n\t\treturn popResult;\n\t},\n\tproxiedPush = function proxiedPush() {\n\t\tconst\n\t\t\toMeta = this[oMetaKey],\n\t\t\ttarget = oMeta.target,\n\t\t\tl = arguments.length,\n\t\t\tpushContent = new Array(l),\n\t\t\tinitialLength = target.length;\n\n\t\tfor (let i = 0; i < l; i++) {\n\t\t\tpushContent[i] = getObservedOf(arguments[i], initialLength + i, oMeta);\n\t\t}\n\t\tconst pushResult = Reflect.apply(target.push, target, pushContent);\n\n\t\tconst changes = [];\n\t\tfor (let i = initialLength, l = target.length; i < l; i++) {\n\t\t\tchanges[i - initialLength] = { type: INSERT, path: [i], value: target[i], object: this };\n\t\t}\n\t\tcallObservers(oMeta, changes);\n\n\t\treturn pushResult;\n\t},\n\tproxiedShift = function proxiedShift() {\n\t\tconst\n\t\t\toMeta = this[oMetaKey],\n\t\t\ttarget = oMeta.target;\n\t\tlet shiftResult, i, l, item, tmpObserved;\n\n\t\tshiftResult = target.shift();\n\t\tif (shiftResult && typeof shiftResult === 'object') {\n\t\t\ttmpObserved = shiftResult[oMetaKey];\n\t\t\tif (tmpObserved) {\n\t\t\t\tshiftResult = tmpObserved.detach();\n\t\t\t}\n\t\t}\n\n\t\t//\tupdate indices of the remaining items\n\t\tfor (i = 0, l = target.length; i < l; i++) {\n\t\t\titem = target[i];\n\t\t\tif (item && typeof item === 'object') {\n\t\t\t\ttmpObserved = item[oMetaKey];\n\t\t\t\tif (tmpObserved) {\n\t\t\t\t\ttmpObserved.ownKey = i;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tconst changes = [{ type: DELETE, path: [0], oldValue: shiftResult, object: this }];\n\t\tcallObservers(oMeta, changes);\n\n\t\treturn shiftResult;\n\t},\n\tproxiedUnshift = function proxiedUnshift() {\n\t\tconst\n\t\t\toMeta = this[oMetaKey],\n\t\t\ttarget = oMeta.target,\n\t\t\tal = arguments.length,\n\t\t\tunshiftContent = new Array(al);\n\n\t\tfor (let i = 0; i < al; i++) {\n\t\t\tunshiftContent[i] = getObservedOf(arguments[i], i, oMeta);\n\t\t}\n\t\tconst unshiftResult = Reflect.apply(target.unshift, target, unshiftContent);\n\n\t\tfor (let i = 0, l = target.length, item; i < l; i++) {\n\t\t\titem = target[i];\n\t\t\tif (item && typeof item === 'object') {\n\t\t\t\tconst tmpObserved = item[oMetaKey];\n\t\t\t\tif (tmpObserved) {\n\t\t\t\t\ttmpObserved.ownKey = i;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t//\tpublish changes\n\t\tconst l = unshiftContent.length;\n\t\tconst changes = new Array(l);\n\t\tfor (let i = 0; i < l; i++) {\n\t\t\tchanges[i] = { type: INSERT, path: [i], value: target[i], object: this };\n\t\t}\n\t\tcallObservers(oMeta, changes);\n\n\t\treturn unshiftResult;\n\t},\n\tproxiedReverse = function proxiedReverse() {\n\t\tconst\n\t\t\toMeta = this[oMetaKey],\n\t\t\ttarget = oMeta.target;\n\t\tlet i, l, item;\n\n\t\ttarget.reverse();\n\t\tfor (i = 0, l = target.length; i < l; i++) {\n\t\t\titem = target[i];\n\t\t\tif (item && typeof item === 'object') {\n\t\t\t\tconst tmpObserved = item[oMetaKey];\n\t\t\t\tif (tmpObserved) {\n\t\t\t\t\ttmpObserved.ownKey = i;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tconst changes = [{ type: REVERSE, path: [], object: this }];\n\t\tcallObservers(oMeta, changes);\n\n\t\treturn this;\n\t},\n\tproxiedSort = function proxiedSort(comparator) {\n\t\tconst\n\t\t\toMeta = this[oMetaKey],\n\t\t\ttarget = oMeta.target;\n\t\tlet i, l, item;\n\n\t\ttarget.sort(comparator);\n\t\tfor (i = 0, l = target.length; i < l; i++) {\n\t\t\titem = target[i];\n\t\t\tif (item && typeof item === 'object') {\n\t\t\t\tconst tmpObserved = item[oMetaKey];\n\t\t\t\tif (tmpObserved) {\n\t\t\t\t\ttmpObserved.ownKey = i;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tconst changes = [{ type: SHUFFLE, path: [], object: this }];\n\t\tcallObservers(oMeta, changes);\n\n\t\treturn this;\n\t},\n\tproxiedFill = function proxiedFill(filVal, start, end) {\n\t\tconst\n\t\t\toMeta = this[oMetaKey],\n\t\t\ttarget = oMeta.target,\n\t\t\tchanges = [],\n\t\t\ttarLen = target.length,\n\t\t\tprev = target.slice(0);\n\t\tstart = start === undefined ? 0 : (start < 0 ? Math.max(tarLen + start, 0) : Math.min(start, tarLen));\n\t\tend = end === undefined ? tarLen : (end < 0 ? Math.max(tarLen + end, 0) : Math.min(end, tarLen));\n\n\t\tif (start < tarLen && end > start) {\n\t\t\ttarget.fill(filVal, start, end);\n\n\t\t\tlet tmpObserved;\n\t\t\tfor (let i = start, item, tmpTarget; i < end; i++) {\n\t\t\t\titem = target[i];\n\t\t\t\ttarget[i] = getObservedOf(item, i, oMeta);\n\t\t\t\tif (prev.hasOwnProperty(i)) {\n\t\t\t\t\ttmpTarget = prev[i];\n\t\t\t\t\tif (tmpTarget && typeof tmpTarget === 'object') {\n\t\t\t\t\t\ttmpObserved = tmpTarget[oMetaKey];\n\t\t\t\t\t\tif (tmpObserved) {\n\t\t\t\t\t\t\ttmpTarget = tmpObserved.detach();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tchanges.push({ type: UPDATE, path: [i], value: target[i], oldValue: tmpTarget, object: this });\n\t\t\t\t} else {\n\t\t\t\t\tchanges.push({ type: INSERT, path: [i], value: target[i], object: this });\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tcallObservers(oMeta, changes);\n\t\t}\n\n\t\treturn this;\n\t},\n\tproxiedCopyWithin = function proxiedCopyWithin(dest, start, end) {\n\t\tconst\n\t\t\toMeta = this[oMetaKey],\n\t\t\ttarget = oMeta.target,\n\t\t\ttarLen = target.length;\n\t\tdest = dest < 0 ? Math.max(tarLen + dest, 0) : dest;\n\t\tstart = start === undefined ? 0 : (start < 0 ? Math.max(tarLen + start, 0) : Math.min(start, tarLen));\n\t\tend = end === undefined ? tarLen : (end < 0 ? Math.max(tarLen + end, 0) : Math.min(end, tarLen));\n\t\tconst len = Math.min(end - start, tarLen - dest);\n\n\t\tif (dest < tarLen && dest !== start && len > 0) {\n\t\t\tconst\n\t\t\t\tprev = target.slice(0),\n\t\t\t\tchanges = [];\n\n\t\t\ttarget.copyWithin(dest, start, end);\n\n\t\t\tfor (let i = dest, nItem, oItem, tmpObserved; i < dest + len; i++) {\n\t\t\t\t//\tupdate newly placed observables, if any\n\t\t\t\tnItem = target[i];\n\t\t\t\tif (nItem && typeof nItem === 'object') {\n\t\t\t\t\tnItem = getObservedOf(nItem, i, oMeta);\n\t\t\t\t\ttarget[i] = nItem;\n\t\t\t\t}\n\n\t\t\t\t//\tdetach overridden observables, if any\n\t\t\t\toItem = prev[i];\n\t\t\t\tif (oItem && typeof oItem === 'object') {\n\t\t\t\t\ttmpObserved = oItem[oMetaKey];\n\t\t\t\t\tif (tmpObserved) {\n\t\t\t\t\t\toItem = tmpObserved.detach();\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (typeof nItem !== 'object' && nItem === oItem) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\tchanges.push({ type: UPDATE, path: [i], value: nItem, oldValue: oItem, object: this });\n\t\t\t}\n\n\t\t\tcallObservers(oMeta, changes);\n\t\t}\n\n\t\treturn this;\n\t},\n\tproxiedSplice = function proxiedSplice() {\n\t\tconst\n\t\t\toMeta = this[oMetaKey],\n\t\t\ttarget = oMeta.target,\n\t\t\tsplLen = arguments.length,\n\t\t\tspliceContent = new Array(splLen),\n\t\t\ttarLen = target.length;\n\n\t\t//\tobservify the newcomers\n\t\tfor (let i = 0; i < splLen; i++) {\n\t\t\tspliceContent[i] = getObservedOf(arguments[i], i, oMeta);\n\t\t}\n\n\t\t//\tcalculate pointers\n\t\tconst\n\t\t\tstartIndex = splLen === 0 ? 0 : (spliceContent[0] < 0 ? tarLen + spliceContent[0] : spliceContent[0]),\n\t\t\tremoved = splLen < 2 ? tarLen - startIndex : spliceContent[1],\n\t\t\tinserted = Math.max(splLen - 2, 0),\n\t\t\tspliceResult = Reflect.apply(target.splice, target, spliceContent),\n\t\t\tnewTarLen = target.length;\n\n\t\t//\treindex the paths\n\t\tlet tmpObserved;\n\t\tfor (let i = 0, item; i < newTarLen; i++) {\n\t\t\titem = target[i];\n\t\t\tif (item && typeof item === 'object') {\n\t\t\t\ttmpObserved = item[oMetaKey];\n\t\t\t\tif (tmpObserved) {\n\t\t\t\t\ttmpObserved.ownKey = i;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t//\tdetach removed objects\n\t\tlet i, l, item;\n\t\tfor (i = 0, l = spliceResult.length; i < l; i++) {\n\t\t\titem = spliceResult[i];\n\t\t\tif (item && typeof item === 'object') {\n\t\t\t\ttmpObserved = item[oMetaKey];\n\t\t\t\tif (tmpObserved) {\n\t\t\t\t\tspliceResult[i] = tmpObserved.detach();\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tconst changes = [];\n\t\tlet index;\n\t\tfor (index = 0; index < removed; index++) {\n\t\t\tif (index < inserted) {\n\t\t\t\tchanges.push({ type: UPDATE, path: [startIndex + index], value: target[startIndex + index], oldValue: spliceResult[index], object: this });\n\t\t\t} else {\n\t\t\t\tchanges.push({ type: DELETE, path: [startIndex + index], oldValue: spliceResult[index], object: this });\n\t\t\t}\n\t\t}\n\t\tfor (; index < inserted; index++) {\n\t\t\tchanges.push({ type: INSERT, path: [startIndex + index], value: target[startIndex + index], object: this });\n\t\t}\n\t\tcallObservers(oMeta, changes);\n\n\t\treturn spliceResult;\n\t},\n\tproxiedTypedArraySet = function proxiedTypedArraySet(source, offset) {\n\t\tconst\n\t\t\toMeta = this[oMetaKey],\n\t\t\ttarget = oMeta.target,\n\t\t\tsouLen = source.length,\n\t\t\tprev = target.slice(0);\n\t\toffset = offset || 0;\n\n\t\ttarget.set(source, offset);\n\t\tconst changes = new Array(souLen);\n\t\tfor (let i = offset; i < (souLen + offset); i++) {\n\t\t\tchanges[i - offset] = { type: UPDATE, path: [i], value: target[i], oldValue: prev[i], object: this };\n\t\t}\n\n\t\tcallObservers(oMeta, changes);\n\t},\n\tproxiedArrayMethods = {\n\t\tpop: proxiedPop,\n\t\tpush: proxiedPush,\n\t\tshift: proxiedShift,\n\t\tunshift: proxiedUnshift,\n\t\treverse: proxiedReverse,\n\t\tsort: proxiedSort,\n\t\tfill: proxiedFill,\n\t\tcopyWithin: proxiedCopyWithin,\n\t\tsplice: proxiedSplice\n\t},\n\tproxiedTypedArrayMethods = {\n\t\treverse: proxiedReverse,\n\t\tsort: proxiedSort,\n\t\tfill: proxiedFill,\n\t\tcopyWithin: proxiedCopyWithin,\n\t\tset: proxiedTypedArraySet\n\t};\n\nclass OMetaBase {\n\tconstructor(properties, cloningFunction) {\n\t\tconst { target, parent, ownKey } = properties;\n\t\tif (parent && ownKey !== undefined) {\n\t\t\tthis.parent = parent;\n\t\t\tthis.ownKey = ownKey;\n\t\t} else {\n\t\t\tthis.parent = null;\n\t\t\tthis.ownKey = null;\n\t\t}\n\t\tconst targetClone = cloningFunction(target, this);\n\t\tthis.observers = [];\n\t\tthis.revocable = Proxy.revocable(targetClone, this);\n\t\tthis.proxy = this.revocable.proxy;\n\t\tthis.target = targetClone;\n\t\tthis.options = this.processOptions(properties.options);\n\t}\n\n\tprocessOptions(options) {\n\t\tif (options) {\n\t\t\tif (typeof options !== 'object') {\n\t\t\t\tthrow new Error(`Observable options if/when provided, MAY only be an object, got '${options}'`);\n\t\t\t}\n\t\t\tconst invalidOptions = Object.keys(options).filter(option => !validObservableOptionKeys.hasOwnProperty(option));\n\t\t\tif (invalidOptions.length) {\n\t\t\t\tthrow new Error(`'${invalidOptions.join(', ')}' is/are not a valid Observable option/s`);\n\t\t\t}\n\t\t\treturn Object.assign({}, options);\n\t\t} else {\n\t\t\treturn {};\n\t\t}\n\t}\n\n\tdetach() {\n\t\tthis.parent = null;\n\t\treturn this.target;\n\t}\n\n\tset(target, key, value) {\n\t\tlet oldValue = target[key];\n\n\t\tif (value !== oldValue) {\n\t\t\tconst newValue = getObservedOf(value, key, this);\n\t\t\ttarget[key] = newValue;\n\n\t\t\tif (oldValue && typeof oldValue === 'object') {\n\t\t\t\tconst tmpObserved = oldValue[oMetaKey];\n\t\t\t\tif (tmpObserved) {\n\t\t\t\t\toldValue = tmpObserved.detach();\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tconst changes = oldValue === undefined\n\t\t\t\t? [{ type: INSERT, path: [key], value: newValue, object: this.proxy }]\n\t\t\t\t: [{ type: UPDATE, path: [key], value: newValue, oldValue: oldValue, object: this.proxy }];\n\t\t\tcallObservers(this, changes);\n\t\t}\n\n\t\treturn true;\n\t}\n\n\tdeleteProperty(target, key) {\n\t\tlet oldValue = target[key];\n\n\t\tdelete target[key];\n\n\t\tif (oldValue && typeof oldValue === 'object') {\n\t\t\tconst tmpObserved = oldValue[oMetaKey];\n\t\t\tif (tmpObserved) {\n\t\t\t\toldValue = tmpObserved.detach();\n\t\t\t}\n\t\t}\n\n\t\tconst changes = [{ type: DELETE, path: [key], oldValue: oldValue, object: this.proxy }];\n\t\tcallObservers(this, changes);\n\n\t\treturn true;\n\t}\n}\n\nclass ObjectOMeta extends OMetaBase {\n\tconstructor(properties) {\n\t\tsuper(properties, prepareObject);\n\t}\n}\n\nclass ArrayOMeta extends OMetaBase {\n\tconstructor(properties) {\n\t\tsuper(properties, prepareArray);\n\t}\n\n\tget(target, key) {\n\t\tif (proxiedArrayMethods.hasOwnProperty(key)) {\n\t\t\treturn proxiedArrayMethods[key];\n\t\t} else {\n\t\t\treturn target[key];\n\t\t}\n\t}\n}\n\nclass TypedArrayOMeta extends OMetaBase {\n\tconstructor(properties) {\n\t\tsuper(properties, prepareTypedArray);\n\t}\n\n\tget(target, key) {\n\t\tif (proxiedTypedArrayMethods.hasOwnProperty(key)) {\n\t\t\treturn proxiedTypedArrayMethods[key];\n\t\t} else {\n\t\t\treturn target[key];\n\t\t}\n\t}\n}\n\nclass Observable {\n\tconstructor() {\n\t\tthrow new Error('Observable MAY NOT be created via constructor, see \"Observable.from\" API');\n\t}\n\n\tstatic from(target, options) {\n\t\tif (!target || typeof target !== 'object') {\n\t\t\tthrow new Error('observable MAY ONLY be created from a non-null object');\n\t\t} else if (target[oMetaKey]) {\n\t\t\treturn target;\n\t\t} else if (Array.isArray(target)) {\n\t\t\treturn new ArrayOMeta({ target: target, ownKey: null, parent: null, options: options }).proxy;\n\t\t} else if (ArrayBuffer.isView(target)) {\n\t\t\treturn new TypedArrayOMeta({ target: target, ownKey: null, parent: null, options: options }).proxy;\n\t\t} else if (target instanceof Date || target instanceof Error) {\n\t\t\tthrow new Error(`${target} found to be one of a on-observable types`);\n\t\t} else {\n\t\t\treturn new ObjectOMeta({ target: target, ownKey: null, parent: null, options: options }).proxy;\n\t\t}\n\t}\n\n\tstatic isObservable(input) {\n\t\treturn !!(input && input[oMetaKey]);\n\t}\n}\n\nObject.freeze(Observable);\n\nexport { Observable };","import _g from \"./g\";\nexport default function utilsFactory(globals) {\n    const g = globals || _g;\n    const generateBareUrl = (type, integrationID) => `https://api.easybase.io/${type}/${integrationID}`;\n    const generateAuthBody = () => {\n        const stamp = Date.now();\n        return {\n            token: g.token,\n            token_time: ~~(g.session / (stamp % 64)),\n            now: stamp\n        };\n    };\n    function log(...params) {\n        if (g.options.logging) {\n            console.log(\"EASYBASE — \", ...params);\n        }\n    }\n    return {\n        generateAuthBody,\n        generateBareUrl,\n        log\n    };\n}\n","import { POST_TYPES } from \"./types\";\nimport _g from \"./g\";\nimport utilsFactory from \"./utils\";\nimport fetch from 'cross-fetch';\nexport default function authFactory(globals) {\n    const g = globals || _g;\n    const { generateBareUrl, generateAuthBody, log } = utilsFactory(g);\n    function _clearTokens() {\n        g.token = \"\";\n        g.refreshToken = \"\";\n        g.newTokenCallback();\n    }\n    const getUserAttributes = async () => {\n        try {\n            const attrsRes = await tokenPost(POST_TYPES.USER_ATTRIBUTES);\n            return attrsRes.data;\n        }\n        catch (error) {\n            log(error);\n            return error;\n        }\n    };\n    const setUserAttribute = async (key, value) => {\n        try {\n            const setAttrsRes = await tokenPost(POST_TYPES.SET_ATTRIBUTE, {\n                key,\n                value\n            });\n            return {\n                success: setAttrsRes.success,\n                message: JSON.stringify(setAttrsRes.data)\n            };\n        }\n        catch (error) {\n            return {\n                success: false,\n                message: error.message || \"Error\",\n                errorCode: error.errorCode || undefined\n            };\n        }\n    };\n    const forgotPassword = async (username, emailTemplate) => {\n        try {\n            const setAttrsRes = await tokenPost(POST_TYPES.FORGOT_PASSWORD_SEND, {\n                username,\n                emailTemplate\n            });\n            return {\n                success: setAttrsRes.success,\n                message: setAttrsRes.data\n            };\n        }\n        catch (error) {\n            return {\n                success: false,\n                message: error.message || \"Error\",\n                errorCode: error.errorCode || undefined\n            };\n        }\n    };\n    const forgotPasswordConfirm = async (code, username, newPassword) => {\n        try {\n            const setAttrsRes = await tokenPost(POST_TYPES.FORGOT_PASSWORD_CONFIRM, {\n                username,\n                code,\n                newPassword\n            });\n            return {\n                success: setAttrsRes.success,\n                message: setAttrsRes.data\n            };\n        }\n        catch (error) {\n            return {\n                success: false,\n                message: error.message || \"Error\",\n                errorCode: error.errorCode || undefined\n            };\n        }\n    };\n    const signUp = async (newUserID, password, userAttributes) => {\n        try {\n            const signUpRes = await tokenPost(POST_TYPES.SIGN_UP, {\n                newUserID,\n                password,\n                userAttributes\n            });\n            return {\n                success: signUpRes.success,\n                message: signUpRes.data\n            };\n        }\n        catch (error) {\n            return {\n                success: false,\n                message: error.message || \"Error\",\n                errorCode: error.errorCode || undefined\n            };\n        }\n    };\n    const signIn = async (userID, password) => {\n        const t1 = Date.now();\n        g.session = Math.floor(100000000 + Math.random() * 900000000);\n        const integrationType = g.ebconfig.integration.split(\"-\")[0].toUpperCase() === \"PROJECT\" ? \"PROJECT\" : \"REACT\";\n        try {\n            const res = await fetch(generateBareUrl(integrationType, g.integrationID), {\n                method: \"POST\",\n                headers: {\n                    'Eb-Post-Req': POST_TYPES.HANDSHAKE,\n                    'Accept': 'application/json',\n                    'Content-Type': 'application/json'\n                },\n                body: JSON.stringify({\n                    version: g.ebconfig.version,\n                    session: g.session,\n                    instance: g.instance,\n                    userID,\n                    password\n                })\n            });\n            const resData = await res.json();\n            if (resData.token) {\n                g.token = resData.token;\n                g.refreshToken = resData.refreshToken;\n                g.newTokenCallback();\n                g.mounted = true;\n                const validTokenRes = await tokenPost(POST_TYPES.VALID_TOKEN);\n                const elapsed = Date.now() - t1;\n                if (validTokenRes.success) {\n                    log(\"Valid auth initiation in \" + elapsed + \"ms\");\n                    return {\n                        success: true,\n                        message: \"Successfully signed in user\"\n                    };\n                }\n                else {\n                    return {\n                        success: false,\n                        message: \"Could not sign in user\"\n                    };\n                }\n            }\n            else {\n                return {\n                    success: false,\n                    message: \"Could not sign in user\",\n                    errorCode: resData.ErrorCode || undefined\n                };\n            }\n        }\n        catch (error) {\n            return {\n                success: false,\n                message: error.message || \"Could not sign in user\",\n                errorCode: error.errorCode || undefined\n            };\n        }\n    };\n    const resetUserPassword = async (newPassword) => {\n        if (typeof newPassword !== \"string\" || newPassword.length > 100) {\n            return {\n                success: false,\n                message: \"newPassword must be of type string\"\n            };\n        }\n        try {\n            const setAttrsRes = await tokenPost(POST_TYPES.RESET_PASSWORD, { newPassword });\n            return {\n                success: setAttrsRes.success,\n                message: JSON.stringify(setAttrsRes.data)\n            };\n        }\n        catch (error) {\n            return {\n                success: false,\n                message: error.message || \"Error\",\n                errorCode: error.errorCode || undefined\n            };\n        }\n    };\n    const isUserSignedIn = () => g.token.length > 0;\n    const signOut = () => {\n        g.token = \"\";\n        g.newTokenCallback();\n    };\n    const initAuth = async () => {\n        const t1 = Date.now();\n        g.session = Math.floor(100000000 + Math.random() * 900000000);\n        log(`Handshaking on${g.instance} instance`);\n        const integrationType = g.ebconfig.integration.split(\"-\")[0].toUpperCase() === \"PROJECT\" ? \"PROJECT\" : \"REACT\";\n        try {\n            const res = await fetch(generateBareUrl(integrationType, g.integrationID), {\n                method: \"POST\",\n                headers: {\n                    'Eb-Post-Req': POST_TYPES.HANDSHAKE,\n                    'Accept': 'application/json',\n                    'Content-Type': 'application/json'\n                },\n                body: JSON.stringify({\n                    version: g.ebconfig.version,\n                    tt: g.ebconfig.tt,\n                    session: g.session,\n                    instance: g.instance\n                })\n            });\n            const resData = await res.json();\n            if (resData.token) {\n                g.token = resData.token;\n                g.mounted = true;\n                const validTokenRes = await tokenPost(POST_TYPES.VALID_TOKEN);\n                const elapsed = Date.now() - t1;\n                if (validTokenRes.success) {\n                    log(\"Valid auth initiation in \" + elapsed + \"ms\");\n                    return true;\n                }\n                else {\n                    return false;\n                }\n            }\n            else {\n                return false;\n            }\n        }\n        catch (error) {\n            console.error(error);\n            return false;\n        }\n    };\n    const tokenPost = async (postType, body) => {\n        if (!g.mounted) {\n            await initAuth();\n        }\n        const integrationType = g.ebconfig.integration.split(\"-\")[0].toUpperCase() === \"PROJECT\" ? \"PROJECT\" : \"REACT\";\n        const res = await fetch(generateBareUrl(integrationType, g.integrationID), {\n            method: \"POST\",\n            headers: {\n                'Eb-Post-Req': postType,\n                'Accept': 'application/json',\n                'Content-Type': 'application/json'\n            },\n            body: JSON.stringify({\n                _auth: generateAuthBody(),\n                ...body\n            })\n        });\n        const resData = await res.json();\n        if ({}.hasOwnProperty.call(resData, 'ErrorCode') || {}.hasOwnProperty.call(resData, 'code')) {\n            if (resData.ErrorCode === \"TokenExpired\") {\n                if (integrationType === \"PROJECT\") {\n                    try {\n                        const req_res = await tokenPost(POST_TYPES.REQUEST_TOKEN, {\n                            refreshToken: g.refreshToken,\n                            token: g.token\n                        });\n                        if (req_res.success) {\n                            g.token = req_res.data.token;\n                            g.newTokenCallback();\n                            return tokenPost(postType, body);\n                        }\n                        else {\n                            throw new Error(req_res.data || \"Error\");\n                        }\n                    }\n                    catch (error) {\n                        _clearTokens();\n                        return {\n                            success: false,\n                            data: error.message || error\n                        };\n                    }\n                }\n                else {\n                    await initAuth();\n                }\n                return tokenPost(postType, body);\n            }\n            else {\n                const err = new Error(resData.body || resData.ErrorCode || resData.code || \"Error\");\n                err.errorCode = resData.ErrorCode || resData.code;\n                throw err;\n            }\n        }\n        else {\n            return {\n                success: resData.success,\n                data: resData.body\n            };\n        }\n    };\n    const tokenPostAttachment = async (formData, customHeaders) => {\n        if (!g.mounted) {\n            await initAuth();\n        }\n        const regularAuthbody = generateAuthBody();\n        const attachmentAuth = {\n            'Eb-token': regularAuthbody.token,\n            'Eb-token-time': regularAuthbody.token_time,\n            'Eb-now': regularAuthbody.now\n        };\n        const integrationType = g.ebconfig.integration.split(\"-\")[0].toUpperCase() === \"PROJECT\" ? \"PROJECT\" : \"REACT\";\n        const res = await fetch(generateBareUrl(integrationType, g.integrationID), {\n            method: \"POST\",\n            headers: {\n                'Eb-Post-Req': POST_TYPES.UPLOAD_ATTACHMENT,\n                ...customHeaders,\n                ...attachmentAuth\n            },\n            body: formData\n        });\n        const resData = await res.json();\n        if ({}.hasOwnProperty.call(resData, 'ErrorCode') || {}.hasOwnProperty.call(resData, 'code')) {\n            if (resData.ErrorCode === \"TokenExpired\") {\n                if (integrationType === \"PROJECT\") {\n                    try {\n                        const req_res = await tokenPost(POST_TYPES.REQUEST_TOKEN, {\n                            refreshToken: g.refreshToken,\n                            token: g.token\n                        });\n                        if (req_res.success) {\n                            g.token = req_res.data.token;\n                            g.newTokenCallback();\n                            return tokenPostAttachment(formData, customHeaders);\n                        }\n                        else {\n                            throw new Error(req_res.data || \"Error\");\n                        }\n                    }\n                    catch (error) {\n                        _clearTokens();\n                        return {\n                            success: false,\n                            data: error.message || error\n                        };\n                    }\n                }\n                else {\n                    await initAuth();\n                }\n                return tokenPostAttachment(formData, customHeaders);\n            }\n            else {\n                const err = new Error(resData.body || resData.ErrorCode || resData.code || \"Error\");\n                err.errorCode = resData.ErrorCode || resData.code;\n                throw err;\n            }\n        }\n        else {\n            return {\n                success: resData.success,\n                data: resData.body\n            };\n        }\n    };\n    return {\n        initAuth,\n        tokenPost,\n        tokenPostAttachment,\n        signUp,\n        setUserAttribute,\n        getUserAttributes,\n        isUserSignedIn,\n        signIn,\n        signOut,\n        resetUserPassword,\n        forgotPassword,\n        forgotPasswordConfirm\n    };\n}\n","import { POST_TYPES } from \"./types\";\nimport { gFactory } from \"./g\";\nimport deepEqual from \"fast-deep-equal\";\nimport { Observable } from \"./object-observer\";\nimport imageExtensions from \"./assets/image-extensions.json\";\nimport videoExtensions from \"./assets/video-extensions.json\";\nimport authFactory from \"./auth\";\nimport utilsFactory from \"./utils\";\nimport tableFactory from \"./table\";\nimport dbFactory from './db';\nexport default function EasybaseProvider({ ebconfig, options }) {\n    const g = gFactory();\n    const { tokenPost, tokenPostAttachment, signUp, setUserAttribute, getUserAttributes, isUserSignedIn, signIn, signOut, resetUserPassword, forgotPassword, forgotPasswordConfirm } = authFactory(g);\n    const { Query, fullTableSize, tableTypes } = tableFactory(g);\n    const { db, dbEventListener, e } = dbFactory(g);\n    const { log } = utilsFactory(g);\n    if (typeof ebconfig !== 'object' || ebconfig === null || ebconfig === undefined) {\n        console.error(\"No ebconfig object passed. do `import ebconfig from \\\"./ebconfig.js\\\"` and pass it to the Easybase provider\");\n        return;\n    }\n    else if (!ebconfig.integration) {\n        console.error(\"Invalid ebconfig object passed. Download ebconfig.js from Easybase.io and try again.\");\n        return;\n    }\n    // eslint-disable-next-line dot-notation\n    const isIE = typeof document !== 'undefined' && !!document['documentMode'];\n    if (isIE) {\n        console.error(\"EASYBASE — easybasejs does not support Internet Explorer. Please use a different browser.\");\n    }\n    g.options = { ...options };\n    g.integrationID = ebconfig.integration;\n    g.ebconfig = ebconfig;\n    if (g.ebconfig.tt && g.ebconfig.integration.split(\"-\")[0].toUpperCase() !== \"PROJECT\") {\n        g.mounted = false;\n    }\n    else {\n        g.mounted = true;\n    }\n    g.instance = \"Node\";\n    let _isFrameInitialized = true;\n    let _frameConfiguration = {\n        offset: 0,\n        limit: 0\n    };\n    const _observedChangeStack = [];\n    let _recordIdMap = new WeakMap();\n    let _observableFrame = {\n        observe: (_) => { },\n        unobserve: () => { }\n    };\n    let _frame = [];\n    let isSyncing = false;\n    function Frame(index) {\n        if (typeof index === \"number\") {\n            return _observableFrame[index];\n        }\n        else {\n            return _observableFrame;\n        }\n    }\n    const _recordIDExists = (record) => !!_recordIdMap.get(record);\n    const configureFrame = (options) => {\n        _frameConfiguration = { ..._frameConfiguration };\n        if (options.limit !== undefined)\n            _frameConfiguration.limit = options.limit;\n        if (options.offset !== undefined && options.offset >= 0)\n            _frameConfiguration.offset = options.offset;\n        if (options.tableName !== undefined)\n            _frameConfiguration.tableName = options.tableName;\n        _isFrameInitialized = false;\n        return {\n            message: \"Successfully configured frame. Run sync() for changes to be shown in frame\",\n            success: true\n        };\n    };\n    const currentConfiguration = () => ({ ..._frameConfiguration });\n    const deleteRecord = async (options) => {\n        const _frameRecord = _frame.find(ele => deepEqual(ele, options.record));\n        if (_frameRecord && _recordIdMap.get(_frameRecord)) {\n            const res = await tokenPost(POST_TYPES.SYNC_DELETE, {\n                _id: _recordIdMap.get(_frameRecord),\n                tableName: options.tableName\n            });\n            return {\n                success: res.success,\n                message: res.data\n            };\n        }\n        else {\n            try {\n                const res = await tokenPost(POST_TYPES.SYNC_DELETE, {\n                    record: options.record,\n                    tableName: options.tableName\n                });\n                return {\n                    success: res.success,\n                    message: res.data\n                };\n            }\n            catch (error) {\n                console.error(\"Easybase Error: deleteRecord failed \", error);\n                return {\n                    success: false,\n                    message: \"Easybase Error: deleteRecord failed \" + error,\n                    errorCode: error.errorCode || undefined\n                };\n            }\n        }\n    };\n    const addRecord = async (options) => {\n        const defaultValues = {\n            insertAtEnd: false,\n            newRecord: {},\n            tableName: undefined\n        };\n        const fullOptions = { ...defaultValues, ...options };\n        try {\n            const res = await tokenPost(POST_TYPES.SYNC_INSERT, fullOptions);\n            return {\n                message: res.data,\n                success: res.success\n            };\n        }\n        catch (error) {\n            console.error(\"Easybase Error: addRecord failed \", error);\n            return {\n                message: \"Easybase Error: addRecord failed \" + error,\n                success: false,\n                errorCode: error.errorCode || undefined\n            };\n        }\n    };\n    // Only allow the deletion of one element at a time\n    // First handle shifting of the array size. Then iterate\n    const sync = async () => {\n        const _realignFrames = (newData) => {\n            let isNewDataTheSame = true;\n            if (newData.length !== _frame.length) {\n                isNewDataTheSame = false;\n            }\n            else {\n                for (let i = 0; i < newData.length; i++) {\n                    const newDataNoId = { ...newData[i] };\n                    delete newDataNoId._id;\n                    if (!deepEqual(newDataNoId, _frame[i])) {\n                        isNewDataTheSame = false;\n                        break;\n                    }\n                }\n            }\n            if (!isNewDataTheSame) {\n                const oldframe = [..._frame];\n                oldframe.length = newData.length;\n                _recordIdMap = new WeakMap();\n                for (let i = 0; i < newData.length; i++) {\n                    const currNewEle = newData[i];\n                    _recordIdMap.set(currNewEle, currNewEle._id);\n                    delete currNewEle._id;\n                    oldframe[i] = currNewEle;\n                }\n                _frame = oldframe;\n                _observableFrame.unobserve();\n                _observableFrame = Observable.from(_frame);\n                _observableFrame.observe((allChanges) => {\n                    allChanges.forEach((change) => {\n                        _observedChangeStack.push({\n                            type: change.type,\n                            path: change.path,\n                            value: change.value,\n                            _id: _recordIdMap.get(_frame[Number(change.path[0])])\n                            // Not bringing change.object or change.oldValue\n                        });\n                        log(JSON.stringify({\n                            type: change.type,\n                            path: change.path,\n                            value: change.value,\n                            _id: _recordIdMap.get(_frame[Number(change.path[0])])\n                            // Not bringing change.object or change.oldValue\n                        }));\n                    });\n                });\n            }\n        };\n        if (isSyncing) {\n            return {\n                success: false,\n                message: \"Easybase Error: the provider is currently syncing, use 'await sync()' before calling sync() again\"\n            };\n        }\n        isSyncing = true;\n        if (_isFrameInitialized) {\n            if (_observedChangeStack.length > 0) {\n                log(\"Stack change: \", _observedChangeStack);\n                const res = await tokenPost(POST_TYPES.SYNC_STACK, {\n                    stack: _observedChangeStack,\n                    ..._frameConfiguration\n                });\n                if (res.success) {\n                    _observedChangeStack.length = 0;\n                }\n            }\n        }\n        try {\n            const res = await tokenPost(POST_TYPES.GET_FRAME, _frameConfiguration);\n            // Check if the array recieved from db is the same as frame\n            // If not, update it and send useFrameEffect\n            if (res.success === false) {\n                console.error(res.data);\n                isSyncing = false;\n                return {\n                    success: false,\n                    message: \"\" + res.data\n                };\n            }\n            else {\n                _isFrameInitialized = true;\n                _realignFrames(res.data);\n                isSyncing = false;\n                return {\n                    message: 'Success. Call frame for data',\n                    success: true\n                };\n            }\n        }\n        catch (error) {\n            console.error(\"Easybase Error: get failed \", error);\n            isSyncing = false;\n            return {\n                success: false,\n                message: \"Easybase Error: get failed \" + error,\n                errorCode: error.errorCode || undefined\n            };\n        }\n    };\n    const updateRecordImage = async (options) => {\n        const res = await _updateRecordAttachment(options, \"image\");\n        return res;\n    };\n    const updateRecordVideo = async (options) => {\n        const res = await _updateRecordAttachment(options, \"video\");\n        return res;\n    };\n    const updateRecordFile = async (options) => {\n        const res = await _updateRecordAttachment(options, \"file\");\n        return res;\n    };\n    const _updateRecordAttachment = async (options, type) => {\n        const _frameRecord = _frame.find(ele => deepEqual(ele, options.record));\n        if (_frameRecord === undefined || !_recordIDExists(_frameRecord)) {\n            log(\"Attempting to add attachment to a new record that has not been synced. Please sync() before trying to add attachment.\");\n            return {\n                success: false,\n                message: \"Attempting to add attachment to a new record that has not been synced. Please sync() before trying to add attachment.\"\n            };\n        }\n        const ext = options.attachment.name.split(\".\").pop().toLowerCase();\n        log(ext);\n        if (type === \"image\" && !imageExtensions.includes(ext)) {\n            return {\n                success: false,\n                message: \"Image files must have a proper image extension in the file name\"\n            };\n        }\n        if (type === \"video\" && !videoExtensions.includes(ext)) {\n            return {\n                success: false,\n                message: \"Video files must have a proper video extension in the file name\"\n            };\n        }\n        function isFileFromURI(f) {\n            return f.uri !== undefined;\n        }\n        const formData = new FormData();\n        if (isFileFromURI(options.attachment)) {\n            formData.append(\"file\", options.attachment);\n            formData.append(\"name\", options.attachment.name);\n        }\n        else {\n            formData.append(\"file\", options.attachment);\n            formData.append(\"name\", options.attachment.name);\n        }\n        const customHeaders = {\n            'Eb-upload-type': type,\n            'Eb-column-name': options.columnName,\n            'Eb-record-id': _recordIdMap.get(_frameRecord),\n            'Eb-table-name': options.tableName\n        };\n        const res = await tokenPostAttachment(formData, customHeaders);\n        await sync();\n        return {\n            message: res.data,\n            success: res.success\n        };\n    };\n    const c = {\n        /** +++ Will be deprecated */\n        configureFrame,\n        addRecord,\n        deleteRecord,\n        sync,\n        Frame,\n        currentConfiguration,\n        /** --- */\n        updateRecordImage,\n        updateRecordVideo,\n        updateRecordFile,\n        fullTableSize,\n        tableTypes,\n        Query,\n        isUserSignedIn,\n        signIn,\n        signOut,\n        signUp,\n        resetUserPassword,\n        setUserAttribute,\n        getUserAttributes,\n        db,\n        dbEventListener,\n        e,\n        forgotPassword,\n        forgotPasswordConfirm\n    };\n    return c;\n}\n","import { POST_TYPES } from \"./types\";\nimport _g from \"./g\";\nimport authFactory from \"./auth\";\nexport default function tableFactory(globals) {\n    const g = globals || _g;\n    const { tokenPost } = authFactory(g);\n    const Query = async (options) => {\n        const defaultOptions = {\n            queryName: \"\"\n        };\n        const fullOptions = { ...defaultOptions, ...options };\n        const res = await tokenPost(POST_TYPES.GET_QUERY, fullOptions);\n        if (res.success) {\n            return res.data;\n        }\n        else {\n            return [];\n        }\n    };\n    async function fullTableSize(tableName) {\n        const res = await tokenPost(POST_TYPES.TABLE_SIZE, tableName ? { tableName } : {});\n        if (res.success) {\n            return res.data;\n        }\n        else {\n            return 0;\n        }\n    }\n    async function tableTypes(tableName) {\n        const res = await tokenPost(POST_TYPES.COLUMN_TYPES, tableName ? { tableName } : {});\n        if (res.success) {\n            return res.data;\n        }\n        else {\n            return {};\n        }\n    }\n    return {\n        Query,\n        fullTableSize,\n        tableTypes\n    };\n}\n","import _g from \"./g\";\nimport easyqb from 'EasyQB';\nimport authFactory from \"./auth\";\nimport { POST_TYPES, DB_STATUS, EXECUTE_COUNT } from \"./types\";\nexport default function dbFactory(globals) {\n    const g = globals || _g;\n    const { tokenPost } = authFactory(g);\n    let _listenerIndex = 0;\n    const _listeners = {};\n    function _runListeners(...params) {\n        for (const cb of Object.values(_listeners)) {\n            cb(...params);\n        }\n    }\n    const dbEventListener = (callback) => {\n        const currKey = '' + _listenerIndex++;\n        _listeners[currKey] = callback;\n        return () => {\n            delete _listeners[currKey];\n        };\n    };\n    const allCallback = async (trx, tableName, userAssociatedRecordsOnly) => {\n        trx.count = \"all\";\n        trx.tableName = tableName;\n        if (userAssociatedRecordsOnly)\n            trx.userAssociatedRecordsOnly = userAssociatedRecordsOnly;\n        _runListeners(DB_STATUS.PENDING, trx.type, EXECUTE_COUNT.ALL, tableName !== \"untable\" ? tableName : null);\n        try {\n            const res = await tokenPost(POST_TYPES.EASY_QB, trx);\n            if (res.success) {\n                _runListeners(DB_STATUS.SUCCESS, trx.type, EXECUTE_COUNT.ALL, tableName !== \"untable\" ? tableName : null, res.data);\n                return res.data;\n            }\n            else {\n                _runListeners(DB_STATUS.ERROR, trx.type, EXECUTE_COUNT.ALL, tableName !== \"untable\" ? tableName : null);\n                return res;\n            }\n        }\n        catch (error) {\n            console.warn(error);\n            _runListeners(DB_STATUS.ERROR, trx.type, EXECUTE_COUNT.ALL, tableName !== \"untable\" ? tableName : null);\n            return [];\n        }\n    };\n    const oneCallback = async (trx, tableName, userAssociatedRecordsOnly) => {\n        trx.count = \"one\";\n        trx.tableName = tableName;\n        if (userAssociatedRecordsOnly)\n            trx.userAssociatedRecordsOnly = userAssociatedRecordsOnly;\n        _runListeners(DB_STATUS.PENDING, trx.type, EXECUTE_COUNT.ONE, tableName !== \"untable\" ? tableName : null);\n        try {\n            const res = await tokenPost(POST_TYPES.EASY_QB, trx);\n            if (res.success) {\n                _runListeners(DB_STATUS.SUCCESS, trx.type, EXECUTE_COUNT.ONE, tableName !== \"untable\" ? tableName : null, res.data);\n                return res.data;\n            }\n            else {\n                _runListeners(DB_STATUS.ERROR, trx.type, EXECUTE_COUNT.ONE, tableName !== \"untable\" ? tableName : null);\n                return res;\n            }\n        }\n        catch (error) {\n            console.warn(error);\n            _runListeners(DB_STATUS.ERROR, trx.type, EXECUTE_COUNT.ONE, tableName !== \"untable\" ? tableName : null);\n            return {};\n        }\n    };\n    const db = (tableName, userAssociatedRecordsOnly) => {\n        if (tableName && typeof tableName === \"string\") {\n            return easyqb({ allCallback, oneCallback, userAssociatedRecordsOnly, tableName: tableName.toUpperCase() })(tableName.replace(/[^0-9a-zA-Z]/g, '_').toUpperCase());\n        }\n        else {\n            return easyqb({ allCallback, oneCallback, userAssociatedRecordsOnly, tableName: \"untable\" })(\"untable\");\n        }\n    };\n    return {\n        db,\n        dbEventListener,\n        e: easyqb().e\n    };\n}\n","import fetch from 'cross-fetch';\nexport { default as EasybaseProvider } from \"./EasybaseProvider/EasybaseProvider\";\nconst generateBareUrl = (type, integrationID) => `https://api.easybase.io/${type}/${integrationID}`;\nconst isBadInt = (my_int) => my_int !== undefined && my_int !== null && Math.floor(my_int) !== my_int;\nconst isBadString = (my_string) => my_string !== undefined && my_string !== null && typeof my_string !== \"string\";\nconst isBadIntegrationID = (my_string) => my_string === undefined || my_string === null || typeof my_string !== \"string\";\nconst isBadObject = (my_obj) => my_obj !== undefined && my_obj !== null && typeof my_obj !== \"object\";\nconst isBadBool = (my_bool) => my_bool !== undefined && my_bool !== null && typeof my_bool !== \"boolean\";\n/**\n *\n * @param {GetOptions} options GetOptions.\n * @returns {Promise<Array>} Array of records.\n *\n */\nexport function get(options) {\n    const defaultOptions = {\n        integrationID: \"\",\n        offset: undefined,\n        limit: undefined,\n        authentication: undefined,\n        customQuery: undefined\n    };\n    const { integrationID, offset, limit, authentication, customQuery } = { ...defaultOptions, ...options };\n    if (isBadIntegrationID(integrationID))\n        throw new Error(\"integrationID is required and must be a string\");\n    if (isBadInt(offset))\n        throw new Error(\"offset must be an integer\");\n    if (isBadInt(limit))\n        throw new Error(\"limit must be an integer\");\n    if (isBadString(authentication))\n        throw new Error(\"authentication must be a string or null\");\n    if (isBadObject(customQuery))\n        throw new Error(\"customQuery must be an object or null\");\n    return new Promise((resolve, reject) => {\n        try {\n            let fetch_body = {};\n            if (typeof customQuery === \"object\")\n                fetch_body = { ...customQuery };\n            if (offset !== undefined)\n                fetch_body.offset = offset;\n            if (limit !== undefined)\n                fetch_body.limit = limit;\n            if (authentication !== undefined)\n                fetch_body.authentication = authentication;\n            fetch(generateBareUrl('get', integrationID), {\n                method: \"POST\",\n                body: JSON.stringify(fetch_body),\n                headers: {\n                    'Accept': 'application/json',\n                    'Content-Type': 'application/json'\n                }\n            })\n                .then(res => res.json())\n                .then(resData => {\n                if ({}.hasOwnProperty.call(resData, 'ErrorCode')) {\n                    console.error(resData.message);\n                    resolve([resData.message]);\n                }\n                else\n                    resolve(resData);\n            });\n        }\n        catch (err) {\n            reject(err);\n        }\n    });\n}\n/**\n *\n * @param {PostOptions} options PostOptions\n * @returns {Promise<String>} Post status.\n *\n */\nexport function post(options) {\n    const defaultValues = {\n        integrationID: \"\",\n        newRecord: undefined,\n        authentication: undefined,\n        insertAtEnd: undefined\n    };\n    const { integrationID, newRecord, authentication, insertAtEnd } = { ...defaultValues, ...options };\n    if (isBadIntegrationID(integrationID))\n        throw new Error(\"integrationID is required and must be a string\");\n    if (isBadObject(newRecord))\n        throw new Error(\"newRecord is required and must be a string\");\n    if (isBadString(authentication))\n        throw new Error(\"authentication must be a string or null\");\n    if (isBadBool(insertAtEnd))\n        throw new Error(\"insertAtEnd must be a boolean or null\");\n    return new Promise((resolve, reject) => {\n        try {\n            const fetch_body = { ...newRecord };\n            if (authentication !== undefined)\n                fetch_body.authentication = authentication;\n            if (insertAtEnd !== undefined)\n                fetch_body.insertAtEnd = insertAtEnd;\n            fetch(generateBareUrl('post', integrationID), {\n                method: \"POST\",\n                body: JSON.stringify(fetch_body),\n                headers: {\n                    'Accept': 'application/json',\n                    'Content-Type': 'application/json'\n                }\n            })\n                .then(res => res.json())\n                .then(resData => {\n                if ({}.hasOwnProperty.call(resData, 'ErrorCode'))\n                    console.error(resData.message);\n                resolve(resData);\n            });\n        }\n        catch (err) {\n            reject(err);\n        }\n    });\n}\n/**\n *\n * @param {UpdateOptions} options UpdateOptions\n * @returns {Promise<String>} Update status.\n */\nexport function update(options) {\n    const defaultValues = {\n        integrationID: \"\",\n        updateValues: undefined,\n        authentication: undefined,\n        customQuery: undefined\n    };\n    const { integrationID, updateValues, authentication, customQuery } = { ...defaultValues, ...options };\n    if (isBadIntegrationID(integrationID))\n        throw new Error(\"integrationID is required and must be a string\");\n    if (isBadObject(updateValues) || updateValues === undefined)\n        throw new Error(\"updateValues is required and must be a string\");\n    if (isBadString(authentication))\n        throw new Error(\"authentication must be a string or null\");\n    if (isBadObject(customQuery))\n        throw new Error(\"customQuery must be an object or null\");\n    return new Promise((resolve, reject) => {\n        try {\n            const fetch_body = { updateValues, ...customQuery };\n            if (authentication !== undefined)\n                fetch_body.authentication = authentication;\n            fetch(generateBareUrl('update', integrationID), {\n                method: \"POST\",\n                body: JSON.stringify(fetch_body),\n                headers: {\n                    'Accept': 'application/json',\n                    'Content-Type': 'application/json'\n                }\n            })\n                .then(res => res.json())\n                .then(resData => {\n                if ({}.hasOwnProperty.call(resData, 'ErrorCode'))\n                    console.error(resData.message);\n                resolve(resData.message);\n            });\n        }\n        catch (err) {\n            reject(err);\n        }\n    });\n}\n/**\n *\n * @param {DeleteOptions} options DeleteOptions\n * @return {Promise<String>} Delete status.\n */\nexport function Delete(options) {\n    const defaultValues = {\n        integrationID: \"\",\n        authentication: undefined,\n        customQuery: undefined\n    };\n    const { integrationID, authentication, customQuery } = { ...defaultValues, ...options };\n    if (isBadIntegrationID(integrationID))\n        throw new Error(\"integrationID is required and must be a string\");\n    if (isBadString(authentication))\n        throw new Error(\"authentication must be a string or null\");\n    if (isBadObject(customQuery))\n        throw new Error(\"customQuery must be an object or null\");\n    return new Promise((resolve, reject) => {\n        try {\n            const fetch_body = { ...customQuery };\n            if (authentication !== undefined)\n                fetch_body.authentication = authentication;\n            fetch(generateBareUrl('delete', integrationID), {\n                method: \"POST\",\n                body: JSON.stringify(fetch_body),\n                headers: {\n                    'Accept': 'application/json',\n                    'Content-Type': 'application/json'\n                }\n            })\n                .then(res => res.json())\n                .then(resData => {\n                if ({}.hasOwnProperty.call(resData, 'ErrorCode'))\n                    console.error(resData.message);\n                resolve(resData.message);\n            });\n        }\n        catch (err) {\n            reject(err);\n        }\n    });\n}\n/**\n * @async\n * Call a cloud function, created in Easybase interface.\n * @param {string} route Route as detailed in Easybase. Found under 'Deploy'. Will be in the form of ####...####-function-name.\n * @param {Record<string, any>} postBody Optional object to pass as the body of the POST request. This object will available in your cloud function's event.body.\n * @return {Promise<string>} Response from your cloud function. Detailed with a call to 'return context.succeed(\"RESPONSE\")'.\n */\nexport async function callFunction(route, postBody) {\n    const res = await fetch(generateBareUrl('function', route.split(\"/\").pop()), {\n        method: \"POST\",\n        headers: {\n            'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(postBody) || \"\"\n    });\n    const rawDataText = await res.text();\n    return rawDataText;\n}\n"],"sourceRoot":""}